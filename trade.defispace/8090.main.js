(self.webpackChunkmy_swap=self.webpackChunkmy_swap||[]).push([[8090],{85078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(70655),o=r(2403),s=function(){function e(){this._semaphore=new o.default(1)}return e.prototype.acquire=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return[4,this._semaphore.acquire()];case 1:return[2,e.sent()[1]]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();t.default=s},2403:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(70655),o=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),r=new Promise((function(t){return e._queue.push(t)}));return t||this._dispatch(),r},e.prototype.runExclusive=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r,o;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,this.acquire()];case 1:t=n.sent(),r=t[0],o=t[1],n.label=2;case 2:return n.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,n.sent()];case 4:return o(),[7];case 5:return[2]}}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},e}();t.default=o},48125:(e,t,r)=>{"use strict";t.WU=void 0;var n=r(85078);Object.defineProperty(t,"WU",{enumerable:!0,get:function(){return n.default}});r(2403),r(41960)},41960:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=void 0;var n=r(70655);t.withTimeout=function(e,t,r){var o=this;return void 0===r&&(r=new Error("timeout")),{acquire:function(){return new Promise((function(s,i){return n.__awaiter(o,void 0,void 0,(function(){var o,a;return n.__generator(this,(function(n){switch(n.label){case 0:return o=!1,setTimeout((function(){o=!0,i(r)}),t),[4,e.acquire()];case 1:return a=n.sent(),o?(Array.isArray(a)?a[1]:a)():s(a),[2]}}))}))}))},runExclusive:function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r;return n.__generator(this,(function(n){switch(n.label){case 0:t=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(t=r[1],[4,e(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return t=r,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}}))}))},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}},53786:e=>{"use strict";const t=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];return new r(((r,o)=>{t.errorFirst?n.push((function(e,n){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),o(t)):r(t)}else e?o(e):r(n)})):n.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)})),e.apply(this,n)}))};e.exports=(e,r)=>{r=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r);const n=e=>{const t=t=>"string"==typeof t?e===t:t.test(e);return r.include?r.include.some(t):!r.exclude.some(t)};let o;o="function"==typeof e?function(){return r.excludeMain?e.apply(this,arguments):t(e,r).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const s in e){const i=e[s];o[s]="function"==typeof i&&n(s)?t(i,r):i}return o}},55850:(e,t,r)=>{r(75682),r(53786);const n=r(37253),o=(e,t)=>e+t,s=["sync","latest"];function i(e){return Number.parseInt(e,16)}e.exports=class extends n{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise((e=>this.once("latest",e)))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){s.includes(e)&&this._maybeStart()}_onRemoveListener(e,t){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return s.map((e=>this.listenerCount(e))).reduce(o)}_newPotentialLatest(e){const t=this._currentBlock;t&&i(e)<=i(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}},75012:(e,t,r)=>{const n=r(53786),o=r(55850);function s(e,t){return new Promise((r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()}))}e.exports=class extends o{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const t=e.pollingInterval||2e4,r=e.retryTimeout||t/10,n=void 0===e.keepEventLoopActive||e.keepEventLoopActive,o=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=o}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch((e=>this.emit("error",e)))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await s(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const t=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${e.stack}`);try{this.emit("error",t)}catch(e){console.error(t)}await s(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const t=await n((t=>this._provider.sendAsync(e,t)))();if(t.error)throw new Error(`PollingBlockTracker - encountered error fetching block:\n${t.error}`);return t.result}}},23256:(e,t,r)=>{const n=r(76622);e.exports=class extends n{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}},76622:(e,t,r)=>{const n=r(19394).default;e.exports=class extends n{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach((e=>this.emit("update",e)))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}},72785:(e,t,r)=>{const n=r(76622),o=r(40207),{incrementHexInt:s}=r(98112);e.exports=class extends n{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const r=t,n=s(e),i=(await o({provider:this.provider,fromBlock:n,toBlock:r})).map((e=>e.hash));this.addResults(i)}}},40207:e=>{function t(e){return null==e?e:Number.parseInt(e,16)}function r(e){return null==e?e:"0x"+e.toString(16)}e.exports=async function({provider:e,fromBlock:n,toBlock:o}){n||(n=o);const s=t(n),i=t(o),a=Array(i-s+1).fill().map(((e,t)=>s+t)).map(r);return await Promise.all(a.map((t=>function(e,t,r){return new Promise(((t,n)=>{e.sendAsync({id:1,jsonrpc:"2.0",method:"eth_getBlockByNumber",params:r},((e,r)=>{if(e)return n(e);t(r.result)}))}))}(e,0,[t,!1]))))}},98112:e=>{function t(e){return e.sort(((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:r(e)-r(t)))}function r(e){return null==e?e:Number.parseInt(e,16)}function n(e){if(null==e)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function o(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:function(...e){return t(e)[0]},maxBlockRef:function(...e){const r=t(e);return r[r.length-1]},sortBlockRefs:t,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:r,incrementHexInt:function(e){return null==e?e:n(r(e)+1)},intToHex:n,unsafeRandomBytes:function(e){let t="0x";for(let r=0;r<e;r++)t+=o(),t+=o();return t}}},98406:(e,t,r)=>{const n=r(48125).WU,{createAsyncMiddleware:o}=r(88625),s=r(57688),i=r(81663),a=r(72785),c=r(25792),{intToHex:u,hexToInt:l}=r(98112);function p(e){return h((async(...t)=>{const r=await e(...t);return u(r.id)}))}function h(e){return o((async(t,r)=>{const n=await e.apply(null,t.params);r.result=n}))}function d(e,t){const r=[];for(let t in e)r.push(e[t]);return r}e.exports=function({blockTracker:e,provider:t}){let r=0,o={};const f=new n,y=function({mutex:e}){return t=>async(r,n,o,s)=>{(await e.acquire())(),t(r,n,o,s)}}({mutex:f}),m=s({eth_newFilter:y(p(g)),eth_newBlockFilter:y(p(w)),eth_newPendingTransactionFilter:y(p(k)),eth_uninstallFilter:y(h(b)),eth_getFilterChanges:y(h(v)),eth_getFilterLogs:y(h(B))}),_=async({oldBlock:e,newBlock:t})=>{if(0===o.length)return;const r=await f.acquire();try{await Promise.all(d(o).map((async r=>{try{await r.update({oldBlock:e,newBlock:t})}catch(e){console.error(e)}})))}catch(e){console.error(e)}r()};return m.newLogFilter=g,m.newBlockFilter=w,m.newPendingTransactionFilter=k,m.uninstallFilter=b,m.getFilterChanges=v,m.getFilterLogs=B,m.destroy=()=>{!async function(){const e=d(o).length;o={},x({prevFilterCount:e,newFilterCount:0})}()},m;async function g(e){const r=new i({provider:t,params:e});return await R(r),r}async function w(){const e=new a({provider:t});return await R(e),e}async function k(){const e=new c({provider:t});return await R(e),e}async function v(e){const t=l(e),r=o[t];if(!r)throw new Error(`No filter for index "${t}"`);return r.getChangesAndClear()}async function B(e){const t=l(e),r=o[t];if(!r)throw new Error(`No filter for index "${t}"`);return"log"===r.type?results=r.getAllResults():results=[],results}async function b(e){const t=l(e),r=o[t],n=Boolean(r);return n&&await async function(e){const t=d(o).length;delete o[e];x({prevFilterCount:t,newFilterCount:d(o).length})}(t),n}async function R(t){const n=d(o).length,s=await e.getLatestBlock();return await t.initialize({currentBlock:s}),r++,o[r]=t,t.id=r,t.idHex=u(r),x({prevFilterCount:n,newFilterCount:d(o).length}),r}function x({prevFilterCount:t,newFilterCount:r}){0===t&&r>0?e.on("sync",_):t>0&&0===r&&e.removeListener("sync",_)}}},81663:(e,t,r)=>{const n=r(75682),o=r(6417),s=r(23256),{bnToHex:i,hexToInt:a,incrementHexInt:c,minBlockRef:u,blockRefIsNumber:l}=r(98112);e.exports=class extends s{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new n(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map((e=>e.toLowerCase())))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t;const r=u(this.params.toBlock,e),n=Object.assign({},this.params,{toBlock:r}),o=await this._fetchLogs(n);this.addInitialResults(o)}async update({oldBlock:e,newBlock:t}){const r=t;let n;n=e?c(e):t;const o=Object.assign({},this.params,{fromBlock:n,toBlock:r}),s=(await this._fetchLogs(o)).filter((e=>this.matchLog(e)));this.addResults(s)}async _fetchLogs(e){return await o((t=>this.ethQuery.getLogs(e,t)))()}matchLog(e){if(a(this.params.fromBlock)>=a(e.blockNumber))return!1;if(l(this.params.toBlock)&&a(this.params.toBlock)<=a(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();return!(this.params.address&&t&&!this.params.address.includes(t))&&this.params.topics.every(((t,r)=>{let n=e.topics[r];if(!n)return!1;n=n.toLowerCase();let o=Array.isArray(t)?t:[t];return!!o.includes(null)||(o=o.map((e=>e.toLowerCase())),o.includes(n))}))}}},6417:e=>{"use strict";const t=(e,t,r,n)=>function(...o){return new(0,t.promiseModule)(((s,i)=>{t.multiArgs?o.push(((...e)=>{t.errorFirst?e[0]?i(e):(e.shift(),s(e)):s(e)})):t.errorFirst?o.push(((e,t)=>{e?i(e):s(t)})):o.push(s);const a=this===r?n:this;Reflect.apply(e,a,o)}))},r=new WeakMap;e.exports=(e,n)=>{n={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...n};const o=typeof e;if(null===e||"object"!==o&&"function"!==o)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":o}\``);const s=new WeakMap,i=new Proxy(e,{apply(e,r,o){const a=s.get(e);if(a)return Reflect.apply(a,r,o);const c=n.excludeMain?e:t(e,n,i,e);return s.set(e,c),Reflect.apply(c,r,o)},get(e,o){const a=e[o];if(!((e,t)=>{let o=r.get(e);if(o||(o={},r.set(e,o)),t in o)return o[t];const s=e=>"string"==typeof e||"symbol"==typeof t?t===e:e.test(t),i=Reflect.getOwnPropertyDescriptor(e,t),a=void 0===i||i.writable||i.configurable,c=(n.include?n.include.some(s):!n.exclude.some(s))&&a;return o[t]=c,c})(e,o)||a===Function.prototype[o])return a;const c=s.get(a);if(c)return c;if("function"==typeof a){const r=t(a,n,i,e);return s.set(a,r),r}return a}});return i}},68961:(e,t,r)=>{const n=r(19394).default,o=r(57688),{createAsyncMiddleware:s}=r(88625),i=r(98406),{unsafeRandomBytes:a,incrementHexInt:c}=r(98112),u=r(40207);function l(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=function({blockTracker:e,provider:t}){const r={},p=i({blockTracker:e,provider:t});let h=!1;const d=new n,f=o({eth_subscribe:s((async function(n,o){if(h)throw new Error("SubscriptionManager - attempting to use after destroying");const s=n.params[0],i=a(16);let d;switch(s){case"newHeads":d=function({subId:r}){const n={type:s,destroy:async()=>{e.removeListener("sync",n.update)},update:async({oldBlock:e,newBlock:n})=>{const o=n,s=c(e);(await u({provider:t,fromBlock:s,toBlock:o})).map(l).forEach((e=>{y(r,e)}))}};return e.on("sync",n.update),n}({subId:i});break;case"logs":const r=n.params[1];d=function({subId:e,filter:t}){return t.on("update",(t=>y(e,t))),{type:s,destroy:async()=>await p.uninstallFilter(t.idHex)}}({subId:i,filter:await p.newLogFilter(r)});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${s}"`)}return r[i]=d,void(o.result=i)})),eth_unsubscribe:s((async function(e,t){if(h)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0],o=r[n];o?(delete r[n],await o.destroy(),t.result=!0):t.result=!1}))});return f.destroy=function(){d.removeAllListeners();for(const e in r)r[e].destroy(),delete r[e];h=!0},{events:d,middleware:f};function y(e,t){d.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}},25792:(e,t,r)=>{const n=r(76622),o=r(40207),{incrementHexInt:s}=r(98112);e.exports=class extends n{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=s(e),n=await o({provider:this.provider,fromBlock:r,toBlock:t}),i=[];for(const e of n)i.push(...e.transactions);this.addResults(i)}}},59721:e=>{e.exports=function(e){return(t,r,n,o)=>{const s=e[t.method];return void 0===s?n():"function"==typeof s?s(t,r,n,o):(r.result=s,o())}}},57688:(e,t,r)=>{e.exports=r(59721)},75682:(e,t,r)=>{const n=r(47529),o=r(23420)();function s(e){this.currentProvider=e}function i(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function a(e,t){return function(){const r=this;var n=[].slice.call(arguments),o=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},o)}}e.exports=s,s.prototype.getBalance=a(2,"eth_getBalance"),s.prototype.getCode=a(2,"eth_getCode"),s.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),s.prototype.getStorageAt=a(3,"eth_getStorageAt"),s.prototype.call=a(2,"eth_call"),s.prototype.protocolVersion=i("eth_protocolVersion"),s.prototype.syncing=i("eth_syncing"),s.prototype.coinbase=i("eth_coinbase"),s.prototype.mining=i("eth_mining"),s.prototype.hashrate=i("eth_hashrate"),s.prototype.gasPrice=i("eth_gasPrice"),s.prototype.accounts=i("eth_accounts"),s.prototype.blockNumber=i("eth_blockNumber"),s.prototype.getBlockTransactionCountByHash=i("eth_getBlockTransactionCountByHash"),s.prototype.getBlockTransactionCountByNumber=i("eth_getBlockTransactionCountByNumber"),s.prototype.getUncleCountByBlockHash=i("eth_getUncleCountByBlockHash"),s.prototype.getUncleCountByBlockNumber=i("eth_getUncleCountByBlockNumber"),s.prototype.sign=i("eth_sign"),s.prototype.sendTransaction=i("eth_sendTransaction"),s.prototype.sendRawTransaction=i("eth_sendRawTransaction"),s.prototype.estimateGas=i("eth_estimateGas"),s.prototype.getBlockByHash=i("eth_getBlockByHash"),s.prototype.getBlockByNumber=i("eth_getBlockByNumber"),s.prototype.getTransactionByHash=i("eth_getTransactionByHash"),s.prototype.getTransactionByBlockHashAndIndex=i("eth_getTransactionByBlockHashAndIndex"),s.prototype.getTransactionByBlockNumberAndIndex=i("eth_getTransactionByBlockNumberAndIndex"),s.prototype.getTransactionReceipt=i("eth_getTransactionReceipt"),s.prototype.getUncleByBlockHashAndIndex=i("eth_getUncleByBlockHashAndIndex"),s.prototype.getUncleByBlockNumberAndIndex=i("eth_getUncleByBlockNumberAndIndex"),s.prototype.getCompilers=i("eth_getCompilers"),s.prototype.compileLLL=i("eth_compileLLL"),s.prototype.compileSolidity=i("eth_compileSolidity"),s.prototype.compileSerpent=i("eth_compileSerpent"),s.prototype.newFilter=i("eth_newFilter"),s.prototype.newBlockFilter=i("eth_newBlockFilter"),s.prototype.newPendingTransactionFilter=i("eth_newPendingTransactionFilter"),s.prototype.uninstallFilter=i("eth_uninstallFilter"),s.prototype.getFilterChanges=i("eth_getFilterChanges"),s.prototype.getFilterLogs=i("eth_getFilterLogs"),s.prototype.getLogs=i("eth_getLogs"),s.prototype.getWork=i("eth_getWork"),s.prototype.submitWork=i("eth_submitWork"),s.prototype.submitHashrate=i("eth_submitHashrate"),s.prototype.sendAsync=function(e,t){var r;this.currentProvider.sendAsync((r=e,n({id:o(),jsonrpc:"2.0",params:[]},r)),(function(e,r){if(!e&&r.error&&(e=new Error("EthQuery - RPC Error - "+r.error.message)),e)return t(e);t(null,r.result)}))}},17398:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const o=n(r(19394)),s=r(79826);class i extends o.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[o,s,a]=await i._runAllMiddleware(e,t,this._middleware);return s?(await i._runReturnHandlers(a),n(o)):r((async e=>{try{await i._runReturnHandlers(a)}catch(t){return e(t)}return e()}))}catch(e){return n(e)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let o=null;try{await this._processRequest(r,n)}catch(e){o=e}return o&&(delete n.result,n.error||(n.error=s.serializeError(o))),t(o,n)}async _processRequest(e,t){const[r,n,o]=await i._runAllMiddleware(e,t,this._middleware);if(i._checkForCompletion(e,t,n),await i._runReturnHandlers(o),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let o=null,s=!1;for(const a of r)if([o,s]=await i._runMiddleware(e,t,a,n),s)break;return[o,s,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((o=>{const i=e=>{const r=e||t.error;r&&(t.error=s.serializeError(r)),o([r,!0])},c=r=>{t.error?i(t.error):(r&&("function"!=typeof r&&i(new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${a(e)}`,{request:e})),n.push(r)),o([null,!1]))};try{r(e,t,c,i)}catch(e){i(e)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${a(e)}`,{request:e});if(!r)throw new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${a(e)}`,{request:e})}}function a(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=i},31841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,o)=>{let s;const i=new Promise((e=>{s=e}));let a=null,c=!1;const u=async()=>{c=!0,n((e=>{a=e,s()})),await i};try{await e(t,r,u),c?(await i,a(null)):o(null)}catch(e){a?a(e):o(e)}}}},48508:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,o)=>{const s=e[t.method];return void 0===s?n():"function"==typeof s?s(t,r,n,o):(r.result=s,o())}}},33107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const r=4294967295;let n=Math.floor(Math.random()*r);t.getUniqueId=function(){return n=(n+1)%r,n}},85086:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r(33107);t.createIdRemapMiddleware=function(){return(e,t,r,o)=>{const s=e.id,i=n.getUniqueId();e.id=i,t.id=i,r((r=>{e.id=s,t.id=s,r()}))}}},88625:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(85086),t),o(r(31841),t),o(r(48508),t),o(r(33107),t),o(r(17398),t),o(r(79962),t)},79962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r(17398);t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}},23420:e=>{e.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}},37253:(e,t,r)=>{const n=r(89539),o=r(17187);var s="object"==typeof Reflect?Reflect:null,i=s&&"function"==typeof s.apply?s.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function a(){o.call(this)}function c(e,t,r){try{i(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}function u(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}e.exports=a,n.inherits(a,o),a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var i=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw i.context=s,i}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)c(a,this,t);else{var l=a.length,p=u(a,l);for(r=0;r<l;++r)c(p[r],this,t)}return!0}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL2FzeW5jLW11dGV4L2xpYi9NdXRleC5qcyIsIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL2FzeW5jLW11dGV4L2xpYi9TZW1hcGhvcmUuanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9hc3luYy1tdXRleC9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9hc3luYy1tdXRleC9saWIvd2l0aFRpbWVvdXQuanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9ldGgtYmxvY2stdHJhY2tlci9ub2RlX21vZHVsZXMvcGlmeS9pbmRleC5qcyIsIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL2V0aC1ibG9jay10cmFja2VyL3NyYy9iYXNlLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvZXRoLWJsb2NrLXRyYWNrZXIvc3JjL3BvbGxpbmcuanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9ldGgtanNvbi1ycGMtZmlsdGVycy9iYXNlLWZpbHRlci1oaXN0b3J5LmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvZXRoLWpzb24tcnBjLWZpbHRlcnMvYmFzZS1maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9ldGgtanNvbi1ycGMtZmlsdGVycy9ibG9jay1maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9ldGgtanNvbi1ycGMtZmlsdGVycy9nZXRCbG9ja3NGb3JSYW5nZS5qcyIsIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL2V0aC1qc29uLXJwYy1maWx0ZXJzL2hleFV0aWxzLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvZXRoLWpzb24tcnBjLWZpbHRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9ldGgtanNvbi1ycGMtZmlsdGVycy9sb2ctZmlsdGVyLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvZXRoLWpzb24tcnBjLWZpbHRlcnMvbm9kZV9tb2R1bGVzL3BpZnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9ldGgtanNvbi1ycGMtZmlsdGVycy9zdWJzY3JpcHRpb25NYW5hZ2VyLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvZXRoLWpzb24tcnBjLWZpbHRlcnMvdHgtZmlsdGVyLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvZXRoLWpzb24tcnBjLW1pZGRsZXdhcmUvbm9kZV9tb2R1bGVzL2pzb24tcnBjLWVuZ2luZS9zcmMvY3JlYXRlU2NhZmZvbGRNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvZXRoLWpzb24tcnBjLW1pZGRsZXdhcmUvc2NhZmZvbGQuanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9ldGgtcXVlcnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9qc29uLXJwYy1lbmdpbmUvZGlzdC9Kc29uUnBjRW5naW5lLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvanNvbi1ycGMtZW5naW5lL2Rpc3QvY3JlYXRlQXN5bmNNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvanNvbi1ycGMtZW5naW5lL2Rpc3QvY3JlYXRlU2NhZmZvbGRNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvanNvbi1ycGMtZW5naW5lL2Rpc3QvZ2V0VW5pcXVlSWQuanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9qc29uLXJwYy1lbmdpbmUvZGlzdC9pZFJlbWFwTWlkZGxld2FyZS5qcyIsIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL2pzb24tcnBjLWVuZ2luZS9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvanNvbi1ycGMtZW5naW5lL2Rpc3QvbWVyZ2VNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvanNvbi1ycGMtcmFuZG9tLWlkL2luZGV4LmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvc2FmZS1ldmVudC1lbWl0dGVyL2luZGV4LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidHNsaWJfMSIsIlNlbWFwaG9yZV8xIiwiTXV0ZXgiLCJ0aGlzIiwiX3NlbWFwaG9yZSIsImRlZmF1bHQiLCJwcm90b3R5cGUiLCJhY3F1aXJlIiwiX19hd2FpdGVyIiwiX19nZW5lcmF0b3IiLCJfYiIsImxhYmVsIiwic2VudCIsInJ1bkV4Y2x1c2l2ZSIsImNhbGxiYWNrIiwiaXNMb2NrZWQiLCJyZWxlYXNlIiwiU2VtYXBob3JlIiwiX21heENvbmN1cnJlbmN5IiwiX3F1ZXVlIiwiRXJyb3IiLCJfdmFsdWUiLCJfdGhpcyIsImxvY2tlZCIsInRpY2tldCIsIlByb21pc2UiLCJyIiwicHVzaCIsIl9kaXNwYXRjaCIsIl9hIiwidHJ5cyIsIl9jdXJyZW50UmVsZWFzZXIiLCJyZWxlYXNlciIsInVuZGVmaW5lZCIsIm5leHRDb25zdW1lciIsInNoaWZ0IiwicmVsZWFzZWQiLCJNdXRleF8xIiwiZW51bWVyYWJsZSIsImdldCIsIndpdGhUaW1lb3V0Iiwic3luYyIsInRpbWVvdXQiLCJ0aW1lb3V0RXJyb3IiLCJyZXNvbHZlIiwicmVqZWN0IiwiaXNUaW1lb3V0Iiwic2V0VGltZW91dCIsIkFycmF5IiwiaXNBcnJheSIsInByb2Nlc3NGbiIsImZuIiwib3B0cyIsIlAiLCJwcm9taXNlTW9kdWxlIiwiYXJncyIsImFyZ3VtZW50cyIsImxlbmd0aCIsImkiLCJlcnJvckZpcnN0IiwiZXJyIiwicmVzdWx0IiwibXVsdGlBcmdzIiwicmVzdWx0cyIsInVuc2hpZnQiLCJhcHBseSIsIm1vZHVsZSIsIm9iaiIsImFzc2lnbiIsImV4Y2x1ZGUiLCJmaWx0ZXIiLCJrZXkiLCJtYXRjaCIsInBhdHRlcm4iLCJ0ZXN0IiwiaW5jbHVkZSIsInNvbWUiLCJyZXQiLCJleGNsdWRlTWFpbiIsImNyZWF0ZSIsImdldFByb3RvdHlwZU9mIiwieCIsIlNhZmVFdmVudEVtaXR0ZXIiLCJjYWxjdWxhdGVTdW0iLCJhY2N1bXVsYXRvciIsImN1cnJlbnRWYWx1ZSIsImJsb2NrVHJhY2tlckV2ZW50cyIsImhleFRvSW50IiwiaGV4SW50IiwiTnVtYmVyIiwicGFyc2VJbnQiLCJzdXBlciIsIl9ibG9ja1Jlc2V0RHVyYXRpb24iLCJibG9ja1Jlc2V0RHVyYXRpb24iLCJfYmxvY2tSZXNldFRpbWVvdXQiLCJfY3VycmVudEJsb2NrIiwiX2lzUnVubmluZyIsIl9vbk5ld0xpc3RlbmVyIiwiYmluZCIsIl9vblJlbW92ZUxpc3RlbmVyIiwiX3Jlc2V0Q3VycmVudEJsb2NrIiwiX3NldHVwSW50ZXJuYWxFdmVudHMiLCJvbmNlIiwiZXZlbnROYW1lIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmVtb3ZlTGlzdGVuZXIiLCJvbiIsImhhbmRsZXIiLCJpbmNsdWRlcyIsIl9tYXliZVN0YXJ0IiwiX2dldEJsb2NrVHJhY2tlckV2ZW50Q291bnQiLCJfbWF5YmVFbmQiLCJfY2FuY2VsQmxvY2tSZXNldFRpbWVvdXQiLCJfc3RhcnQiLCJfc2V0dXBCbG9ja1Jlc2V0VGltZW91dCIsIl9lbmQiLCJtYXAiLCJsaXN0ZW5lckNvdW50IiwicmVkdWNlIiwibmV3QmxvY2siLCJjdXJyZW50QmxvY2siLCJfc2V0Q3VycmVudEJsb2NrIiwib2xkQmxvY2siLCJlbWl0IiwidW5yZWYiLCJjbGVhclRpbWVvdXQiLCJwaWZ5IiwiQmFzZUJsb2NrVHJhY2tlciIsImR1cmF0aW9uIiwidGltb3V0UmVmIiwicHJvdmlkZXIiLCJwb2xsaW5nSW50ZXJ2YWwiLCJyZXRyeVRpbWVvdXQiLCJrZWVwRXZlbnRMb29wQWN0aXZlIiwic2V0U2tpcENhY2hlRmxhZyIsIl9wcm92aWRlciIsIl9wb2xsaW5nSW50ZXJ2YWwiLCJfcmV0cnlUaW1lb3V0IiwiX2tlZXBFdmVudExvb3BBY3RpdmUiLCJfc2V0U2tpcENhY2hlRmxhZyIsIl91cGRhdGVMYXRlc3RCbG9jayIsImdldExhdGVzdEJsb2NrIiwiX3BlcmZvcm1TeW5jIiwiY2F0Y2giLCJuZXdFcnIiLCJzdGFjayIsImVtaXRFcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJsYXRlc3RCbG9jayIsIl9mZXRjaExhdGVzdEJsb2NrIiwiX25ld1BvdGVudGlhbExhdGVzdCIsInJlcSIsImpzb25ycGMiLCJpZCIsIm1ldGhvZCIsInBhcmFtcyIsInNraXBDYWNoZSIsInJlcyIsImNiIiwic2VuZEFzeW5jIiwiQmFzZUZpbHRlciIsImFsbFJlc3VsdHMiLCJuZXdSZXN1bHRzIiwiY29uY2F0IiwiYWRkUmVzdWx0cyIsImFkZEluaXRpYWxSZXN1bHRzIiwidXBkYXRlcyIsImZvckVhY2giLCJnZXRCbG9ja3NGb3JSYW5nZSIsImluY3JlbWVudEhleEludCIsInR5cGUiLCJ0b0Jsb2NrIiwiZnJvbUJsb2NrIiwiYmxvY2tIYXNoZXMiLCJibG9jayIsImhhc2giLCJoZXhTdHJpbmciLCJpbnRUb0hleCIsImludCIsInRvU3RyaW5nIiwiYXN5bmMiLCJmcm9tQmxvY2tOdW1iZXIiLCJ0b0Jsb2NrTnVtYmVyIiwibWlzc2luZ0Jsb2NrTnVtYmVycyIsImZpbGwiLCJfIiwiaW5kZXgiLCJhbGwiLCJibG9ja051bSIsInF1ZXJ5Iiwic29ydEJsb2NrUmVmcyIsInJlZnMiLCJzb3J0IiwicmVmQSIsInJlZkIiLCJ1bnNhZmVSYW5kb21OaWJibGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJtaW5CbG9ja1JlZiIsIm1heEJsb2NrUmVmIiwic29ydGVkUmVmcyIsImJuVG9IZXgiLCJibiIsImJsb2NrUmVmSXNOdW1iZXIiLCJibG9ja1JlZiIsInVuc2FmZVJhbmRvbUJ5dGVzIiwiYnl0ZUNvdW50IiwiY3JlYXRlQXN5bmNNaWRkbGV3YXJlIiwiY3JlYXRlSnNvblJwY01pZGRsZXdhcmUiLCJMb2dGaWx0ZXIiLCJCbG9ja0ZpbHRlciIsIlR4RmlsdGVyIiwidG9GaWx0ZXJDcmVhdGlvbk1pZGRsZXdhcmUiLCJjcmVhdGVGaWx0ZXJGbiIsInRvQXN5bmNScGNNaWRkbGV3YXJlIiwiYXN5bmNGbiIsIm9ialZhbHVlcyIsInZhbHVlcyIsImJsb2NrVHJhY2tlciIsImZpbHRlckluZGV4IiwiZmlsdGVycyIsIm11dGV4Iiwid2FpdEZvckZyZWUiLCJtaWRkbGV3YXJlIiwibmV4dCIsImVuZCIsIm11dGV4TWlkZGxld2FyZVdyYXBwZXIiLCJldGhfbmV3RmlsdGVyIiwibmV3TG9nRmlsdGVyIiwiZXRoX25ld0Jsb2NrRmlsdGVyIiwibmV3QmxvY2tGaWx0ZXIiLCJldGhfbmV3UGVuZGluZ1RyYW5zYWN0aW9uRmlsdGVyIiwibmV3UGVuZGluZ1RyYW5zYWN0aW9uRmlsdGVyIiwiZXRoX3VuaW5zdGFsbEZpbHRlciIsInVuaW5zdGFsbEZpbHRlckhhbmRsZXIiLCJldGhfZ2V0RmlsdGVyQ2hhbmdlcyIsImdldEZpbHRlckNoYW5nZXMiLCJldGhfZ2V0RmlsdGVyTG9ncyIsImdldEZpbHRlckxvZ3MiLCJmaWx0ZXJVcGRhdGVyIiwicmVsZWFzZUxvY2siLCJ1cGRhdGUiLCJ1bmluc3RhbGxGaWx0ZXIiLCJkZXN0cm95IiwicHJldkZpbHRlckNvdW50IiwidXBkYXRlQmxvY2tUcmFja2VyU3VicyIsIm5ld0ZpbHRlckNvdW50IiwidW5pbnN0YWxsQWxsRmlsdGVycyIsImluc3RhbGxGaWx0ZXIiLCJmaWx0ZXJJbmRleEhleCIsImdldENoYW5nZXNBbmRDbGVhciIsImdldEFsbFJlc3VsdHMiLCJCb29sZWFuIiwiaW5pdGlhbGl6ZSIsImlkSGV4IiwiRXRoUXVlcnkiLCJCYXNlRmlsdGVyV2l0aEhpc3RvcnkiLCJldGhRdWVyeSIsImFkZHJlc3MiLCJ0b3BpY3MiLCJ0b0xvd2VyQ2FzZSIsIm5ld0xvZ3MiLCJfZmV0Y2hMb2dzIiwibWF0Y2hpbmdMb2dzIiwibG9nIiwibWF0Y2hMb2ciLCJnZXRMb2dzIiwiYmxvY2tOdW1iZXIiLCJub3JtYWxpemVkTG9nQWRkcmVzcyIsImV2ZXJ5IiwidG9waWNQYXR0ZXJuIiwibG9nVG9waWMiLCJzdWJ0b3BpY3NUb01hdGNoIiwidG9waWMiLCJvcHRpb25zIiwicHJveHkiLCJ1bndyYXBwZWQiLCJhcmd1bWVudHNfIiwic2VsZiIsIlJlZmxlY3QiLCJmaWx0ZXJDYWNoZSIsIldlYWtNYXAiLCJpbnB1dCIsIm9iamVjdFR5cGUiLCJUeXBlRXJyb3IiLCJjYWNoZSIsIlByb3h5IiwidGFyZ2V0IiwidGhpc0FyZyIsImNhY2hlZCIsInBpZmllZCIsInNldCIsInByb3BlcnR5IiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIndyaXRhYmxlT3JDb25maWd1cmFibGVPd24iLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNob3VsZEZpbHRlciIsIkZ1bmN0aW9uIiwiY3JlYXRlU2NhZmZvbGRNaWRkbGV3YXJlIiwiY3JlYXRlRmlsdGVyTWlkZGxld2FyZSIsIm5vcm1hbGl6ZUJsb2NrIiwicGFyZW50SGFzaCIsInNoYTNVbmNsZXMiLCJtaW5lciIsInN0YXRlUm9vdCIsInRyYW5zYWN0aW9uc1Jvb3QiLCJyZWNlaXB0c1Jvb3QiLCJsb2dzQmxvb20iLCJkaWZmaWN1bHR5IiwibnVtYmVyIiwiZ2FzTGltaXQiLCJnYXNVc2VkIiwibm9uY2UiLCJtaXhIYXNoIiwidGltZXN0YW1wIiwiZXh0cmFEYXRhIiwic3Vic2NyaXB0aW9ucyIsImZpbHRlck1hbmFnZXIiLCJpc0Rlc3Ryb3llZCIsImV2ZW50cyIsImV0aF9zdWJzY3JpYmUiLCJzdWJzY3JpcHRpb25UeXBlIiwic3ViSWQiLCJzdWIiLCJfZW1pdFN1YnNjcmlwdGlvblJlc3VsdCIsImNyZWF0ZVN1Yk5ld0hlYWRzIiwiZmlsdGVyUGFyYW1zIiwiY3JlYXRlU3ViRnJvbUZpbHRlciIsImV0aF91bnN1YnNjcmliZSIsInN1YnNjcmlwdGlvbiIsImZpbHRlcklkSGV4IiwiYmxvY2tzIiwiYmxvY2tUeEhhc2hlcyIsInRyYW5zYWN0aW9ucyIsImhhbmRsZXJzIiwiZXh0ZW5kIiwiY3JlYXRlUmFuZG9tSWQiLCJjdXJyZW50UHJvdmlkZXIiLCJnZW5lcmF0ZUZuRm9yIiwibWV0aG9kTmFtZSIsInNsaWNlIiwiY2FsbCIsInBvcCIsImdlbmVyYXRlRm5XaXRoRGVmYXVsdEJsb2NrRm9yIiwiYXJnQ291bnQiLCJnZXRCYWxhbmNlIiwiZ2V0Q29kZSIsImdldFRyYW5zYWN0aW9uQ291bnQiLCJnZXRTdG9yYWdlQXQiLCJwcm90b2NvbFZlcnNpb24iLCJzeW5jaW5nIiwiY29pbmJhc2UiLCJtaW5pbmciLCJoYXNocmF0ZSIsImdhc1ByaWNlIiwiYWNjb3VudHMiLCJnZXRCbG9ja1RyYW5zYWN0aW9uQ291bnRCeUhhc2giLCJnZXRCbG9ja1RyYW5zYWN0aW9uQ291bnRCeU51bWJlciIsImdldFVuY2xlQ291bnRCeUJsb2NrSGFzaCIsImdldFVuY2xlQ291bnRCeUJsb2NrTnVtYmVyIiwic2lnbiIsInNlbmRUcmFuc2FjdGlvbiIsInNlbmRSYXdUcmFuc2FjdGlvbiIsImVzdGltYXRlR2FzIiwiZ2V0QmxvY2tCeUhhc2giLCJnZXRCbG9ja0J5TnVtYmVyIiwiZ2V0VHJhbnNhY3Rpb25CeUhhc2giLCJnZXRUcmFuc2FjdGlvbkJ5QmxvY2tIYXNoQW5kSW5kZXgiLCJnZXRUcmFuc2FjdGlvbkJ5QmxvY2tOdW1iZXJBbmRJbmRleCIsImdldFRyYW5zYWN0aW9uUmVjZWlwdCIsImdldFVuY2xlQnlCbG9ja0hhc2hBbmRJbmRleCIsImdldFVuY2xlQnlCbG9ja051bWJlckFuZEluZGV4IiwiZ2V0Q29tcGlsZXJzIiwiY29tcGlsZUxMTCIsImNvbXBpbGVTb2xpZGl0eSIsImNvbXBpbGVTZXJwZW50IiwibmV3RmlsdGVyIiwiZ2V0V29yayIsInN1Ym1pdFdvcmsiLCJzdWJtaXRIYXNocmF0ZSIsImRhdGEiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJfX2ltcG9ydERlZmF1bHQiLCJtb2QiLCJfX2VzTW9kdWxlIiwiSnNvblJwY0VuZ2luZSIsInNhZmVfZXZlbnRfZW1pdHRlcl8xIiwiZXRoX3JwY19lcnJvcnNfMSIsIl9taWRkbGV3YXJlIiwiX2hhbmRsZUJhdGNoIiwiX2hhbmRsZSIsIl9wcm9taXNlSGFuZGxlIiwibWlkZGxld2FyZUVycm9yIiwiaXNDb21wbGV0ZSIsInJldHVybkhhbmRsZXJzIiwiX3J1bkFsbE1pZGRsZXdhcmUiLCJfcnVuUmV0dXJuSGFuZGxlcnMiLCJoYW5kbGVyQ2FsbGJhY2siLCJyZXFzIiwicmVzcG9uc2VzIiwiX2VyciIsImNhbGxlclJlcSIsIkV0aGVyZXVtUnBjRXJyb3IiLCJlcnJvckNvZGVzIiwicnBjIiwiaW52YWxpZFJlcXVlc3QiLCJyZXF1ZXN0IiwiX3Byb2Nlc3NSZXF1ZXN0IiwiX2Vycm9yIiwic2VyaWFsaXplRXJyb3IiLCJfY2hlY2tGb3JDb21wbGV0aW9uIiwibWlkZGxld2FyZVN0YWNrIiwiX3J1bk1pZGRsZXdhcmUiLCJyZXZlcnNlIiwicmV0dXJuSGFuZGxlciIsImludGVybmFsIiwianNvbmlmeSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhc3luY01pZGRsZXdhcmUiLCJyZXNvbHZlTmV4dFByb21pc2UiLCJuZXh0UHJvbWlzZSIsInJldHVybkhhbmRsZXJDYWxsYmFjayIsIm5leHRXYXNDYWxsZWQiLCJhc3luY05leHQiLCJydW5SZXR1cm5IYW5kbGVyc0NhbGxiYWNrIiwiZ2V0VW5pcXVlSWQiLCJNQVgiLCJpZENvdW50ZXIiLCJjcmVhdGVJZFJlbWFwTWlkZGxld2FyZSIsImdldFVuaXF1ZUlkXzEiLCJvcmlnaW5hbElkIiwibmV3SWQiLCJkb25lIiwiX19jcmVhdGVCaW5kaW5nIiwibyIsIm0iLCJrIiwiazIiLCJfX2V4cG9ydFN0YXIiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJtZXJnZU1pZGRsZXdhcmUiLCJKc29uUnBjRW5naW5lXzEiLCJlbmdpbmUiLCJhc01pZGRsZXdhcmUiLCJtYXgiLCJNQVhfU0FGRV9JTlRFR0VSIiwic3RhcnQiLCJ1dGlsIiwiRXZlbnRFbWl0dGVyIiwiUiIsIlJlZmxlY3RBcHBseSIsInJlY2VpdmVyIiwic2FmZUFwcGx5IiwiY29udGV4dCIsImFycmF5Q2xvbmUiLCJhcnIiLCJuIiwiY29weSIsImluaGVyaXRzIiwiZG9FcnJvciIsIl9ldmVudHMiLCJlciIsImxlbiIsImxpc3RlbmVycyJdLCJtYXBwaW5ncyI6Im1HQUNBQSxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxJQUFJQyxFQUFVLEVBQVEsT0FDbEJDLEVBQWMsRUFBUSxNQUN0QkMsRUFBdUIsV0FDdkIsU0FBU0EsSUFDTEMsS0FBS0MsV0FBYSxJQUFJSCxFQUFZSSxRQUFRLEdBd0I5QyxPQXRCQUgsRUFBTUksVUFBVUMsUUFBVSxXQUN0QixPQUFPUCxFQUFRUSxVQUFVTCxVQUFNLE9BQVEsR0FBUSxXQUUzQyxPQUFPSCxFQUFRUyxZQUFZTixNQUFNLFNBQVVPLEdBQ3ZDLE9BQVFBLEVBQUdDLE9BQ1AsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFhUixLQUFLQyxXQUFXRyxXQUM3QyxLQUFLLEVBRUQsTUFBTyxDQUFDLEVBREhHLEVBQUdFLE9BQXNCLFlBTWxEVixFQUFNSSxVQUFVTyxhQUFlLFNBQVVDLEdBQ3JDLE9BQU9YLEtBQUtDLFdBQVdTLGNBQWEsV0FBYyxPQUFPQyxRQUU3RFosRUFBTUksVUFBVVMsU0FBVyxXQUN2QixPQUFPWixLQUFLQyxXQUFXVyxZQUUzQmIsRUFBTUksVUFBVVUsUUFBVSxXQUN0QmIsS0FBS0MsV0FBV1ksV0FFYmQsRUExQmUsR0E0QjFCSixFQUFRTyxRQUFVSCxHLDRCQy9CbEJOLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxD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ekJpWixFQUFVVyxFQUFVNVosR0FBSXZELEtBQU1vRCxHQUdsQyxPQUFPIiwiZmlsZSI6IjgwOTAubWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgU2VtYXBob3JlXzEgPSByZXF1aXJlKFwiLi9TZW1hcGhvcmVcIik7XG52YXIgTXV0ZXggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTXV0ZXgoKSB7XG4gICAgICAgIHRoaXMuX3NlbWFwaG9yZSA9IG5ldyBTZW1hcGhvcmVfMS5kZWZhdWx0KDEpO1xuICAgIH1cbiAgICBNdXRleC5wcm90b3R5cGUuYWNxdWlyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIHJlbGVhc2VyO1xuICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3NlbWFwaG9yZS5hY3F1aXJlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKSwgcmVsZWFzZXIgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZWxlYXNlcl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTXV0ZXgucHJvdG90eXBlLnJ1bkV4Y2x1c2l2ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VtYXBob3JlLnJ1bkV4Y2x1c2l2ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFjaygpOyB9KTtcbiAgICB9O1xuICAgIE11dGV4LnByb3RvdHlwZS5pc0xvY2tlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbWFwaG9yZS5pc0xvY2tlZCgpO1xuICAgIH07XG4gICAgTXV0ZXgucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3NlbWFwaG9yZS5yZWxlYXNlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTXV0ZXg7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTXV0ZXg7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIFNlbWFwaG9yZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZW1hcGhvcmUoX21heENvbmN1cnJlbmN5KSB7XG4gICAgICAgIHRoaXMuX21heENvbmN1cnJlbmN5ID0gX21heENvbmN1cnJlbmN5O1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuICAgICAgICBpZiAoX21heENvbmN1cnJlbmN5IDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2VtYXBob3JlIG11c3QgYmUgaW5pdGlhbGl6ZWQgdG8gYSBwb3NpdGl2ZSB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gX21heENvbmN1cnJlbmN5O1xuICAgIH1cbiAgICBTZW1hcGhvcmUucHJvdG90eXBlLmFjcXVpcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBsb2NrZWQgPSB0aGlzLmlzTG9ja2VkKCk7XG4gICAgICAgIHZhciB0aWNrZXQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocikgeyByZXR1cm4gX3RoaXMuX3F1ZXVlLnB1c2gocik7IH0pO1xuICAgICAgICBpZiAoIWxvY2tlZClcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoKCk7XG4gICAgICAgIHJldHVybiB0aWNrZXQ7XG4gICAgfTtcbiAgICBTZW1hcGhvcmUucHJvdG90eXBlLnJ1bkV4Y2x1c2l2ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgdmFsdWUsIHJlbGVhc2U7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5hY3F1aXJlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKSwgdmFsdWUgPSBfYVswXSwgcmVsZWFzZSA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzIsICwgNCwgNV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY2FsbGJhY2sodmFsdWUpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2VtYXBob3JlLnByb3RvdHlwZS5pc0xvY2tlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlIDw9IDA7XG4gICAgfTtcbiAgICBTZW1hcGhvcmUucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYXhDb25jdXJyZW5jeSA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndGhpcyBtZXRob2QgaXMgdW5hdmFpbGFiZWwgb24gc2VtYXBob3JlcyB3aXRoIGNvbmN1cnJlbmN5ID4gMTsgdXNlIHRoZSBzY29wZWQgcmVsZWFzZSByZXR1cm5lZCBieSBhY3F1aXJlIGluc3RlYWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY3VycmVudFJlbGVhc2VyKSB7XG4gICAgICAgICAgICB2YXIgcmVsZWFzZXIgPSB0aGlzLl9jdXJyZW50UmVsZWFzZXI7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50UmVsZWFzZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZWxlYXNlcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTZW1hcGhvcmUucHJvdG90eXBlLl9kaXNwYXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG5leHRDb25zdW1lciA9IHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmICghbmV4dENvbnN1bWVyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgcmVsZWFzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFJlbGVhc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHJlbGVhc2VkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHJlbGVhc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLl92YWx1ZSsrO1xuICAgICAgICAgICAgX3RoaXMuX2Rpc3BhdGNoKCk7XG4gICAgICAgIH07XG4gICAgICAgIG5leHRDb25zdW1lcihbdGhpcy5fdmFsdWUtLSwgdGhpcy5fY3VycmVudFJlbGVhc2VyXSk7XG4gICAgfTtcbiAgICByZXR1cm4gU2VtYXBob3JlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNlbWFwaG9yZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy53aXRoVGltZW91dCA9IGV4cG9ydHMuU2VtYXBob3JlID0gZXhwb3J0cy5NdXRleCA9IHZvaWQgMDtcbnZhciBNdXRleF8xID0gcmVxdWlyZShcIi4vTXV0ZXhcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNdXRleFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gTXV0ZXhfMS5kZWZhdWx0OyB9IH0pO1xudmFyIFNlbWFwaG9yZV8xID0gcmVxdWlyZShcIi4vU2VtYXBob3JlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2VtYXBob3JlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBTZW1hcGhvcmVfMS5kZWZhdWx0OyB9IH0pO1xudmFyIHdpdGhUaW1lb3V0XzEgPSByZXF1aXJlKFwiLi93aXRoVGltZW91dFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndpdGhUaW1lb3V0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3aXRoVGltZW91dF8xLndpdGhUaW1lb3V0OyB9IH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLndpdGhUaW1lb3V0ID0gdm9pZCAwO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gd2l0aFRpbWVvdXQoc3luYywgdGltZW91dCwgdGltZW91dEVycm9yKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAodGltZW91dEVycm9yID09PSB2b2lkIDApIHsgdGltZW91dEVycm9yID0gbmV3IEVycm9yKCd0aW1lb3V0Jyk7IH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3F1aXJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzVGltZW91dCwgdGlja2V0LCByZWxlYXNlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNUaW1lb3V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVGltZW91dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh0aW1lb3V0RXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHN5bmMuYWNxdWlyZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlID0gQXJyYXkuaXNBcnJheSh0aWNrZXQpID8gdGlja2V0WzFdIDogdGlja2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRpY2tldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7IH0pO1xuICAgICAgICB9LFxuICAgICAgICBydW5FeGNsdXNpdmU6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbGVhc2UsIHRpY2tldDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgLCA3LCA4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5hY3F1aXJlKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tldCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGlja2V0KSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZSA9IHRpY2tldFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjYWxsYmFjayh0aWNrZXRbMF0pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZSA9IHRpY2tldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjYWxsYmFjaygpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZWxlYXNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzeW5jLnJlbGVhc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaXNMb2NrZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN5bmMuaXNMb2NrZWQoKTsgfSxcbiAgICB9O1xufVxuZXhwb3J0cy53aXRoVGltZW91dCA9IHdpdGhUaW1lb3V0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwcm9jZXNzRm4gPSAoZm4sIG9wdHMpID0+IGZ1bmN0aW9uICgpIHtcblx0Y29uc3QgUCA9IG9wdHMucHJvbWlzZU1vZHVsZTtcblx0Y29uc3QgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG5cdH1cblxuXHRyZXR1cm4gbmV3IFAoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGlmIChvcHRzLmVycm9yRmlyc3QpIHtcblx0XHRcdGFyZ3MucHVzaChmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcblx0XHRcdFx0aWYgKG9wdHMubXVsdGlBcmdzKSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0cyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0cmVzdWx0c1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0cmVzdWx0cy51bnNoaWZ0KGVycik7XG5cdFx0XHRcdFx0XHRyZWplY3QocmVzdWx0cyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc29sdmUocmVzdWx0cyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKGVycikge1xuXHRcdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc29sdmUocmVzdWx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFyZ3MucHVzaChmdW5jdGlvbiAocmVzdWx0KSB7XG5cdFx0XHRcdGlmIChvcHRzLm11bHRpQXJncykge1xuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdHMgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdHJlc3VsdHNbaV0gPSBhcmd1bWVudHNbaV07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmVzb2x2ZShyZXN1bHRzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXNvbHZlKHJlc3VsdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHR9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gKG9iaiwgb3B0cykgPT4ge1xuXHRvcHRzID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0ZXhjbHVkZTogWy8uKyhTeW5jfFN0cmVhbSkkL10sXG5cdFx0ZXJyb3JGaXJzdDogdHJ1ZSxcblx0XHRwcm9taXNlTW9kdWxlOiBQcm9taXNlXG5cdH0sIG9wdHMpO1xuXG5cdGNvbnN0IGZpbHRlciA9IGtleSA9PiB7XG5cdFx0Y29uc3QgbWF0Y2ggPSBwYXR0ZXJuID0+IHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJyA/IGtleSA9PT0gcGF0dGVybiA6IHBhdHRlcm4udGVzdChrZXkpO1xuXHRcdHJldHVybiBvcHRzLmluY2x1ZGUgPyBvcHRzLmluY2x1ZGUuc29tZShtYXRjaCkgOiAhb3B0cy5leGNsdWRlLnNvbWUobWF0Y2gpO1xuXHR9O1xuXG5cdGxldCByZXQ7XG5cdGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKG9wdHMuZXhjbHVkZU1haW4pIHtcblx0XHRcdFx0cmV0dXJuIG9iai5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcHJvY2Vzc0ZuKG9iaiwgb3B0cykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHJldCA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikpO1xuXHR9XG5cblx0Zm9yIChjb25zdCBrZXkgaW4gb2JqKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ3VhcmQtZm9yLWluXG5cdFx0Y29uc3QgeCA9IG9ialtrZXldO1xuXHRcdHJldFtrZXldID0gdHlwZW9mIHggPT09ICdmdW5jdGlvbicgJiYgZmlsdGVyKGtleSkgPyBwcm9jZXNzRm4oeCwgb3B0cykgOiB4O1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG4iLCJjb25zdCBFdGhRdWVyeSA9IHJlcXVpcmUoJ2V0aC1xdWVyeScpXG5jb25zdCBwaWZ5ID0gcmVxdWlyZSgncGlmeScpXG5jb25zdCBTYWZlRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnc2FmZS1ldmVudC1lbWl0dGVyJylcblxuY29uc3Qgc2VjID0gMTAwMFxuXG5jb25zdCBjYWxjdWxhdGVTdW0gPSAoYWNjdW11bGF0b3IsIGN1cnJlbnRWYWx1ZSkgPT4gYWNjdW11bGF0b3IgKyBjdXJyZW50VmFsdWVcbmNvbnN0IGJsb2NrVHJhY2tlckV2ZW50cyA9IFsnc3luYycsICdsYXRlc3QnXVxuXG5jbGFzcyBCYXNlQmxvY2tUcmFja2VyIGV4dGVuZHMgU2FmZUV2ZW50RW1pdHRlciB7XG5cbiAgLy9cbiAgLy8gcHVibGljXG4gIC8vXG5cbiAgY29uc3RydWN0b3IgKG9wdHMgPSB7fSkge1xuICAgIHN1cGVyKClcbiAgICAvLyBjb25maWdcbiAgICB0aGlzLl9ibG9ja1Jlc2V0RHVyYXRpb24gPSBvcHRzLmJsb2NrUmVzZXREdXJhdGlvbiB8fCAyMCAqIHNlY1xuICAgIC8vIHN0YXRlXG4gICAgdGhpcy5fYmxvY2tSZXNldFRpbWVvdXRcbiAgICB0aGlzLl9jdXJyZW50QmxvY2sgPSBudWxsXG4gICAgdGhpcy5faXNSdW5uaW5nID0gZmFsc2VcbiAgICAvLyBiaW5kIGZ1bmN0aW9ucyBmb3IgaW50ZXJuYWwgdXNlXG4gICAgdGhpcy5fb25OZXdMaXN0ZW5lciA9IHRoaXMuX29uTmV3TGlzdGVuZXIuYmluZCh0aGlzKVxuICAgIHRoaXMuX29uUmVtb3ZlTGlzdGVuZXIgPSB0aGlzLl9vblJlbW92ZUxpc3RlbmVyLmJpbmQodGhpcylcbiAgICB0aGlzLl9yZXNldEN1cnJlbnRCbG9jayA9IHRoaXMuX3Jlc2V0Q3VycmVudEJsb2NrLmJpbmQodGhpcylcbiAgICAvLyBsaXN0ZW4gZm9yIGhhbmRsZXIgY2hhbmdlc1xuICAgIHRoaXMuX3NldHVwSW50ZXJuYWxFdmVudHMoKVxuICB9XG5cbiAgaXNSdW5uaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNSdW5uaW5nXG4gIH1cblxuICBnZXRDdXJyZW50QmxvY2sgKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50QmxvY2tcbiAgfVxuXG4gIGFzeW5jIGdldExhdGVzdEJsb2NrICgpIHtcbiAgICAvLyByZXR1cm4gaWYgYXZhaWxhYmxlXG4gICAgaWYgKHRoaXMuX2N1cnJlbnRCbG9jaykgcmV0dXJuIHRoaXMuX2N1cnJlbnRCbG9ja1xuICAgIC8vIHdhaXQgZm9yIGEgbmV3IGxhdGVzdCBibG9ja1xuICAgIGNvbnN0IGxhdGVzdEJsb2NrID0gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB0aGlzLm9uY2UoJ2xhdGVzdCcsIHJlc29sdmUpKVxuICAgIC8vIHJldHVybiBuZXdseSBzZXQgY3VycmVudCBibG9ja1xuICAgIHJldHVybiBsYXRlc3RCbG9ja1xuICB9XG5cbiAgLy8gZG9udCBhbGxvdyBtb2R1bGUgY29uc3VtZXIgdG8gcmVtb3ZlIG91ciBpbnRlcm5hbCBldmVudCBsaXN0ZW5lcnNcbiAgcmVtb3ZlQWxsTGlzdGVuZXJzIChldmVudE5hbWUpIHtcbiAgICAvLyBwZXJmb3JtIGRlZmF1bHQgYmVoYXZpb3IsIHByZXNlcnZlIGZuIGFyaXR5XG4gICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgc3VwZXIucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50TmFtZSlcbiAgICB9IGVsc2Uge1xuICAgICAgc3VwZXIucmVtb3ZlQWxsTGlzdGVuZXJzKClcbiAgICB9XG4gICAgLy8gcmUtYWRkIGludGVybmFsIGV2ZW50c1xuICAgIHRoaXMuX3NldHVwSW50ZXJuYWxFdmVudHMoKVxuICAgIC8vIHRyaWdnZXIgc3RvcCBjaGVjayBqdXN0IGluIGNhc2VcbiAgICB0aGlzLl9vblJlbW92ZUxpc3RlbmVyKClcbiAgfVxuXG4gIC8vXG4gIC8vIHRvIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzXG4gIC8vXG5cbiAgX3N0YXJ0ICgpIHtcbiAgICAvLyBkZWZhdWx0IGJlaGF2aW9yIGlzIG5vb3BcbiAgfVxuXG4gIF9lbmQgKCkge1xuICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgaXMgbm9vcFxuICB9XG5cbiAgLy9cbiAgLy8gcHJpdmF0ZVxuICAvL1xuXG4gIF9zZXR1cEludGVybmFsRXZlbnRzICgpIHtcbiAgICAvLyBmaXJzdCByZW1vdmUgbGlzdGVuZXJzIGZvciBpZGVtcG90ZW5jZVxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ25ld0xpc3RlbmVyJywgdGhpcy5fb25OZXdMaXN0ZW5lcilcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdyZW1vdmVMaXN0ZW5lcicsIHRoaXMuX29uUmVtb3ZlTGlzdGVuZXIpXG4gICAgLy8gdGhlbiBhZGQgdGhlbVxuICAgIHRoaXMub24oJ25ld0xpc3RlbmVyJywgdGhpcy5fb25OZXdMaXN0ZW5lcilcbiAgICB0aGlzLm9uKCdyZW1vdmVMaXN0ZW5lcicsIHRoaXMuX29uUmVtb3ZlTGlzdGVuZXIpXG4gIH1cblxuICBfb25OZXdMaXN0ZW5lciAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgLy8gYG5ld0xpc3RlbmVyYCBpcyBjYWxsZWQgKmJlZm9yZSogdGhlIGxpc3RlbmVyIGlzIGFkZGVkXG4gICAgaWYgKCFibG9ja1RyYWNrZXJFdmVudHMuaW5jbHVkZXMoZXZlbnROYW1lKSkgcmV0dXJuXG4gICAgdGhpcy5fbWF5YmVTdGFydCgpXG4gIH1cblxuICBfb25SZW1vdmVMaXN0ZW5lciAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgLy8gYHJlbW92ZUxpc3RlbmVyYCBpcyBjYWxsZWQgKmFmdGVyKiB0aGUgbGlzdGVuZXIgaXMgcmVtb3ZlZFxuICAgIGlmICh0aGlzLl9nZXRCbG9ja1RyYWNrZXJFdmVudENvdW50KCkgPiAwKSByZXR1cm5cbiAgICB0aGlzLl9tYXliZUVuZCgpXG4gIH1cblxuICBfbWF5YmVTdGFydCAoKSB7XG4gICAgaWYgKHRoaXMuX2lzUnVubmluZykgcmV0dXJuXG4gICAgdGhpcy5faXNSdW5uaW5nID0gdHJ1ZVxuICAgIC8vIGNhbmNlbCBzZXR0aW5nIGxhdGVzdCBibG9jayB0byBzdGFsZVxuICAgIHRoaXMuX2NhbmNlbEJsb2NrUmVzZXRUaW1lb3V0KClcbiAgICB0aGlzLl9zdGFydCgpXG4gIH1cblxuICBfbWF5YmVFbmQgKCkge1xuICAgIGlmICghdGhpcy5faXNSdW5uaW5nKSByZXR1cm5cbiAgICB0aGlzLl9pc1J1bm5pbmcgPSBmYWxzZVxuICAgIHRoaXMuX3NldHVwQmxvY2tSZXNldFRpbWVvdXQoKVxuICAgIHRoaXMuX2VuZCgpXG4gIH1cblxuICBfZ2V0QmxvY2tUcmFja2VyRXZlbnRDb3VudCAoKSB7XG4gICAgcmV0dXJuIGJsb2NrVHJhY2tlckV2ZW50c1xuICAgICAgLm1hcChldmVudE5hbWUgPT4gdGhpcy5saXN0ZW5lckNvdW50KGV2ZW50TmFtZSkpXG4gICAgICAucmVkdWNlKGNhbGN1bGF0ZVN1bSlcbiAgfVxuXG4gIF9uZXdQb3RlbnRpYWxMYXRlc3QgKG5ld0Jsb2NrKSB7XG4gICAgY29uc3QgY3VycmVudEJsb2NrID0gdGhpcy5fY3VycmVudEJsb2NrXG4gICAgLy8gb25seSB1cGRhdGUgaWYgYmxvayBudW1iZXIgaXMgaGlnaGVyXG4gICAgaWYgKGN1cnJlbnRCbG9jayAmJiAoaGV4VG9JbnQobmV3QmxvY2spIDw9IGhleFRvSW50KGN1cnJlbnRCbG9jaykpKSByZXR1cm5cbiAgICB0aGlzLl9zZXRDdXJyZW50QmxvY2sobmV3QmxvY2spXG4gIH1cblxuICBfc2V0Q3VycmVudEJsb2NrIChuZXdCbG9jaykge1xuICAgIGNvbnN0IG9sZEJsb2NrID0gdGhpcy5fY3VycmVudEJsb2NrXG4gICAgdGhpcy5fY3VycmVudEJsb2NrID0gbmV3QmxvY2tcbiAgICB0aGlzLmVtaXQoJ2xhdGVzdCcsIG5ld0Jsb2NrKVxuICAgIHRoaXMuZW1pdCgnc3luYycsIHsgb2xkQmxvY2ssIG5ld0Jsb2NrIH0pXG4gIH1cblxuICBfc2V0dXBCbG9ja1Jlc2V0VGltZW91dCAoKSB7XG4gICAgLy8gY2xlYXIgYW55IGV4aXN0aW5nIHRpbWVvdXRcbiAgICB0aGlzLl9jYW5jZWxCbG9ja1Jlc2V0VGltZW91dCgpXG4gICAgLy8gY2xlYXIgbGF0ZXN0IGJsb2NrIHdoZW4gc3RhbGVcbiAgICB0aGlzLl9ibG9ja1Jlc2V0VGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fcmVzZXRDdXJyZW50QmxvY2ssIHRoaXMuX2Jsb2NrUmVzZXREdXJhdGlvbilcbiAgICAvLyBub2RlanMgLSBkb250IGhvbGQgcHJvY2VzcyBvcGVuXG4gICAgaWYgKHRoaXMuX2Jsb2NrUmVzZXRUaW1lb3V0LnVucmVmKSB7XG4gICAgICB0aGlzLl9ibG9ja1Jlc2V0VGltZW91dC51bnJlZigpXG4gICAgfVxuICB9XG5cbiAgX2NhbmNlbEJsb2NrUmVzZXRUaW1lb3V0ICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fYmxvY2tSZXNldFRpbWVvdXQpXG4gIH1cblxuICBfcmVzZXRDdXJyZW50QmxvY2sgKCkge1xuICAgIHRoaXMuX2N1cnJlbnRCbG9jayA9IG51bGxcbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZUJsb2NrVHJhY2tlclxuXG5mdW5jdGlvbiBoZXhUb0ludChoZXhJbnQpIHtcbiAgcmV0dXJuIE51bWJlci5wYXJzZUludChoZXhJbnQsIDE2KVxufVxuIiwiY29uc3QgcGlmeSA9IHJlcXVpcmUoJ3BpZnknKVxuY29uc3QgQmFzZUJsb2NrVHJhY2tlciA9IHJlcXVpcmUoJy4vYmFzZScpXG5cbmNvbnN0IHNlYyA9IDEwMDBcblxuY2xhc3MgUG9sbGluZ0Jsb2NrVHJhY2tlciBleHRlbmRzIEJhc2VCbG9ja1RyYWNrZXIge1xuXG4gIGNvbnN0cnVjdG9yIChvcHRzID0ge30pIHtcbiAgICAvLyBwYXJzZSArIHZhbGlkYXRlIGFyZ3NcbiAgICBpZiAoIW9wdHMucHJvdmlkZXIpIHRocm93IG5ldyBFcnJvcignUG9sbGluZ0Jsb2NrVHJhY2tlciAtIG5vIHByb3ZpZGVyIHNwZWNpZmllZC4nKVxuICAgIGNvbnN0IHBvbGxpbmdJbnRlcnZhbCA9IG9wdHMucG9sbGluZ0ludGVydmFsIHx8IDIwICogc2VjXG4gICAgY29uc3QgcmV0cnlUaW1lb3V0ID0gb3B0cy5yZXRyeVRpbWVvdXQgfHwgcG9sbGluZ0ludGVydmFsIC8gMTBcbiAgICBjb25zdCBrZWVwRXZlbnRMb29wQWN0aXZlID0gb3B0cy5rZWVwRXZlbnRMb29wQWN0aXZlICE9PSB1bmRlZmluZWQgPyBvcHRzLmtlZXBFdmVudExvb3BBY3RpdmUgOiB0cnVlXG4gICAgY29uc3Qgc2V0U2tpcENhY2hlRmxhZyA9IG9wdHMuc2V0U2tpcENhY2hlRmxhZyB8fCBmYWxzZVxuICAgIC8vIEJhc2VCbG9ja1RyYWNrZXIgY29uc3RydWN0b3JcbiAgICBzdXBlcihPYmplY3QuYXNzaWduKHtcbiAgICAgIGJsb2NrUmVzZXREdXJhdGlvbjogcG9sbGluZ0ludGVydmFsLFxuICAgIH0sIG9wdHMpKVxuICAgIC8vIGNvbmZpZ1xuICAgIHRoaXMuX3Byb3ZpZGVyID0gb3B0cy5wcm92aWRlclxuICAgIHRoaXMuX3BvbGxpbmdJbnRlcnZhbCA9IHBvbGxpbmdJbnRlcnZhbFxuICAgIHRoaXMuX3JldHJ5VGltZW91dCA9IHJldHJ5VGltZW91dFxuICAgIHRoaXMuX2tlZXBFdmVudExvb3BBY3RpdmUgPSBrZWVwRXZlbnRMb29wQWN0aXZlXG4gICAgdGhpcy5fc2V0U2tpcENhY2hlRmxhZyA9IHNldFNraXBDYWNoZUZsYWdcbiAgfVxuXG4gIC8vXG4gIC8vIHB1YmxpY1xuICAvL1xuXG4gIC8vIHRyaWdnZXIgYmxvY2sgcG9sbGluZ1xuICBhc3luYyBjaGVja0ZvckxhdGVzdEJsb2NrICgpIHtcbiAgICBhd2FpdCB0aGlzLl91cGRhdGVMYXRlc3RCbG9jaygpXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0TGF0ZXN0QmxvY2soKVxuICB9XG5cbiAgLy9cbiAgLy8gcHJpdmF0ZVxuICAvL1xuXG4gIF9zdGFydCAoKSB7XG4gICAgdGhpcy5fcGVyZm9ybVN5bmMoKS5jYXRjaChlcnIgPT4gdGhpcy5lbWl0KCdlcnJvcicsIGVycikpXG4gIH1cblxuICBhc3luYyBfcGVyZm9ybVN5bmMgKCkge1xuICAgIHdoaWxlICh0aGlzLl9pc1J1bm5pbmcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZUxhdGVzdEJsb2NrKClcbiAgICAgICAgYXdhaXQgdGltZW91dCh0aGlzLl9wb2xsaW5nSW50ZXJ2YWwsICF0aGlzLl9rZWVwRXZlbnRMb29wQWN0aXZlKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnN0IG5ld0VyciA9IG5ldyBFcnJvcihgUG9sbGluZ0Jsb2NrVHJhY2tlciAtIGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIGF0dGVtcHRpbmcgdG8gdXBkYXRlIGxhdGVzdCBibG9jazpcXG4ke2Vyci5zdGFja31gKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXdFcnIpXG4gICAgICAgIH0gY2F0Y2ggKGVtaXRFcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKG5ld0VycilcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aW1lb3V0KHRoaXMuX3JldHJ5VGltZW91dCwgIXRoaXMuX2tlZXBFdmVudExvb3BBY3RpdmUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX3VwZGF0ZUxhdGVzdEJsb2NrICgpIHtcbiAgICAvLyBmZXRjaCArIHNldCBsYXRlc3QgYmxvY2tcbiAgICBjb25zdCBsYXRlc3RCbG9jayA9IGF3YWl0IHRoaXMuX2ZldGNoTGF0ZXN0QmxvY2soKVxuICAgIHRoaXMuX25ld1BvdGVudGlhbExhdGVzdChsYXRlc3RCbG9jaylcbiAgfVxuXG4gIGFzeW5jIF9mZXRjaExhdGVzdEJsb2NrICgpIHtcbiAgICBjb25zdCByZXEgPSB7IGpzb25ycGM6IFwiMi4wXCIsIGlkOiAxLCBtZXRob2Q6ICdldGhfYmxvY2tOdW1iZXInLCBwYXJhbXM6IFtdIH1cbiAgICBpZiAodGhpcy5fc2V0U2tpcENhY2hlRmxhZykgcmVxLnNraXBDYWNoZSA9IHRydWVcbiAgICBjb25zdCByZXMgPSBhd2FpdCBwaWZ5KChjYikgPT4gdGhpcy5fcHJvdmlkZXIuc2VuZEFzeW5jKHJlcSwgY2IpKSgpXG4gICAgaWYgKHJlcy5lcnJvcikgdGhyb3cgbmV3IEVycm9yKGBQb2xsaW5nQmxvY2tUcmFja2VyIC0gZW5jb3VudGVyZWQgZXJyb3IgZmV0Y2hpbmcgYmxvY2s6XFxuJHtyZXMuZXJyb3J9YClcbiAgICByZXR1cm4gcmVzLnJlc3VsdFxuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQb2xsaW5nQmxvY2tUcmFja2VyXG5cbmZ1bmN0aW9uIHRpbWVvdXQgKGR1cmF0aW9uLCB1bnJlZikge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgY29uc3QgdGltb3V0UmVmID0gc2V0VGltZW91dChyZXNvbHZlLCBkdXJhdGlvbilcbiAgICAvLyBkb24ndCBrZWVwIHByb2Nlc3Mgb3BlblxuICAgIGlmICh0aW1vdXRSZWYudW5yZWYgJiYgdW5yZWYpIHtcbiAgICAgIHRpbW91dFJlZi51bnJlZigpXG4gICAgfVxuICB9KVxufVxuIiwiY29uc3QgQmFzZUZpbHRlciA9IHJlcXVpcmUoJy4vYmFzZS1maWx0ZXInKVxuXG4vLyB0cmFja3MgYWxsIHJlc3VsdHMgZXZlciByZWNvcmRlZFxuY2xhc3MgQmFzZUZpbHRlcldpdGhIaXN0b3J5IGV4dGVuZHMgQmFzZUZpbHRlciB7XG5cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLmFsbFJlc3VsdHMgPSBbXVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jhc2VGaWx0ZXJXaXRoSGlzdG9yeSAtIG5vIHVwZGF0ZSBtZXRob2Qgc3BlY2lmaWVkJylcbiAgfVxuXG4gIGFkZFJlc3VsdHMgKG5ld1Jlc3VsdHMpIHtcbiAgICB0aGlzLmFsbFJlc3VsdHMgPSB0aGlzLmFsbFJlc3VsdHMuY29uY2F0KG5ld1Jlc3VsdHMpXG4gICAgc3VwZXIuYWRkUmVzdWx0cyhuZXdSZXN1bHRzKVxuICB9XG5cbiAgYWRkSW5pdGlhbFJlc3VsdHMgKG5ld1Jlc3VsdHMpIHtcbiAgICB0aGlzLmFsbFJlc3VsdHMgPSB0aGlzLmFsbFJlc3VsdHMuY29uY2F0KG5ld1Jlc3VsdHMpXG4gICAgc3VwZXIuYWRkSW5pdGlhbFJlc3VsdHMobmV3UmVzdWx0cylcbiAgfVxuXG4gIGdldEFsbFJlc3VsdHMgKCkge1xuICAgIHJldHVybiB0aGlzLmFsbFJlc3VsdHNcbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZUZpbHRlcldpdGhIaXN0b3J5IiwiY29uc3QgU2FmZUV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ0BtZXRhbWFzay9zYWZlLWV2ZW50LWVtaXR0ZXInKS5kZWZhdWx0XG5cbmNsYXNzIEJhc2VGaWx0ZXIgZXh0ZW5kcyBTYWZlRXZlbnRFbWl0dGVyIHtcblxuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMudXBkYXRlcyA9IFtdXG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplICgpIHt9XG5cbiAgYXN5bmMgdXBkYXRlICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jhc2VGaWx0ZXIgLSBubyB1cGRhdGUgbWV0aG9kIHNwZWNpZmllZCcpXG4gIH1cblxuICBhZGRSZXN1bHRzIChuZXdSZXN1bHRzKSB7XG4gICAgdGhpcy51cGRhdGVzID0gdGhpcy51cGRhdGVzLmNvbmNhdChuZXdSZXN1bHRzKVxuICAgIG5ld1Jlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4gdGhpcy5lbWl0KCd1cGRhdGUnLCByZXN1bHQpKVxuICB9XG5cbiAgYWRkSW5pdGlhbFJlc3VsdHMgKG5ld1Jlc3VsdHMpIHt9XG5cbiAgZ2V0Q2hhbmdlc0FuZENsZWFyICgpIHtcbiAgICBjb25zdCB1cGRhdGVzID0gdGhpcy51cGRhdGVzXG4gICAgdGhpcy51cGRhdGVzID0gW11cbiAgICByZXR1cm4gdXBkYXRlc1xuICB9XG4gIFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VGaWx0ZXJcbiIsImNvbnN0IEJhc2VGaWx0ZXIgPSByZXF1aXJlKCcuL2Jhc2UtZmlsdGVyJylcbmNvbnN0IGdldEJsb2Nrc0ZvclJhbmdlID0gcmVxdWlyZSgnLi9nZXRCbG9ja3NGb3JSYW5nZScpXG5jb25zdCB7IGluY3JlbWVudEhleEludCB9ID0gcmVxdWlyZSgnLi9oZXhVdGlscycpXG5cbmNsYXNzIEJsb2NrRmlsdGVyIGV4dGVuZHMgQmFzZUZpbHRlciB7XG5cbiAgY29uc3RydWN0b3IgKHsgcHJvdmlkZXIsIHBhcmFtcyB9KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMudHlwZSA9ICdibG9jaydcbiAgICB0aGlzLnByb3ZpZGVyID0gcHJvdmlkZXJcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZSAoeyBvbGRCbG9jaywgbmV3QmxvY2sgfSkge1xuICAgIGNvbnN0IHRvQmxvY2sgPSBuZXdCbG9ja1xuICAgIGNvbnN0IGZyb21CbG9jayA9IGluY3JlbWVudEhleEludChvbGRCbG9jaylcbiAgICBjb25zdCBibG9ja0JvZGllcyA9IGF3YWl0IGdldEJsb2Nrc0ZvclJhbmdlKHsgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsIGZyb21CbG9jaywgdG9CbG9jayB9KVxuICAgIGNvbnN0IGJsb2NrSGFzaGVzID0gYmxvY2tCb2RpZXMubWFwKChibG9jaykgPT4gYmxvY2suaGFzaClcbiAgICB0aGlzLmFkZFJlc3VsdHMoYmxvY2tIYXNoZXMpXG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJsb2NrRmlsdGVyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGdldEJsb2Nrc0ZvclJhbmdlXG5cbmFzeW5jIGZ1bmN0aW9uIGdldEJsb2Nrc0ZvclJhbmdlKHsgcHJvdmlkZXIsIGZyb21CbG9jaywgdG9CbG9jayB9KSB7XG4gIGlmICghZnJvbUJsb2NrKSBmcm9tQmxvY2sgPSB0b0Jsb2NrXG5cbiAgY29uc3QgZnJvbUJsb2NrTnVtYmVyID0gaGV4VG9JbnQoZnJvbUJsb2NrKVxuICBjb25zdCB0b0Jsb2NrTnVtYmVyID0gaGV4VG9JbnQodG9CbG9jaylcbiAgY29uc3QgYmxvY2tDb3VudFRvUXVlcnkgPSB0b0Jsb2NrTnVtYmVyIC0gZnJvbUJsb2NrTnVtYmVyICsgMVxuICAvLyBsb2FkIGFsbCBibG9ja3MgZnJvbSBvbGQgdG8gbmV3IChpbmNsdXNpdmUpXG4gIGNvbnN0IG1pc3NpbmdCbG9ja051bWJlcnMgPSBBcnJheShibG9ja0NvdW50VG9RdWVyeSkuZmlsbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKChfLGluZGV4KSA9PiBmcm9tQmxvY2tOdW1iZXIgKyBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoaW50VG9IZXgpXG4gIGNvbnN0IGJsb2NrQm9kaWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgbWlzc2luZ0Jsb2NrTnVtYmVycy5tYXAoYmxvY2tOdW0gPT4gcXVlcnkocHJvdmlkZXIsICdldGhfZ2V0QmxvY2tCeU51bWJlcicsIFtibG9ja051bSwgZmFsc2VdKSlcbiAgKVxuICByZXR1cm4gYmxvY2tCb2RpZXNcbn1cblxuZnVuY3Rpb24gaGV4VG9JbnQoaGV4U3RyaW5nKSB7XG4gIGlmIChoZXhTdHJpbmcgPT09IHVuZGVmaW5lZCB8fCBoZXhTdHJpbmcgPT09IG51bGwpIHJldHVybiBoZXhTdHJpbmdcbiAgcmV0dXJuIE51bWJlci5wYXJzZUludChoZXhTdHJpbmcsIDE2KVxufVxuXG5mdW5jdGlvbiBpbmNyZW1lbnRIZXhJbnQoaGV4U3RyaW5nKXtcbiAgaWYgKGhleFN0cmluZyA9PT0gdW5kZWZpbmVkIHx8IGhleFN0cmluZyA9PT0gbnVsbCkgcmV0dXJuIGhleFN0cmluZ1xuICBjb25zdCB2YWx1ZSA9IGhleFRvSW50KGhleFN0cmluZylcbiAgcmV0dXJuIGludFRvSGV4KHZhbHVlICsgMSlcbn1cblxuZnVuY3Rpb24gaW50VG9IZXgoaW50KSB7XG4gIGlmIChpbnQgPT09IHVuZGVmaW5lZCB8fCBpbnQgPT09IG51bGwpIHJldHVybiBpbnRcbiAgY29uc3QgaGV4U3RyaW5nID0gaW50LnRvU3RyaW5nKDE2KVxuICByZXR1cm4gJzB4JyArIGhleFN0cmluZ1xufVxuXG5mdW5jdGlvbiBxdWVyeShwcm92aWRlciwgbWV0aG9kLCBwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBwcm92aWRlci5zZW5kQXN5bmMoeyBpZDogMSwganNvbnJwYzogJzIuMCcsIG1ldGhvZCwgcGFyYW1zIH0sIChlcnIsIHJlcykgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpXG4gICAgICByZXNvbHZlKHJlcy5yZXN1bHQpXG4gICAgfSlcbiAgfSlcbn1cbiIsIlxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIG1pbkJsb2NrUmVmLFxuICBtYXhCbG9ja1JlZixcbiAgc29ydEJsb2NrUmVmcyxcbiAgYm5Ub0hleCxcbiAgYmxvY2tSZWZJc051bWJlcixcbiAgaGV4VG9JbnQsXG4gIGluY3JlbWVudEhleEludCxcbiAgaW50VG9IZXgsXG4gIHVuc2FmZVJhbmRvbUJ5dGVzLFxufVxuXG5mdW5jdGlvbiBtaW5CbG9ja1JlZiguLi5yZWZzKSB7XG4gIGNvbnN0IHNvcnRlZFJlZnMgPSBzb3J0QmxvY2tSZWZzKHJlZnMpXG4gIHJldHVybiBzb3J0ZWRSZWZzWzBdXG59XG5cbmZ1bmN0aW9uIG1heEJsb2NrUmVmKC4uLnJlZnMpIHtcbiAgY29uc3Qgc29ydGVkUmVmcyA9IHNvcnRCbG9ja1JlZnMocmVmcylcbiAgcmV0dXJuIHNvcnRlZFJlZnNbc29ydGVkUmVmcy5sZW5ndGgtMV1cbn1cblxuZnVuY3Rpb24gc29ydEJsb2NrUmVmcyhyZWZzKSB7XG4gIHJldHVybiByZWZzLnNvcnQoKHJlZkEsIHJlZkIpID0+IHtcbiAgICBpZiAocmVmQSA9PT0gJ2xhdGVzdCcgfHwgcmVmQiA9PT0gJ2VhcmxpZXN0JykgcmV0dXJuIDFcbiAgICBpZiAocmVmQiA9PT0gJ2xhdGVzdCcgfHwgcmVmQSA9PT0gJ2VhcmxpZXN0JykgcmV0dXJuIC0xXG4gICAgcmV0dXJuIGhleFRvSW50KHJlZkEpIC0gaGV4VG9JbnQocmVmQilcbiAgfSlcbn1cblxuZnVuY3Rpb24gYm5Ub0hleChibikge1xuICByZXR1cm4gJzB4JyArIGJuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiBibG9ja1JlZklzTnVtYmVyKGJsb2NrUmVmKXtcbiAgcmV0dXJuIGJsb2NrUmVmICYmICFbJ2VhcmxpZXN0JywgJ2xhdGVzdCcsICdwZW5kaW5nJ10uaW5jbHVkZXMoYmxvY2tSZWYpXG59XG5cbmZ1bmN0aW9uIGhleFRvSW50KGhleFN0cmluZykge1xuICBpZiAoaGV4U3RyaW5nID09PSB1bmRlZmluZWQgfHwgaGV4U3RyaW5nID09PSBudWxsKSByZXR1cm4gaGV4U3RyaW5nXG4gIHJldHVybiBOdW1iZXIucGFyc2VJbnQoaGV4U3RyaW5nLCAxNilcbn1cblxuZnVuY3Rpb24gaW5jcmVtZW50SGV4SW50KGhleFN0cmluZyl7XG4gIGlmIChoZXhTdHJpbmcgPT09IHVuZGVmaW5lZCB8fCBoZXhTdHJpbmcgPT09IG51bGwpIHJldHVybiBoZXhTdHJpbmdcbiAgY29uc3QgdmFsdWUgPSBoZXhUb0ludChoZXhTdHJpbmcpXG4gIHJldHVybiBpbnRUb0hleCh2YWx1ZSArIDEpXG59XG5cbmZ1bmN0aW9uIGludFRvSGV4KGludCkge1xuICBpZiAoaW50ID09PSB1bmRlZmluZWQgfHwgaW50ID09PSBudWxsKSByZXR1cm4gaW50XG4gIGxldCBoZXhTdHJpbmcgPSBpbnQudG9TdHJpbmcoMTYpXG4gIGNvbnN0IG5lZWRzTGVmdFBhZCA9IGhleFN0cmluZy5sZW5ndGggJSAyXG4gIGlmIChuZWVkc0xlZnRQYWQpIGhleFN0cmluZyA9ICcwJyArIGhleFN0cmluZ1xuICByZXR1cm4gJzB4JyArIGhleFN0cmluZ1xufVxuXG5mdW5jdGlvbiB1bnNhZmVSYW5kb21CeXRlcyhieXRlQ291bnQpIHtcbiAgbGV0IHJlc3VsdCA9ICcweCdcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlQ291bnQ7IGkrKykge1xuICAgIHJlc3VsdCArPSB1bnNhZmVSYW5kb21OaWJibGUoKVxuICAgIHJlc3VsdCArPSB1bnNhZmVSYW5kb21OaWJibGUoKVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gdW5zYWZlUmFuZG9tTmliYmxlKCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYpLnRvU3RyaW5nKDE2KVxufVxuIiwiY29uc3QgTXV0ZXggPSByZXF1aXJlKCdhc3luYy1tdXRleCcpLk11dGV4XG5jb25zdCB7IGNyZWF0ZUFzeW5jTWlkZGxld2FyZSB9ID0gcmVxdWlyZSgnanNvbi1ycGMtZW5naW5lJylcbmNvbnN0IGNyZWF0ZUpzb25ScGNNaWRkbGV3YXJlID0gcmVxdWlyZSgnZXRoLWpzb24tcnBjLW1pZGRsZXdhcmUvc2NhZmZvbGQnKVxuY29uc3QgTG9nRmlsdGVyID0gcmVxdWlyZSgnLi9sb2ctZmlsdGVyLmpzJylcbmNvbnN0IEJsb2NrRmlsdGVyID0gcmVxdWlyZSgnLi9ibG9jay1maWx0ZXIuanMnKVxuY29uc3QgVHhGaWx0ZXIgPSByZXF1aXJlKCcuL3R4LWZpbHRlci5qcycpXG5jb25zdCB7IGludFRvSGV4LCBoZXhUb0ludCB9ID0gcmVxdWlyZSgnLi9oZXhVdGlscycpXG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlRXRoRmlsdGVyTWlkZGxld2FyZVxuXG5mdW5jdGlvbiBjcmVhdGVFdGhGaWx0ZXJNaWRkbGV3YXJlKHsgYmxvY2tUcmFja2VyLCBwcm92aWRlciB9KSB7XG5cbiAgLy8gY3JlYXRlIGZpbHRlciBjb2xsZWN0aW9uXG4gIGxldCBmaWx0ZXJJbmRleCA9IDBcbiAgbGV0IGZpbHRlcnMgPSB7fVxuICAvLyBjcmVhdGUgdXBkYXRlIG11dGV4XG4gIGNvbnN0IG11dGV4ID0gbmV3IE11dGV4KClcbiAgY29uc3Qgd2FpdEZvckZyZWUgPSBtdXRleE1pZGRsZXdhcmVXcmFwcGVyKHsgbXV0ZXggfSlcblxuICBjb25zdCBtaWRkbGV3YXJlID0gY3JlYXRlSnNvblJwY01pZGRsZXdhcmUoe1xuICAgIC8vIGluc3RhbGwgZmlsdGVyc1xuICAgIGV0aF9uZXdGaWx0ZXI6ICAgICAgICAgICAgICAgICAgIHdhaXRGb3JGcmVlKHRvRmlsdGVyQ3JlYXRpb25NaWRkbGV3YXJlKG5ld0xvZ0ZpbHRlcikpLFxuICAgIGV0aF9uZXdCbG9ja0ZpbHRlcjogICAgICAgICAgICAgIHdhaXRGb3JGcmVlKHRvRmlsdGVyQ3JlYXRpb25NaWRkbGV3YXJlKG5ld0Jsb2NrRmlsdGVyKSksXG4gICAgZXRoX25ld1BlbmRpbmdUcmFuc2FjdGlvbkZpbHRlcjogd2FpdEZvckZyZWUodG9GaWx0ZXJDcmVhdGlvbk1pZGRsZXdhcmUobmV3UGVuZGluZ1RyYW5zYWN0aW9uRmlsdGVyKSksXG4gICAgLy8gdW5pbnN0YWxsIGZpbHRlcnNcbiAgICBldGhfdW5pbnN0YWxsRmlsdGVyOiAgICAgICAgICAgICB3YWl0Rm9yRnJlZSh0b0FzeW5jUnBjTWlkZGxld2FyZSh1bmluc3RhbGxGaWx0ZXJIYW5kbGVyKSksXG4gICAgLy8gY2hlY2tpbmcgZmlsdGVyIGNoYW5nZXNcbiAgICBldGhfZ2V0RmlsdGVyQ2hhbmdlczogICAgICAgICAgICB3YWl0Rm9yRnJlZSh0b0FzeW5jUnBjTWlkZGxld2FyZShnZXRGaWx0ZXJDaGFuZ2VzKSksXG4gICAgZXRoX2dldEZpbHRlckxvZ3M6ICAgICAgICAgICAgICAgd2FpdEZvckZyZWUodG9Bc3luY1JwY01pZGRsZXdhcmUoZ2V0RmlsdGVyTG9ncykpLFxuICB9KVxuXG4gIC8vIHNldHVwIGZpbHRlciB1cGRhdGluZyBhbmQgZGVzdHJveSBoYW5kbGVyXG4gIGNvbnN0IGZpbHRlclVwZGF0ZXIgPSBhc3luYyAoeyBvbGRCbG9jaywgbmV3QmxvY2sgfSkgPT4ge1xuICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG4gICAgLy8gbG9jayB1cGRhdGUgcmVhZHNcbiAgICBjb25zdCByZWxlYXNlTG9jayA9IGF3YWl0IG11dGV4LmFjcXVpcmUoKVxuICAgIHRyeSB7XG4gICAgICAvLyBwcm9jZXNzIGFsbCBmaWx0ZXJzIGluIHBhcmFsbGVsXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChvYmpWYWx1ZXMoZmlsdGVycykubWFwKGFzeW5jIChmaWx0ZXIpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgIGF3YWl0IGZpbHRlci51cGRhdGUoeyBvbGRCbG9jaywgbmV3QmxvY2sgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgLy8gaGFuZGxlIGVhY2ggZXJyb3IgaW5kaXZpZHVhbGx5IHNvIGZpbHRlciB1cGRhdGUgZXJyb3JzIGRvbid0IGFmZmVjdCBvdGhlciBmaWx0ZXJzXG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICAgIH1cbiAgICAgIH0pKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gbG9nIGVycm9yIHNvIHdlIGRvbid0IHNraXAgdGhlIHJlbGVhc2VMb2NrXG4gICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICB9XG4gICAgLy8gdW5sb2NrIHVwZGF0ZSByZWFkc1xuICAgIHJlbGVhc2VMb2NrKClcbiAgfVxuXG4gIC8vIGV4cG9zZSBmaWx0ZXIgbWV0aG9kcyBkaXJlY3RseVxuICBtaWRkbGV3YXJlLm5ld0xvZ0ZpbHRlciA9IG5ld0xvZ0ZpbHRlclxuICBtaWRkbGV3YXJlLm5ld0Jsb2NrRmlsdGVyID0gbmV3QmxvY2tGaWx0ZXJcbiAgbWlkZGxld2FyZS5uZXdQZW5kaW5nVHJhbnNhY3Rpb25GaWx0ZXIgPSBuZXdQZW5kaW5nVHJhbnNhY3Rpb25GaWx0ZXJcbiAgbWlkZGxld2FyZS51bmluc3RhbGxGaWx0ZXIgPSB1bmluc3RhbGxGaWx0ZXJIYW5kbGVyXG4gIG1pZGRsZXdhcmUuZ2V0RmlsdGVyQ2hhbmdlcyA9IGdldEZpbHRlckNoYW5nZXNcbiAgbWlkZGxld2FyZS5nZXRGaWx0ZXJMb2dzID0gZ2V0RmlsdGVyTG9nc1xuXG4gIC8vIGV4cG9zZSBkZXN0cm95IG1ldGhvZCBmb3IgY2xlYW51cFxuICBtaWRkbGV3YXJlLmRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgdW5pbnN0YWxsQWxsRmlsdGVycygpXG4gIH1cblxuICByZXR1cm4gbWlkZGxld2FyZVxuXG4gIC8vXG4gIC8vIG5ldyBmaWx0ZXJzXG4gIC8vXG5cbiAgYXN5bmMgZnVuY3Rpb24gbmV3TG9nRmlsdGVyKHBhcmFtcykge1xuICAgIGNvbnN0IGZpbHRlciA9IG5ldyBMb2dGaWx0ZXIoeyBwcm92aWRlciwgcGFyYW1zIH0pXG4gICAgY29uc3QgZmlsdGVySW5kZXggPSBhd2FpdCBpbnN0YWxsRmlsdGVyKGZpbHRlcilcbiAgICByZXR1cm4gZmlsdGVyXG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBuZXdCbG9ja0ZpbHRlcigpIHtcbiAgICBjb25zdCBmaWx0ZXIgPSBuZXcgQmxvY2tGaWx0ZXIoeyBwcm92aWRlciB9KVxuICAgIGNvbnN0IGZpbHRlckluZGV4ID0gYXdhaXQgaW5zdGFsbEZpbHRlcihmaWx0ZXIpXG4gICAgcmV0dXJuIGZpbHRlclxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gbmV3UGVuZGluZ1RyYW5zYWN0aW9uRmlsdGVyKCkge1xuICAgIGNvbnN0IGZpbHRlciA9IG5ldyBUeEZpbHRlcih7IHByb3ZpZGVyIH0pXG4gICAgY29uc3QgZmlsdGVySW5kZXggPSBhd2FpdCBpbnN0YWxsRmlsdGVyKGZpbHRlcilcbiAgICByZXR1cm4gZmlsdGVyXG4gIH1cblxuICAvL1xuICAvLyBnZXQgZmlsdGVyIGNoYW5nZXNcbiAgLy9cblxuICBhc3luYyBmdW5jdGlvbiBnZXRGaWx0ZXJDaGFuZ2VzKGZpbHRlckluZGV4SGV4KSB7XG4gICAgY29uc3QgZmlsdGVySW5kZXggPSBoZXhUb0ludChmaWx0ZXJJbmRleEhleClcbiAgICBjb25zdCBmaWx0ZXIgPSBmaWx0ZXJzW2ZpbHRlckluZGV4XVxuICAgIGlmICghZmlsdGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGZpbHRlciBmb3IgaW5kZXggXCIke2ZpbHRlckluZGV4fVwiYClcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IGZpbHRlci5nZXRDaGFuZ2VzQW5kQ2xlYXIoKVxuICAgIHJldHVybiByZXN1bHRzXG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBnZXRGaWx0ZXJMb2dzKGZpbHRlckluZGV4SGV4KSB7XG4gICAgY29uc3QgZmlsdGVySW5kZXggPSBoZXhUb0ludChmaWx0ZXJJbmRleEhleClcbiAgICBjb25zdCBmaWx0ZXIgPSBmaWx0ZXJzW2ZpbHRlckluZGV4XVxuICAgIGlmICghZmlsdGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGZpbHRlciBmb3IgaW5kZXggXCIke2ZpbHRlckluZGV4fVwiYClcbiAgICB9XG4gICAgLy8gb25seSByZXR1cm4gcmVzdWx0cyBmb3IgbG9nIGZpbHRlcnNcbiAgICBpZiAoZmlsdGVyLnR5cGUgPT09ICdsb2cnKSB7XG4gICAgICByZXN1bHRzID0gZmlsdGVyLmdldEFsbFJlc3VsdHMoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRzID0gW11cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgfVxuXG5cbiAgLy9cbiAgLy8gcmVtb3ZlIGZpbHRlcnNcbiAgLy9cblxuXG4gIGFzeW5jIGZ1bmN0aW9uIHVuaW5zdGFsbEZpbHRlckhhbmRsZXIoZmlsdGVySW5kZXhIZXgpIHtcbiAgICAvLyBjaGVjayBmaWx0ZXIgZXhpc3RzXG4gICAgY29uc3QgZmlsdGVySW5kZXggPSBoZXhUb0ludChmaWx0ZXJJbmRleEhleClcbiAgICBjb25zdCBmaWx0ZXIgPSBmaWx0ZXJzW2ZpbHRlckluZGV4XVxuICAgIGNvbnN0IHJlc3VsdCA9IEJvb2xlYW4oZmlsdGVyKVxuICAgIC8vIHVuaW5zdGFsbCBmaWx0ZXJcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBhd2FpdCB1bmluc3RhbGxGaWx0ZXIoZmlsdGVySW5kZXgpXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vXG4gIC8vIHV0aWxzXG4gIC8vXG5cbiAgYXN5bmMgZnVuY3Rpb24gaW5zdGFsbEZpbHRlcihmaWx0ZXIpIHtcbiAgICBjb25zdCBwcmV2RmlsdGVyQ291bnQgPSBvYmpWYWx1ZXMoZmlsdGVycykubGVuZ3RoXG4gICAgLy8gaW5zdGFsbCBmaWx0ZXJcbiAgICBjb25zdCBjdXJyZW50QmxvY2sgPSBhd2FpdCBibG9ja1RyYWNrZXIuZ2V0TGF0ZXN0QmxvY2soKVxuICAgIGF3YWl0IGZpbHRlci5pbml0aWFsaXplKHsgY3VycmVudEJsb2NrIH0pXG4gICAgZmlsdGVySW5kZXgrK1xuICAgIGZpbHRlcnNbZmlsdGVySW5kZXhdID0gZmlsdGVyXG4gICAgZmlsdGVyLmlkID0gZmlsdGVySW5kZXhcbiAgICBmaWx0ZXIuaWRIZXggPSBpbnRUb0hleChmaWx0ZXJJbmRleClcbiAgICAvLyB1cGRhdGUgYmxvY2sgdHJhY2tlciBzdWJzXG4gICAgY29uc3QgbmV3RmlsdGVyQ291bnQgPSBvYmpWYWx1ZXMoZmlsdGVycykubGVuZ3RoXG4gICAgdXBkYXRlQmxvY2tUcmFja2VyU3Vicyh7IHByZXZGaWx0ZXJDb3VudCwgbmV3RmlsdGVyQ291bnQgfSlcbiAgICByZXR1cm4gZmlsdGVySW5kZXhcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHVuaW5zdGFsbEZpbHRlcihmaWx0ZXJJbmRleCkge1xuICAgIGNvbnN0IHByZXZGaWx0ZXJDb3VudCA9IG9ialZhbHVlcyhmaWx0ZXJzKS5sZW5ndGhcbiAgICBkZWxldGUgZmlsdGVyc1tmaWx0ZXJJbmRleF1cbiAgICAvLyB1cGRhdGUgYmxvY2sgdHJhY2tlciBzdWJzXG4gICAgY29uc3QgbmV3RmlsdGVyQ291bnQgPSBvYmpWYWx1ZXMoZmlsdGVycykubGVuZ3RoXG4gICAgdXBkYXRlQmxvY2tUcmFja2VyU3Vicyh7IHByZXZGaWx0ZXJDb3VudCwgbmV3RmlsdGVyQ291bnQgfSlcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHVuaW5zdGFsbEFsbEZpbHRlcnMoKSB7XG4gICAgY29uc3QgcHJldkZpbHRlckNvdW50ID0gb2JqVmFsdWVzKGZpbHRlcnMpLmxlbmd0aFxuICAgIGZpbHRlcnMgPSB7fVxuICAgIC8vIHVwZGF0ZSBibG9jayB0cmFja2VyIHN1YnNcbiAgICB1cGRhdGVCbG9ja1RyYWNrZXJTdWJzKHsgcHJldkZpbHRlckNvdW50LCBuZXdGaWx0ZXJDb3VudDogMCB9KVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQmxvY2tUcmFja2VyU3Vicyh7IHByZXZGaWx0ZXJDb3VudCwgbmV3RmlsdGVyQ291bnQgfSkge1xuICAgIC8vIHN1YnNjcmliZVxuICAgIGlmIChwcmV2RmlsdGVyQ291bnQgPT09IDAgJiYgbmV3RmlsdGVyQ291bnQgPiAwKSB7XG4gICAgICBibG9ja1RyYWNrZXIub24oJ3N5bmMnLCBmaWx0ZXJVcGRhdGVyKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIHVuc3Vic2NyaWJlXG4gICAgaWYgKHByZXZGaWx0ZXJDb3VudCA+IDAgJiYgbmV3RmlsdGVyQ291bnQgPT09IDApIHtcbiAgICAgIGJsb2NrVHJhY2tlci5yZW1vdmVMaXN0ZW5lcignc3luYycsIGZpbHRlclVwZGF0ZXIpXG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cblxufVxuXG4vLyBoZWxwZXIgZm9yIHR1cm5pbmcgZmlsdGVyIGNvbnN0cnVjdG9ycyBpbnRvIHJwYyBtaWRkbGV3YXJlXG5mdW5jdGlvbiB0b0ZpbHRlckNyZWF0aW9uTWlkZGxld2FyZShjcmVhdGVGaWx0ZXJGbikge1xuICByZXR1cm4gdG9Bc3luY1JwY01pZGRsZXdhcmUoYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBmaWx0ZXIgPSBhd2FpdCBjcmVhdGVGaWx0ZXJGbiguLi5hcmdzKVxuICAgIGNvbnN0IHJlc3VsdCA9IGludFRvSGV4KGZpbHRlci5pZClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0pXG59XG5cbi8vIGhlbHBlciBmb3IgcHVsbGluZyBvdXQgcmVxLnBhcmFtcyBhbmQgc2V0dGluZyByZXMucmVzdWx0XG5mdW5jdGlvbiB0b0FzeW5jUnBjTWlkZGxld2FyZShhc3luY0ZuKSB7XG4gIHJldHVybiBjcmVhdGVBc3luY01pZGRsZXdhcmUoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXN5bmNGbi5hcHBseShudWxsLCByZXEucGFyYW1zKVxuICAgIHJlcy5yZXN1bHQgPSByZXN1bHRcbiAgfSlcbn1cblxuZnVuY3Rpb24gbXV0ZXhNaWRkbGV3YXJlV3JhcHBlcih7IG11dGV4IH0pIHtcbiAgcmV0dXJuIChtaWRkbGV3YXJlKSA9PiB7XG4gICAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcywgbmV4dCwgZW5kKSA9PiB7XG4gICAgICAvLyB3YWl0IGZvciBtdXRleCBhdmFpbGFibGVcbiAgICAgIC8vIHdlIGNhbiByZWxlYXNlIGltbWVkaWF0ZWx5IGJlY2F1c2VcbiAgICAgIC8vIHdlIGp1c3QgbmVlZCB0byBtYWtlIHN1cmUgdXBkYXRlcyBhcmVuJ3QgYWN0aXZlXG4gICAgICBjb25zdCByZWxlYXNlTG9jayA9IGF3YWl0IG11dGV4LmFjcXVpcmUoKVxuICAgICAgcmVsZWFzZUxvY2soKVxuICAgICAgbWlkZGxld2FyZShyZXEsIHJlcywgbmV4dCwgZW5kKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvYmpWYWx1ZXMob2JqLCBmbil7XG4gIGNvbnN0IHZhbHVlcyA9IFtdXG4gIGZvciAobGV0IGtleSBpbiBvYmopIHtcbiAgICB2YWx1ZXMucHVzaChvYmpba2V5XSlcbiAgfVxuICByZXR1cm4gdmFsdWVzXG59XG4iLCJjb25zdCBFdGhRdWVyeSA9IHJlcXVpcmUoJ2V0aC1xdWVyeScpXG5jb25zdCBwaWZ5ID0gcmVxdWlyZSgncGlmeScpXG5jb25zdCBCYXNlRmlsdGVyV2l0aEhpc3RvcnkgPSByZXF1aXJlKCcuL2Jhc2UtZmlsdGVyLWhpc3RvcnknKVxuY29uc3QgeyBiblRvSGV4LCBoZXhUb0ludCwgaW5jcmVtZW50SGV4SW50LCBtaW5CbG9ja1JlZiwgYmxvY2tSZWZJc051bWJlciB9ID0gcmVxdWlyZSgnLi9oZXhVdGlscycpXG5cbmNsYXNzIExvZ0ZpbHRlciBleHRlbmRzIEJhc2VGaWx0ZXJXaXRoSGlzdG9yeSB7XG5cbiAgY29uc3RydWN0b3IgKHsgcHJvdmlkZXIsIHBhcmFtcyB9KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMudHlwZSA9ICdsb2cnXG4gICAgdGhpcy5ldGhRdWVyeSA9IG5ldyBFdGhRdWVyeShwcm92aWRlcilcbiAgICB0aGlzLnBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgZnJvbUJsb2NrOiAnbGF0ZXN0JyxcbiAgICAgIHRvQmxvY2s6ICdsYXRlc3QnLFxuICAgICAgYWRkcmVzczogdW5kZWZpbmVkLFxuICAgICAgdG9waWNzOiBbXSxcbiAgICB9LCBwYXJhbXMpXG4gICAgLy8gbm9ybWFsaXplIGFkZHJlc3MgcGFyYW1ldGVyXG4gICAgaWYgKHRoaXMucGFyYW1zLmFkZHJlc3MpIHtcbiAgICAgIC8vIGVuc3VyZSBhcnJheVxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMucGFyYW1zLmFkZHJlc3MpKSB7XG4gICAgICAgIHRoaXMucGFyYW1zLmFkZHJlc3MgPSBbdGhpcy5wYXJhbXMuYWRkcmVzc11cbiAgICAgIH1cbiAgICAgIC8vIGVuc3VyZSBsb3dlcmNhc2VcbiAgICAgIHRoaXMucGFyYW1zLmFkZHJlc3MgPSB0aGlzLnBhcmFtcy5hZGRyZXNzLm1hcChhZGRyZXNzID0+IGFkZHJlc3MudG9Mb3dlckNhc2UoKSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplKHsgY3VycmVudEJsb2NrIH0pIHtcbiAgICAvLyByZXNvbHZlIHBhcmFtcy5mcm9tQmxvY2tcbiAgICBsZXQgZnJvbUJsb2NrID0gdGhpcy5wYXJhbXMuZnJvbUJsb2NrXG4gICAgaWYgKFsnbGF0ZXN0JywgJ3BlbmRpbmcnXS5pbmNsdWRlcyhmcm9tQmxvY2spKSBmcm9tQmxvY2sgPSBjdXJyZW50QmxvY2tcbiAgICBpZiAoJ2VhcmxpZXN0JyA9PT0gZnJvbUJsb2NrKSBmcm9tQmxvY2sgPSAnMHgwJ1xuICAgIHRoaXMucGFyYW1zLmZyb21CbG9jayA9IGZyb21CbG9ja1xuICAgIC8vIHNldCB0b0Jsb2NrIGZvciBpbml0aWFsIGxvb2t1cFxuICAgIGNvbnN0IHRvQmxvY2sgPSBtaW5CbG9ja1JlZih0aGlzLnBhcmFtcy50b0Jsb2NrLCBjdXJyZW50QmxvY2spXG4gICAgY29uc3QgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wYXJhbXMsIHsgdG9CbG9jayB9KVxuICAgIC8vIGZldGNoIGxvZ3MgYW5kIGFkZCB0byByZXN1bHRzXG4gICAgY29uc3QgbmV3TG9ncyA9IGF3YWl0IHRoaXMuX2ZldGNoTG9ncyhwYXJhbXMpXG4gICAgdGhpcy5hZGRJbml0aWFsUmVzdWx0cyhuZXdMb2dzKVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlICh7IG9sZEJsb2NrLCBuZXdCbG9jayB9KSB7XG4gICAgLy8gY29uZmlndXJlIHBhcmFtcyBmb3IgdGhpcyB1cGRhdGVcbiAgICBjb25zdCB0b0Jsb2NrID0gbmV3QmxvY2tcbiAgICBsZXQgZnJvbUJsb2NrXG4gICAgLy8gb2xkQmxvY2sgaXMgZW1wdHkgb24gZmlyc3Qgc3luY1xuICAgIGlmIChvbGRCbG9jaykge1xuICAgICAgZnJvbUJsb2NrID0gaW5jcmVtZW50SGV4SW50KG9sZEJsb2NrKVxuICAgIH0gZWxzZSB7XG4gICAgICBmcm9tQmxvY2sgPSBuZXdCbG9ja1xuICAgIH1cbiAgICAvLyBmZXRjaCBsb2dzXG4gICAgY29uc3QgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wYXJhbXMsIHsgZnJvbUJsb2NrLCB0b0Jsb2NrIH0pXG4gICAgY29uc3QgbmV3TG9ncyA9IGF3YWl0IHRoaXMuX2ZldGNoTG9ncyhwYXJhbXMpXG4gICAgY29uc3QgbWF0Y2hpbmdMb2dzID0gbmV3TG9ncy5maWx0ZXIobG9nID0+IHRoaXMubWF0Y2hMb2cobG9nKSlcblxuICAgIC8vIGFkZCB0byByZXN1bHRzXG4gICAgdGhpcy5hZGRSZXN1bHRzKG1hdGNoaW5nTG9ncylcbiAgfVxuXG4gIGFzeW5jIF9mZXRjaExvZ3MgKHBhcmFtcykge1xuICAgIGNvbnN0IG5ld0xvZ3MgPSBhd2FpdCBwaWZ5KGNiID0+IHRoaXMuZXRoUXVlcnkuZ2V0TG9ncyhwYXJhbXMsIGNiKSkoKVxuICAgIC8vIGFkZCB0byByZXN1bHRzXG4gICAgcmV0dXJuIG5ld0xvZ3NcbiAgfVxuXG4gIG1hdGNoTG9nKGxvZykge1xuICAgIC8vIGNoZWNrIGlmIGJsb2NrIG51bWJlciBpbiBib3VuZHM6XG4gICAgaWYgKGhleFRvSW50KHRoaXMucGFyYW1zLmZyb21CbG9jaykgPj0gaGV4VG9JbnQobG9nLmJsb2NrTnVtYmVyKSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGJsb2NrUmVmSXNOdW1iZXIodGhpcy5wYXJhbXMudG9CbG9jaykgJiYgaGV4VG9JbnQodGhpcy5wYXJhbXMudG9CbG9jaykgPD0gaGV4VG9JbnQobG9nLmJsb2NrTnVtYmVyKSkgcmV0dXJuIGZhbHNlXG5cbiAgICAvLyBhZGRyZXNzIGlzIGNvcnJlY3Q6XG4gICAgY29uc3Qgbm9ybWFsaXplZExvZ0FkZHJlc3MgPSBsb2cuYWRkcmVzcyAmJiBsb2cuYWRkcmVzcy50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKHRoaXMucGFyYW1zLmFkZHJlc3MgJiYgbm9ybWFsaXplZExvZ0FkZHJlc3MgJiYgIXRoaXMucGFyYW1zLmFkZHJlc3MuaW5jbHVkZXMobm9ybWFsaXplZExvZ0FkZHJlc3MpKSByZXR1cm4gZmFsc2VcblxuICAgIC8vIHRvcGljcyBtYXRjaDpcbiAgICAvLyB0b3BpY3MgYXJlIHBvc2l0aW9uLWRlcGVuZGFudFxuICAgIC8vIHRvcGljcyBjYW4gYmUgbmVzdGVkIHRvIHJlcHJlc2VudCBgb3JgIFtbYSB8fCBiXSwgY11cbiAgICAvLyB0b3BpY3MgY2FuIGJlIG51bGwsIHJlcHJlc2VudGluZyBhIHdpbGQgY2FyZCBmb3IgdGhhdCBwb3NpdGlvblxuICAgIGNvbnN0IHRvcGljc01hdGNoID0gdGhpcy5wYXJhbXMudG9waWNzLmV2ZXJ5KCh0b3BpY1BhdHRlcm4sIGluZGV4KSA9PiB7XG4gICAgICAvLyBwYXR0ZXJuIGlzIGxvbmdlciB0aGFuIGFjdHVhbCB0b3BpY3NcbiAgICAgIGxldCBsb2dUb3BpYyA9IGxvZy50b3BpY3NbaW5kZXhdXG4gICAgICBpZiAoIWxvZ1RvcGljKSByZXR1cm4gZmFsc2VcbiAgICAgIGxvZ1RvcGljID0gbG9nVG9waWMudG9Mb3dlckNhc2UoKVxuICAgICAgLy8gbm9ybWFsaXplIHN1YlRvcGljc1xuICAgICAgbGV0IHN1YnRvcGljc1RvTWF0Y2ggPSBBcnJheS5pc0FycmF5KHRvcGljUGF0dGVybikgPyB0b3BpY1BhdHRlcm4gOiBbdG9waWNQYXR0ZXJuXVxuICAgICAgLy8gY2hlY2sgZm9yIHdpbGQgY2FyZFxuICAgICAgY29uc3Qgc3VidG9waWNzSW5jbHVkZVdpbGRjYXJkID0gc3VidG9waWNzVG9NYXRjaC5pbmNsdWRlcyhudWxsKVxuICAgICAgaWYgKHN1YnRvcGljc0luY2x1ZGVXaWxkY2FyZCkgcmV0dXJuIHRydWVcbiAgICAgIHN1YnRvcGljc1RvTWF0Y2ggPSBzdWJ0b3BpY3NUb01hdGNoLm1hcCh0b3BpYyA9PiB0b3BpYy50b0xvd2VyQ2FzZSgpKVxuICAgICAgLy8gY2hlY2sgZWFjaCBwb3NzaWJsZSBtYXRjaGluZyB0b3BpY1xuICAgICAgY29uc3QgdG9waWNEb2VzTWF0Y2ggPSBzdWJ0b3BpY3NUb01hdGNoLmluY2x1ZGVzKGxvZ1RvcGljKVxuICAgICAgcmV0dXJuIHRvcGljRG9lc01hdGNoXG4gICAgfSlcblxuICAgIHJldHVybiB0b3BpY3NNYXRjaFxuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBMb2dGaWx0ZXJcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcHJvY2Vzc0ZuID0gKGZuLCBvcHRpb25zLCBwcm94eSwgdW53cmFwcGVkKSA9PiBmdW5jdGlvbiAoLi4uYXJndW1lbnRzXykge1xuXHRjb25zdCBQID0gb3B0aW9ucy5wcm9taXNlTW9kdWxlO1xuXG5cdHJldHVybiBuZXcgUCgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0aWYgKG9wdGlvbnMubXVsdGlBcmdzKSB7XG5cdFx0XHRhcmd1bWVudHNfLnB1c2goKC4uLnJlc3VsdCkgPT4ge1xuXHRcdFx0XHRpZiAob3B0aW9ucy5lcnJvckZpcnN0KSB7XG5cdFx0XHRcdFx0aWYgKHJlc3VsdFswXSkge1xuXHRcdFx0XHRcdFx0cmVqZWN0KHJlc3VsdCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc3VsdC5zaGlmdCgpO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZShyZXN1bHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXNvbHZlKHJlc3VsdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvckZpcnN0KSB7XG5cdFx0XHRhcmd1bWVudHNfLnB1c2goKGVycm9yLCByZXN1bHQpID0+IHtcblx0XHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXNvbHZlKHJlc3VsdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhcmd1bWVudHNfLnB1c2gocmVzb2x2ZSk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXMgPT09IHByb3h5ID8gdW53cmFwcGVkIDogdGhpcztcblx0XHRSZWZsZWN0LmFwcGx5KGZuLCBzZWxmLCBhcmd1bWVudHNfKTtcblx0fSk7XG59O1xuXG5jb25zdCBmaWx0ZXJDYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gKGlucHV0LCBvcHRpb25zKSA9PiB7XG5cdG9wdGlvbnMgPSB7XG5cdFx0ZXhjbHVkZTogWy8uKyg/OlN5bmN8U3RyZWFtKSQvXSxcblx0XHRlcnJvckZpcnN0OiB0cnVlLFxuXHRcdHByb21pc2VNb2R1bGU6IFByb21pc2UsXG5cdFx0Li4ub3B0aW9uc1xuXHR9O1xuXG5cdGNvbnN0IG9iamVjdFR5cGUgPSB0eXBlb2YgaW5wdXQ7XG5cdGlmICghKGlucHV0ICE9PSBudWxsICYmIChvYmplY3RUeXBlID09PSAnb2JqZWN0JyB8fCBvYmplY3RUeXBlID09PSAnZnVuY3Rpb24nKSkpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBcXGBpbnB1dFxcYCB0byBiZSBhIFxcYEZ1bmN0aW9uXFxgIG9yIFxcYE9iamVjdFxcYCwgZ290IFxcYCR7aW5wdXQgPT09IG51bGwgPyAnbnVsbCcgOiBvYmplY3RUeXBlfVxcYGApO1xuXHR9XG5cblx0Y29uc3QgZmlsdGVyID0gKHRhcmdldCwga2V5KSA9PiB7XG5cdFx0bGV0IGNhY2hlZCA9IGZpbHRlckNhY2hlLmdldCh0YXJnZXQpO1xuXG5cdFx0aWYgKCFjYWNoZWQpIHtcblx0XHRcdGNhY2hlZCA9IHt9O1xuXHRcdFx0ZmlsdGVyQ2FjaGUuc2V0KHRhcmdldCwgY2FjaGVkKTtcblx0XHR9XG5cblx0XHRpZiAoa2V5IGluIGNhY2hlZCkge1xuXHRcdFx0cmV0dXJuIGNhY2hlZFtrZXldO1xuXHRcdH1cblxuXHRcdGNvbnN0IG1hdGNoID0gcGF0dGVybiA9PiAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBrZXkgPT09ICdzeW1ib2wnKSA/IGtleSA9PT0gcGF0dGVybiA6IHBhdHRlcm4udGVzdChrZXkpO1xuXHRcdGNvbnN0IGRlc2MgPSBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSk7XG5cdFx0Y29uc3Qgd3JpdGFibGVPckNvbmZpZ3VyYWJsZU93biA9IChkZXNjID09PSB1bmRlZmluZWQgfHwgZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSk7XG5cdFx0Y29uc3QgaW5jbHVkZWQgPSBvcHRpb25zLmluY2x1ZGUgPyBvcHRpb25zLmluY2x1ZGUuc29tZShtYXRjaCkgOiAhb3B0aW9ucy5leGNsdWRlLnNvbWUobWF0Y2gpO1xuXHRcdGNvbnN0IHNob3VsZEZpbHRlciA9IGluY2x1ZGVkICYmIHdyaXRhYmxlT3JDb25maWd1cmFibGVPd247XG5cdFx0Y2FjaGVkW2tleV0gPSBzaG91bGRGaWx0ZXI7XG5cdFx0cmV0dXJuIHNob3VsZEZpbHRlcjtcblx0fTtcblxuXHRjb25zdCBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5cblx0Y29uc3QgcHJveHkgPSBuZXcgUHJveHkoaW5wdXQsIHtcblx0XHRhcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHtcblx0XHRcdGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldCh0YXJnZXQpO1xuXG5cdFx0XHRpZiAoY2FjaGVkKSB7XG5cdFx0XHRcdHJldHVybiBSZWZsZWN0LmFwcGx5KGNhY2hlZCwgdGhpc0FyZywgYXJncyk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHBpZmllZCA9IG9wdGlvbnMuZXhjbHVkZU1haW4gPyB0YXJnZXQgOiBwcm9jZXNzRm4odGFyZ2V0LCBvcHRpb25zLCBwcm94eSwgdGFyZ2V0KTtcblx0XHRcdGNhY2hlLnNldCh0YXJnZXQsIHBpZmllZCk7XG5cdFx0XHRyZXR1cm4gUmVmbGVjdC5hcHBseShwaWZpZWQsIHRoaXNBcmcsIGFyZ3MpO1xuXHRcdH0sXG5cblx0XHRnZXQodGFyZ2V0LCBrZXkpIHtcblx0XHRcdGNvbnN0IHByb3BlcnR5ID0gdGFyZ2V0W2tleV07XG5cblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtZXh0ZW5kLW5hdGl2ZS9uby11c2UtZXh0ZW5kLW5hdGl2ZVxuXHRcdFx0aWYgKCFmaWx0ZXIodGFyZ2V0LCBrZXkpIHx8IHByb3BlcnR5ID09PSBGdW5jdGlvbi5wcm90b3R5cGVba2V5XSkge1xuXHRcdFx0XHRyZXR1cm4gcHJvcGVydHk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChwcm9wZXJ0eSk7XG5cblx0XHRcdGlmIChjYWNoZWQpIHtcblx0XHRcdFx0cmV0dXJuIGNhY2hlZDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjb25zdCBwaWZpZWQgPSBwcm9jZXNzRm4ocHJvcGVydHksIG9wdGlvbnMsIHByb3h5LCB0YXJnZXQpO1xuXHRcdFx0XHRjYWNoZS5zZXQocHJvcGVydHksIHBpZmllZCk7XG5cdFx0XHRcdHJldHVybiBwaWZpZWQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBwcm9wZXJ0eTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBwcm94eTtcbn07XG4iLCJjb25zdCBTYWZlRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnQG1ldGFtYXNrL3NhZmUtZXZlbnQtZW1pdHRlcicpLmRlZmF1bHRcbmNvbnN0IGNyZWF0ZVNjYWZmb2xkTWlkZGxld2FyZSA9IHJlcXVpcmUoJ2V0aC1qc29uLXJwYy1taWRkbGV3YXJlL3NjYWZmb2xkJylcbmNvbnN0IHsgY3JlYXRlQXN5bmNNaWRkbGV3YXJlIH0gPSByZXF1aXJlKCdqc29uLXJwYy1lbmdpbmUnKVxuY29uc3QgY3JlYXRlRmlsdGVyTWlkZGxld2FyZSA9IHJlcXVpcmUoJy4vaW5kZXguanMnKVxuY29uc3QgeyB1bnNhZmVSYW5kb21CeXRlcywgaW5jcmVtZW50SGV4SW50IH0gPSByZXF1aXJlKCcuL2hleFV0aWxzLmpzJylcbmNvbnN0IGdldEJsb2Nrc0ZvclJhbmdlID0gcmVxdWlyZSgnLi9nZXRCbG9ja3NGb3JSYW5nZS5qcycpXG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlU3Vic2NyaXB0aW9uTWlkZGxld2FyZVxuXG5cbmZ1bmN0aW9uIGNyZWF0ZVN1YnNjcmlwdGlvbk1pZGRsZXdhcmUoeyBibG9ja1RyYWNrZXIsIHByb3ZpZGVyIH0pIHtcbiAgLy8gc3RhdGUgYW5kIHV0aWxpdGllcyBmb3IgaGFuZGxpbmcgc3Vic2NyaXB0aW9uc1xuICBjb25zdCBzdWJzY3JpcHRpb25zID0ge31cbiAgY29uc3QgZmlsdGVyTWFuYWdlciA9IGNyZWF0ZUZpbHRlck1pZGRsZXdhcmUoeyBibG9ja1RyYWNrZXIsIHByb3ZpZGVyIH0pXG5cbiAgLy8gaW50ZXJuYWwgZmxhZ1xuICBsZXQgaXNEZXN0cm95ZWQgPSBmYWxzZVxuXG4gIC8vIGNyZWF0ZSBzdWJzY3JpcHRpb25NYW5hZ2VyIGFwaSBvYmplY3RcbiAgY29uc3QgZXZlbnRzID0gbmV3IFNhZmVFdmVudEVtaXR0ZXIoKVxuICBjb25zdCBtaWRkbGV3YXJlID0gY3JlYXRlU2NhZmZvbGRNaWRkbGV3YXJlKHtcbiAgICBldGhfc3Vic2NyaWJlOiBjcmVhdGVBc3luY01pZGRsZXdhcmUoc3Vic2NyaWJlKSxcbiAgICBldGhfdW5zdWJzY3JpYmU6IGNyZWF0ZUFzeW5jTWlkZGxld2FyZSh1bnN1YnNjcmliZSksXG4gIH0pXG4gIG1pZGRsZXdhcmUuZGVzdHJveSA9IGRlc3Ryb3lcbiAgcmV0dXJuIHsgZXZlbnRzLCBtaWRkbGV3YXJlIH1cblxuICBhc3luYyBmdW5jdGlvbiBzdWJzY3JpYmUocmVxLCByZXMpIHtcblxuICAgIGlmIChpc0Rlc3Ryb3llZCkgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ1N1YnNjcmlwdGlvbk1hbmFnZXIgLSBhdHRlbXB0aW5nIHRvIHVzZSBhZnRlciBkZXN0cm95aW5nJ1xuICAgIClcblxuICAgIGNvbnN0IHN1YnNjcmlwdGlvblR5cGUgPSByZXEucGFyYW1zWzBdXG4gICAgLy8gc3ViSWQgaXMgMTYgYnl0ZSBoZXggc3RyaW5nXG4gICAgY29uc3Qgc3ViSWQgPSB1bnNhZmVSYW5kb21CeXRlcygxNilcblxuICAgIC8vIGNyZWF0ZSBzdWJcbiAgICBsZXQgc3ViXG4gICAgc3dpdGNoIChzdWJzY3JpcHRpb25UeXBlKSB7XG4gICAgICBjYXNlICduZXdIZWFkcyc6XG4gICAgICAgIHN1YiA9IGNyZWF0ZVN1Yk5ld0hlYWRzKHsgc3ViSWQgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2xvZ3MnOlxuICAgICAgICBjb25zdCBmaWx0ZXJQYXJhbXMgPSByZXEucGFyYW1zWzFdXG4gICAgICAgIGNvbnN0IGZpbHRlciA9IGF3YWl0IGZpbHRlck1hbmFnZXIubmV3TG9nRmlsdGVyKGZpbHRlclBhcmFtcylcbiAgICAgICAgc3ViID0gY3JlYXRlU3ViRnJvbUZpbHRlcih7IHN1YklkLCBmaWx0ZXIgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU3Vic2NyaXB0aW9uTWFuYWdlciAtIHVuc3VwcG9ydGVkIHN1YnNjcmlwdGlvbiB0eXBlIFwiJHtzdWJzY3JpcHRpb25UeXBlfVwiYClcblxuICAgIH1cbiAgICBzdWJzY3JpcHRpb25zW3N1YklkXSA9IHN1YlxuXG4gICAgcmVzLnJlc3VsdCA9IHN1YklkXG4gICAgcmV0dXJuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTdWJOZXdIZWFkcyh7IHN1YklkIH0pIHtcbiAgICAgIGNvbnN0IHN1YiA9IHtcbiAgICAgICAgdHlwZTogc3Vic2NyaXB0aW9uVHlwZSxcbiAgICAgICAgZGVzdHJveTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGJsb2NrVHJhY2tlci5yZW1vdmVMaXN0ZW5lcignc3luYycsIHN1Yi51cGRhdGUpXG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZTogYXN5bmMgKHsgb2xkQmxvY2ssIG5ld0Jsb2NrIH0pID0+IHtcbiAgICAgICAgICAvLyBmb3IgbmV3SGVhZHNcbiAgICAgICAgICBjb25zdCB0b0Jsb2NrID0gbmV3QmxvY2tcbiAgICAgICAgICBjb25zdCBmcm9tQmxvY2sgPSBpbmNyZW1lbnRIZXhJbnQob2xkQmxvY2spXG4gICAgICAgICAgY29uc3QgcmF3QmxvY2tzID0gYXdhaXQgZ2V0QmxvY2tzRm9yUmFuZ2UoeyBwcm92aWRlciwgZnJvbUJsb2NrLCB0b0Jsb2NrIH0pXG4gICAgICAgICAgY29uc3QgcmVzdWx0cyA9IHJhd0Jsb2Nrcy5tYXAobm9ybWFsaXplQmxvY2spXG4gICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgX2VtaXRTdWJzY3JpcHRpb25SZXN1bHQoc3ViSWQsIHZhbHVlKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGNoZWNrIGZvciBzdWJzY3JpcHRpb24gdXBkYXRlcyBvbiBuZXcgYmxvY2tcbiAgICAgIGJsb2NrVHJhY2tlci5vbignc3luYycsIHN1Yi51cGRhdGUpXG4gICAgICByZXR1cm4gc3ViXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlU3ViRnJvbUZpbHRlcih7IHN1YklkLCBmaWx0ZXIgfSl7XG4gICAgICBmaWx0ZXIub24oJ3VwZGF0ZScsIHJlc3VsdCA9PiBfZW1pdFN1YnNjcmlwdGlvblJlc3VsdChzdWJJZCwgcmVzdWx0KSlcbiAgICAgIGNvbnN0IHN1YiA9IHtcbiAgICAgICAgdHlwZTogc3Vic2NyaXB0aW9uVHlwZSxcbiAgICAgICAgZGVzdHJveTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBmaWx0ZXJNYW5hZ2VyLnVuaW5zdGFsbEZpbHRlcihmaWx0ZXIuaWRIZXgpXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgICByZXR1cm4gc3ViXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gdW5zdWJzY3JpYmUocmVxLCByZXMpIHtcblxuICAgIGlmIChpc0Rlc3Ryb3llZCkgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ1N1YnNjcmlwdGlvbk1hbmFnZXIgLSBhdHRlbXB0aW5nIHRvIHVzZSBhZnRlciBkZXN0cm95aW5nJ1xuICAgIClcblxuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtc1swXVxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHN1YnNjcmlwdGlvbnNbaWRdXG4gICAgLy8gaWYgbWlzc2luZywgcmV0dXJuIFwiZmFsc2VcIiB0byBpbmRpY2F0ZSBpdCB3YXMgbm90IHJlbW92ZWRcbiAgICBpZiAoIXN1YnNjcmlwdGlvbikge1xuICAgICAgcmVzLnJlc3VsdCA9IGZhbHNlXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gY2xlYW51cCBzdWJzY3JpcHRpb25cbiAgICBkZWxldGUgc3Vic2NyaXB0aW9uc1tpZF1cbiAgICBhd2FpdCBzdWJzY3JpcHRpb24uZGVzdHJveSgpXG4gICAgcmVzLnJlc3VsdCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIF9lbWl0U3Vic2NyaXB0aW9uUmVzdWx0KGZpbHRlcklkSGV4LCB2YWx1ZSkge1xuICAgIGV2ZW50cy5lbWl0KCdub3RpZmljYXRpb24nLCB7XG4gICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgIG1ldGhvZDogJ2V0aF9zdWJzY3JpcHRpb24nLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHN1YnNjcmlwdGlvbjogZmlsdGVySWRIZXgsXG4gICAgICAgIHJlc3VsdDogdmFsdWUsXG4gICAgICB9LFxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95ICgpIHtcbiAgICBldmVudHMucmVtb3ZlQWxsTGlzdGVuZXJzKClcbiAgICBmb3IgKGNvbnN0IGlkIGluIHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgIHN1YnNjcmlwdGlvbnNbaWRdLmRlc3Ryb3koKVxuICAgICAgZGVsZXRlIHN1YnNjcmlwdGlvbnNbaWRdXG4gICAgfVxuICAgIGlzRGVzdHJveWVkID0gdHJ1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUJsb2NrKGJsb2NrKSB7XG4gIHJldHVybiB7XG4gICAgaGFzaDogYmxvY2suaGFzaCxcbiAgICBwYXJlbnRIYXNoOiBibG9jay5wYXJlbnRIYXNoLFxuICAgIHNoYTNVbmNsZXM6IGJsb2NrLnNoYTNVbmNsZXMsXG4gICAgbWluZXI6IGJsb2NrLm1pbmVyLFxuICAgIHN0YXRlUm9vdDogYmxvY2suc3RhdGVSb290LFxuICAgIHRyYW5zYWN0aW9uc1Jvb3Q6IGJsb2NrLnRyYW5zYWN0aW9uc1Jvb3QsXG4gICAgcmVjZWlwdHNSb290OiBibG9jay5yZWNlaXB0c1Jvb3QsXG4gICAgbG9nc0Jsb29tOiBibG9jay5sb2dzQmxvb20sXG4gICAgZGlmZmljdWx0eTogYmxvY2suZGlmZmljdWx0eSxcbiAgICBudW1iZXI6IGJsb2NrLm51bWJlcixcbiAgICBnYXNMaW1pdDogYmxvY2suZ2FzTGltaXQsXG4gICAgZ2FzVXNlZDogYmxvY2suZ2FzVXNlZCxcbiAgICBub25jZTogYmxvY2subm9uY2UsXG4gICAgbWl4SGFzaDogYmxvY2subWl4SGFzaCxcbiAgICB0aW1lc3RhbXA6IGJsb2NrLnRpbWVzdGFtcCxcbiAgICBleHRyYURhdGE6IGJsb2NrLmV4dHJhRGF0YSxcbiAgfVxufVxuIiwiY29uc3QgQmFzZUZpbHRlciA9IHJlcXVpcmUoJy4vYmFzZS1maWx0ZXInKVxuY29uc3QgZ2V0QmxvY2tzRm9yUmFuZ2UgPSByZXF1aXJlKCcuL2dldEJsb2Nrc0ZvclJhbmdlJylcbmNvbnN0IHsgaW5jcmVtZW50SGV4SW50IH0gPSByZXF1aXJlKCcuL2hleFV0aWxzJylcblxuY2xhc3MgVHhGaWx0ZXIgZXh0ZW5kcyBCYXNlRmlsdGVyIHtcblxuICBjb25zdHJ1Y3RvciAoeyBwcm92aWRlciB9KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMudHlwZSA9ICd0eCdcbiAgICB0aGlzLnByb3ZpZGVyID0gcHJvdmlkZXJcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZSAoeyBvbGRCbG9jayB9KSB7XG4gICAgY29uc3QgdG9CbG9jayA9IG9sZEJsb2NrXG4gICAgY29uc3QgZnJvbUJsb2NrID0gaW5jcmVtZW50SGV4SW50KG9sZEJsb2NrKVxuICAgIGNvbnN0IGJsb2NrcyA9IGF3YWl0IGdldEJsb2Nrc0ZvclJhbmdlKHsgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsIGZyb21CbG9jaywgdG9CbG9jayB9KVxuICAgIGNvbnN0IGJsb2NrVHhIYXNoZXMgPSBbXVxuICAgIGZvciAoY29uc3QgYmxvY2sgb2YgYmxvY2tzKSB7XG4gICAgICBibG9ja1R4SGFzaGVzLnB1c2goLi4uYmxvY2sudHJhbnNhY3Rpb25zKVxuICAgIH1cbiAgICAvLyBhZGQgdG8gcmVzdWx0c1xuICAgIHRoaXMuYWRkUmVzdWx0cyhibG9ja1R4SGFzaGVzKVxuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBUeEZpbHRlclxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVTY2FmZm9sZE1pZGRsZXdhcmUgKGhhbmRsZXJzKSB7XG4gIHJldHVybiAocmVxLCByZXMsIG5leHQsIGVuZCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1tyZXEubWV0aG9kXVxuICAgIC8vIGlmIG5vIGhhbmRsZXIsIHJldHVyblxuICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBuZXh0KClcbiAgICB9XG4gICAgLy8gaWYgaGFuZGxlciBpcyBmbiwgY2FsbCBhcyBtaWRkbGV3YXJlXG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcywgbmV4dCwgZW5kKVxuICAgIH1cbiAgICAvLyBpZiBoYW5kbGVyIGlzIHNvbWUgb3RoZXIgdmFsdWUsIHVzZSBhcyByZXN1bHRcbiAgICByZXMucmVzdWx0ID0gaGFuZGxlclxuICAgIHJldHVybiBlbmQoKVxuICB9XG59XG4iLCIvLyBmb3IgYmFja3dhcmRzIGNvbXBhdFxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCdqc29uLXJwYy1lbmdpbmUvc3JjL2NyZWF0ZVNjYWZmb2xkTWlkZGxld2FyZScpXG4iLCJjb25zdCBleHRlbmQgPSByZXF1aXJlKCd4dGVuZCcpXG5jb25zdCBjcmVhdGVSYW5kb21JZCA9IHJlcXVpcmUoJ2pzb24tcnBjLXJhbmRvbS1pZCcpKClcblxubW9kdWxlLmV4cG9ydHMgPSBFdGhRdWVyeVxuXG5cbmZ1bmN0aW9uIEV0aFF1ZXJ5KHByb3ZpZGVyKXtcbiAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgc2VsZi5jdXJyZW50UHJvdmlkZXIgPSBwcm92aWRlclxufVxuXG4vL1xuLy8gYmFzZSBxdWVyaWVzXG4vL1xuXG4vLyBkZWZhdWx0IGJsb2NrXG5FdGhRdWVyeS5wcm90b3R5cGUuZ2V0QmFsYW5jZSA9ICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUZuV2l0aERlZmF1bHRCbG9ja0ZvcigyLCAnZXRoX2dldEJhbGFuY2UnKVxuRXRoUXVlcnkucHJvdG90eXBlLmdldENvZGUgPSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGbldpdGhEZWZhdWx0QmxvY2tGb3IoMiwgJ2V0aF9nZXRDb2RlJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRUcmFuc2FjdGlvbkNvdW50ID0gICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5XaXRoRGVmYXVsdEJsb2NrRm9yKDIsICdldGhfZ2V0VHJhbnNhY3Rpb25Db3VudCcpXG5FdGhRdWVyeS5wcm90b3R5cGUuZ2V0U3RvcmFnZUF0ID0gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUZuV2l0aERlZmF1bHRCbG9ja0ZvcigzLCAnZXRoX2dldFN0b3JhZ2VBdCcpXG5FdGhRdWVyeS5wcm90b3R5cGUuY2FsbCA9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUZuV2l0aERlZmF1bHRCbG9ja0ZvcigyLCAnZXRoX2NhbGwnKVxuLy8gc3RhbmRhcmRcbkV0aFF1ZXJ5LnByb3RvdHlwZS5wcm90b2NvbFZlcnNpb24gPSAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9wcm90b2NvbFZlcnNpb24nKVxuRXRoUXVlcnkucHJvdG90eXBlLnN5bmNpbmcgPSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX3N5bmNpbmcnKVxuRXRoUXVlcnkucHJvdG90eXBlLmNvaW5iYXNlID0gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX2NvaW5iYXNlJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5taW5pbmcgPSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9taW5pbmcnKVxuRXRoUXVlcnkucHJvdG90eXBlLmhhc2hyYXRlID0gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX2hhc2hyYXRlJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nYXNQcmljZSA9ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9nYXNQcmljZScpXG5FdGhRdWVyeS5wcm90b3R5cGUuYWNjb3VudHMgPSAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUZuRm9yKCdldGhfYWNjb3VudHMnKVxuRXRoUXVlcnkucHJvdG90eXBlLmJsb2NrTnVtYmVyID0gICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX2Jsb2NrTnVtYmVyJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRCbG9ja1RyYW5zYWN0aW9uQ291bnRCeUhhc2ggPSAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9nZXRCbG9ja1RyYW5zYWN0aW9uQ291bnRCeUhhc2gnKVxuRXRoUXVlcnkucHJvdG90eXBlLmdldEJsb2NrVHJhbnNhY3Rpb25Db3VudEJ5TnVtYmVyID0gICAgZ2VuZXJhdGVGbkZvcignZXRoX2dldEJsb2NrVHJhbnNhY3Rpb25Db3VudEJ5TnVtYmVyJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRVbmNsZUNvdW50QnlCbG9ja0hhc2ggPSAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9nZXRVbmNsZUNvdW50QnlCbG9ja0hhc2gnKVxuRXRoUXVlcnkucHJvdG90eXBlLmdldFVuY2xlQ291bnRCeUJsb2NrTnVtYmVyID0gICAgICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX2dldFVuY2xlQ291bnRCeUJsb2NrTnVtYmVyJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5zaWduID0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9zaWduJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5zZW5kVHJhbnNhY3Rpb24gPSAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9zZW5kVHJhbnNhY3Rpb24nKVxuRXRoUXVlcnkucHJvdG90eXBlLnNlbmRSYXdUcmFuc2FjdGlvbiA9ICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX3NlbmRSYXdUcmFuc2FjdGlvbicpXG5FdGhRdWVyeS5wcm90b3R5cGUuZXN0aW1hdGVHYXMgPSAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUZuRm9yKCdldGhfZXN0aW1hdGVHYXMnKVxuRXRoUXVlcnkucHJvdG90eXBlLmdldEJsb2NrQnlIYXNoID0gICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX2dldEJsb2NrQnlIYXNoJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRCbG9ja0J5TnVtYmVyID0gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9nZXRCbG9ja0J5TnVtYmVyJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRUcmFuc2FjdGlvbkJ5SGFzaCA9ICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9nZXRUcmFuc2FjdGlvbkJ5SGFzaCcpXG5FdGhRdWVyeS5wcm90b3R5cGUuZ2V0VHJhbnNhY3Rpb25CeUJsb2NrSGFzaEFuZEluZGV4ID0gICBnZW5lcmF0ZUZuRm9yKCdldGhfZ2V0VHJhbnNhY3Rpb25CeUJsb2NrSGFzaEFuZEluZGV4JylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRUcmFuc2FjdGlvbkJ5QmxvY2tOdW1iZXJBbmRJbmRleCA9IGdlbmVyYXRlRm5Gb3IoJ2V0aF9nZXRUcmFuc2FjdGlvbkJ5QmxvY2tOdW1iZXJBbmRJbmRleCcpXG5FdGhRdWVyeS5wcm90b3R5cGUuZ2V0VHJhbnNhY3Rpb25SZWNlaXB0ID0gICAgICAgICAgICAgICBnZW5lcmF0ZUZuRm9yKCdldGhfZ2V0VHJhbnNhY3Rpb25SZWNlaXB0JylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRVbmNsZUJ5QmxvY2tIYXNoQW5kSW5kZXggPSAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9nZXRVbmNsZUJ5QmxvY2tIYXNoQW5kSW5kZXgnKVxuRXRoUXVlcnkucHJvdG90eXBlLmdldFVuY2xlQnlCbG9ja051bWJlckFuZEluZGV4ID0gICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX2dldFVuY2xlQnlCbG9ja051bWJlckFuZEluZGV4JylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRDb21waWxlcnMgPSAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9nZXRDb21waWxlcnMnKVxuRXRoUXVlcnkucHJvdG90eXBlLmNvbXBpbGVMTEwgPSAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX2NvbXBpbGVMTEwnKVxuRXRoUXVlcnkucHJvdG90eXBlLmNvbXBpbGVTb2xpZGl0eSA9ICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX2NvbXBpbGVTb2xpZGl0eScpXG5FdGhRdWVyeS5wcm90b3R5cGUuY29tcGlsZVNlcnBlbnQgPSAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUZuRm9yKCdldGhfY29tcGlsZVNlcnBlbnQnKVxuRXRoUXVlcnkucHJvdG90eXBlLm5ld0ZpbHRlciA9ICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX25ld0ZpbHRlcicpXG5FdGhRdWVyeS5wcm90b3R5cGUubmV3QmxvY2tGaWx0ZXIgPSAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUZuRm9yKCdldGhfbmV3QmxvY2tGaWx0ZXInKVxuRXRoUXVlcnkucHJvdG90eXBlLm5ld1BlbmRpbmdUcmFuc2FjdGlvbkZpbHRlciA9ICAgICAgICAgZ2VuZXJhdGVGbkZvcignZXRoX25ld1BlbmRpbmdUcmFuc2FjdGlvbkZpbHRlcicpXG5FdGhRdWVyeS5wcm90b3R5cGUudW5pbnN0YWxsRmlsdGVyID0gICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUZuRm9yKCdldGhfdW5pbnN0YWxsRmlsdGVyJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRGaWx0ZXJDaGFuZ2VzID0gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9nZXRGaWx0ZXJDaGFuZ2VzJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRGaWx0ZXJMb2dzID0gICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9nZXRGaWx0ZXJMb2dzJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRMb2dzID0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9nZXRMb2dzJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5nZXRXb3JrID0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9nZXRXb3JrJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5zdWJtaXRXb3JrID0gICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9zdWJtaXRXb3JrJylcbkV0aFF1ZXJ5LnByb3RvdHlwZS5zdWJtaXRIYXNocmF0ZSA9ICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRm5Gb3IoJ2V0aF9zdWJtaXRIYXNocmF0ZScpXG5cbi8vIG5ldHdvcmsgbGV2ZWxcblxuRXRoUXVlcnkucHJvdG90eXBlLnNlbmRBc3luYyA9IGZ1bmN0aW9uKG9wdHMsIGNiKXtcbiAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgc2VsZi5jdXJyZW50UHJvdmlkZXIuc2VuZEFzeW5jKGNyZWF0ZVBheWxvYWQob3B0cyksIGZ1bmN0aW9uKGVyciwgcmVzcG9uc2Upe1xuICAgIGlmICghZXJyICYmIHJlc3BvbnNlLmVycm9yKSBlcnIgPSBuZXcgRXJyb3IoJ0V0aFF1ZXJ5IC0gUlBDIEVycm9yIC0gJytyZXNwb25zZS5lcnJvci5tZXNzYWdlKVxuICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpXG4gICAgY2IobnVsbCwgcmVzcG9uc2UucmVzdWx0KVxuICB9KVxufVxuXG4vLyB1dGlsXG5cbmZ1bmN0aW9uIGdlbmVyYXRlRm5Gb3IobWV0aG9kTmFtZSl7XG4gIHJldHVybiBmdW5jdGlvbigpe1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG4gICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgICB2YXIgY2IgPSBhcmdzLnBvcCgpXG4gICAgc2VsZi5zZW5kQXN5bmMoe1xuICAgICAgbWV0aG9kOiBtZXRob2ROYW1lLFxuICAgICAgcGFyYW1zOiBhcmdzLFxuICAgIH0sIGNiKVxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRm5XaXRoRGVmYXVsdEJsb2NrRm9yKGFyZ0NvdW50LCBtZXRob2ROYW1lKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICAgIHZhciBjYiA9IGFyZ3MucG9wKClcbiAgICAvLyBzZXQgb3B0aW9uYWwgZGVmYXVsdCBibG9jayBwYXJhbVxuICAgIGlmIChhcmdzLmxlbmd0aCA8IGFyZ0NvdW50KSBhcmdzLnB1c2goJ2xhdGVzdCcpXG4gICAgc2VsZi5zZW5kQXN5bmMoe1xuICAgICAgbWV0aG9kOiBtZXRob2ROYW1lLFxuICAgICAgcGFyYW1zOiBhcmdzLFxuICAgIH0sIGNiKVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBheWxvYWQoZGF0YSl7XG4gIHJldHVybiBleHRlbmQoe1xuICAgIC8vIGRlZmF1bHRzXG4gICAgaWQ6IGNyZWF0ZVJhbmRvbUlkKCksXG4gICAganNvbnJwYzogJzIuMCcsXG4gICAgcGFyYW1zOiBbXSxcbiAgICAvLyB1c2VyLXNwZWNpZmllZFxuICB9LCBkYXRhKVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkpzb25ScGNFbmdpbmUgPSB2b2lkIDA7XG5jb25zdCBzYWZlX2V2ZW50X2VtaXR0ZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiQG1ldGFtYXNrL3NhZmUtZXZlbnQtZW1pdHRlclwiKSk7XG5jb25zdCBldGhfcnBjX2Vycm9yc18xID0gcmVxdWlyZShcImV0aC1ycGMtZXJyb3JzXCIpO1xuLyoqXG4gKiBBIEpTT04tUlBDIHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2Nlc3Nvci5cbiAqIEdpdmUgaXQgYSBzdGFjayBvZiBtaWRkbGV3YXJlLCBwYXNzIGl0IHJlcXVlc3RzLCBhbmQgZ2V0IGJhY2sgcmVzcG9uc2VzLlxuICovXG5jbGFzcyBKc29uUnBjRW5naW5lIGV4dGVuZHMgc2FmZV9ldmVudF9lbWl0dGVyXzEuZGVmYXVsdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX21pZGRsZXdhcmUgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0byB0aGUgZW5naW5lJ3MgbWlkZGxld2FyZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtaWRkbGV3YXJlIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gYWRkLlxuICAgICAqL1xuICAgIHB1c2gobWlkZGxld2FyZSkge1xuICAgICAgICB0aGlzLl9taWRkbGV3YXJlLnB1c2gobWlkZGxld2FyZSk7XG4gICAgfVxuICAgIGhhbmRsZShyZXEsIGNiKSB7XG4gICAgICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJjYWxsYmFja1wiIG11c3QgYmUgYSBmdW5jdGlvbiBpZiBwcm92aWRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXEpKSB7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlQmF0Y2gocmVxLCBjYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlQmF0Y2gocmVxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGUocmVxLCBjYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2VIYW5kbGUocmVxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGlzIGVuZ2luZSBhcyBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCBjYW4gYmUgcHVzaGVkIHRvIG90aGVyXG4gICAgICogZW5naW5lcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoaXMgZW5naW5lIGFzIGEgbWlkZGxld2FyZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBhc01pZGRsZXdhcmUoKSB7XG4gICAgICAgIHJldHVybiBhc3luYyAocmVxLCByZXMsIG5leHQsIGVuZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbbWlkZGxld2FyZUVycm9yLCBpc0NvbXBsZXRlLCByZXR1cm5IYW5kbGVycyxdID0gYXdhaXQgSnNvblJwY0VuZ2luZS5fcnVuQWxsTWlkZGxld2FyZShyZXEsIHJlcywgdGhpcy5fbWlkZGxld2FyZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgSnNvblJwY0VuZ2luZS5fcnVuUmV0dXJuSGFuZGxlcnMocmV0dXJuSGFuZGxlcnMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW5kKG1pZGRsZXdhcmVFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFzeW5jIChoYW5kbGVyQ2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IEpzb25ScGNFbmdpbmUuX3J1blJldHVybkhhbmRsZXJzKHJldHVybkhhbmRsZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbmQoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBfaGFuZGxlQmF0Y2gocmVxcywgY2IpIHtcbiAgICAgICAgLy8gVGhlIG9yZGVyIGhlcmUgaXMgaW1wb3J0YW50XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyAyLiBXYWl0IGZvciBhbGwgcmVxdWVzdHMgdG8gZmluaXNoLCBvciB0aHJvdyBvbiBzb21lIGtpbmQgb2YgZmF0YWxcbiAgICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgIC8vIDEuIEJlZ2luIGV4ZWN1dGluZyBlYWNoIHJlcXVlc3QgaW4gdGhlIG9yZGVyIHJlY2VpdmVkXG4gICAgICAgICAgICByZXFzLm1hcCh0aGlzLl9wcm9taXNlSGFuZGxlLmJpbmQodGhpcykpKTtcbiAgICAgICAgICAgIC8vIDMuIFJldHVybiBiYXRjaCByZXNwb25zZVxuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwsIHJlc3BvbnNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VzO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNiKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZS13cmFwcGVkIF9oYW5kbGUuXG4gICAgICovXG4gICAgX3Byb21pc2VIYW5kbGUocmVxKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlKHJlcSwgKF9lcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRoZXJlIHdpbGwgYWx3YXlzIGJlIGEgcmVzcG9uc2UsIGFuZCBpdCB3aWxsIGFsd2F5cyBoYXZlIGFueSBlcnJvclxuICAgICAgICAgICAgICAgIC8vIHRoYXQgaXMgY2F1Z2h0IGFuZCBwcm9wYWdhdGVkLlxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSByZXF1ZXN0IG9iamVjdCBpcyB2YWxpZCwgcHJvY2Vzc2VzIGl0LCBhbmQgcGFzc2VzIGFueVxuICAgICAqIGVycm9yIGFuZCB0aGUgcmVzcG9uc2Ugb2JqZWN0IHRvIHRoZSBnaXZlbiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIERvZXMgbm90IHJlamVjdC5cbiAgICAgKi9cbiAgICBhc3luYyBfaGFuZGxlKGNhbGxlclJlcSwgY2IpIHtcbiAgICAgICAgaWYgKCFjYWxsZXJSZXEgfHxcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoY2FsbGVyUmVxKSB8fFxuICAgICAgICAgICAgdHlwZW9mIGNhbGxlclJlcSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGV0aF9ycGNfZXJyb3JzXzEuRXRoZXJldW1ScGNFcnJvcihldGhfcnBjX2Vycm9yc18xLmVycm9yQ29kZXMucnBjLmludmFsaWRSZXF1ZXN0LCBgUmVxdWVzdHMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiBSZWNlaXZlZDogJHt0eXBlb2YgY2FsbGVyUmVxfWAsIHsgcmVxdWVzdDogY2FsbGVyUmVxIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNiKGVycm9yLCB7IGlkOiB1bmRlZmluZWQsIGpzb25ycGM6ICcyLjAnLCBlcnJvciB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNhbGxlclJlcS5tZXRob2QgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBldGhfcnBjX2Vycm9yc18xLkV0aGVyZXVtUnBjRXJyb3IoZXRoX3JwY19lcnJvcnNfMS5lcnJvckNvZGVzLnJwYy5pbnZhbGlkUmVxdWVzdCwgYE11c3Qgc3BlY2lmeSBhIHN0cmluZyBtZXRob2QuIFJlY2VpdmVkOiAke3R5cGVvZiBjYWxsZXJSZXEubWV0aG9kfWAsIHsgcmVxdWVzdDogY2FsbGVyUmVxIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNiKGVycm9yLCB7IGlkOiBjYWxsZXJSZXEuaWQsIGpzb25ycGM6ICcyLjAnLCBlcnJvciB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXEgPSBPYmplY3QuYXNzaWduKHt9LCBjYWxsZXJSZXEpO1xuICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICBpZDogcmVxLmlkLFxuICAgICAgICAgICAganNvbnJwYzogcmVxLmpzb25ycGMsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBlcnJvciA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wcm9jZXNzUmVxdWVzdChyZXEsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9lcnJvcikge1xuICAgICAgICAgICAgLy8gQSByZXF1ZXN0IGhhbmRsZXIgZXJyb3IsIGEgcmUtdGhyb3duIG1pZGRsZXdhcmUgZXJyb3IsIG9yIHNvbWV0aGluZ1xuICAgICAgICAgICAgLy8gdW5leHBlY3RlZC5cbiAgICAgICAgICAgIGVycm9yID0gX2Vycm9yO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgLy8gRW5zdXJlIG5vIHJlc3VsdCBpcyBwcmVzZW50IG9uIGFuIGVycm9yZWQgcmVzcG9uc2VcbiAgICAgICAgICAgIGRlbGV0ZSByZXMucmVzdWx0O1xuICAgICAgICAgICAgaWYgKCFyZXMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXMuZXJyb3IgPSBldGhfcnBjX2Vycm9yc18xLnNlcmlhbGl6ZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2IoZXJyb3IsIHJlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciB0aGUgZ2l2ZW4gcmVxdWVzdCBhbmQgcmVzcG9uc2UsIHJ1bnMgYWxsIG1pZGRsZXdhcmUgYW5kIHRoZWlyIHJldHVyblxuICAgICAqIGhhbmRsZXJzLCBpZiBhbnksIGFuZCBlbnN1cmVzIHRoYXQgaW50ZXJuYWwgcmVxdWVzdCBwcm9jZXNzaW5nIHNlbWFudGljc1xuICAgICAqIGFyZSBzYXRpc2ZpZWQuXG4gICAgICovXG4gICAgYXN5bmMgX3Byb2Nlc3NSZXF1ZXN0KHJlcSwgcmVzKSB7XG4gICAgICAgIGNvbnN0IFtlcnJvciwgaXNDb21wbGV0ZSwgcmV0dXJuSGFuZGxlcnMsXSA9IGF3YWl0IEpzb25ScGNFbmdpbmUuX3J1bkFsbE1pZGRsZXdhcmUocmVxLCByZXMsIHRoaXMuX21pZGRsZXdhcmUpO1xuICAgICAgICAvLyBUaHJvdyBpZiBcImVuZFwiIHdhcyBub3QgY2FsbGVkLCBvciBpZiB0aGUgcmVzcG9uc2UgaGFzIG5laXRoZXIgYSByZXN1bHRcbiAgICAgICAgLy8gbm9yIGFuIGVycm9yLlxuICAgICAgICBKc29uUnBjRW5naW5lLl9jaGVja0ZvckNvbXBsZXRpb24ocmVxLCByZXMsIGlzQ29tcGxldGUpO1xuICAgICAgICAvLyBUaGUgcmV0dXJuIGhhbmRsZXJzIHNob3VsZCBydW4gZXZlbiBpZiBhbiBlcnJvciB3YXMgZW5jb3VudGVyZWQgZHVyaW5nXG4gICAgICAgIC8vIG1pZGRsZXdhcmUgcHJvY2Vzc2luZy5cbiAgICAgICAgYXdhaXQgSnNvblJwY0VuZ2luZS5fcnVuUmV0dXJuSGFuZGxlcnMocmV0dXJuSGFuZGxlcnMpO1xuICAgICAgICAvLyBOb3cgd2UgcmUtdGhyb3cgdGhlIG1pZGRsZXdhcmUgcHJvY2Vzc2luZyBlcnJvciwgaWYgYW55LCB0byBjYXRjaCBpdFxuICAgICAgICAvLyBmdXJ0aGVyIHVwIHRoZSBjYWxsIGNoYWluLlxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlcmlhbGx5IGV4ZWN1dGVzIHRoZSBnaXZlbiBzdGFjayBvZiBtaWRkbGV3YXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgYW55IGVycm9yIGVuY291bnRlcmVkIGR1cmluZyBtaWRkbGV3YXJlIGV4ZWN1dGlvbixcbiAgICAgKiBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSByZXF1ZXN0IHdhcyBjb21wbGV0ZWQsIGFuZCBhbiBhcnJheSBvZlxuICAgICAqIG1pZGRsZXdhcmUtZGVmaW5lZCByZXR1cm4gaGFuZGxlcnMuXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIF9ydW5BbGxNaWRkbGV3YXJlKHJlcSwgcmVzLCBtaWRkbGV3YXJlU3RhY2spIHtcbiAgICAgICAgY29uc3QgcmV0dXJuSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgbGV0IGVycm9yID0gbnVsbDtcbiAgICAgICAgbGV0IGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgLy8gR28gZG93biBzdGFjayBvZiBtaWRkbGV3YXJlLCBjYWxsIGFuZCBjb2xsZWN0IG9wdGlvbmFsIHJldHVybkhhbmRsZXJzXG4gICAgICAgIGZvciAoY29uc3QgbWlkZGxld2FyZSBvZiBtaWRkbGV3YXJlU3RhY2spIHtcbiAgICAgICAgICAgIFtlcnJvciwgaXNDb21wbGV0ZV0gPSBhd2FpdCBKc29uUnBjRW5naW5lLl9ydW5NaWRkbGV3YXJlKHJlcSwgcmVzLCBtaWRkbGV3YXJlLCByZXR1cm5IYW5kbGVycyk7XG4gICAgICAgICAgICBpZiAoaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZXJyb3IsIGlzQ29tcGxldGUsIHJldHVybkhhbmRsZXJzLnJldmVyc2UoKV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJ1bnMgYW4gaW5kaXZpZHVhbCBtaWRkbGV3YXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgYW55IGVycm9yIGVuY291bnRlcmVkIGR1cmluZyBtaWRkbGV3YXJlIGV4ZWN0aW9uLFxuICAgICAqIGFuZCBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSByZXF1ZXN0IHNob3VsZCBlbmQuXG4gICAgICovXG4gICAgc3RhdGljIF9ydW5NaWRkbGV3YXJlKHJlcSwgcmVzLCBtaWRkbGV3YXJlLCByZXR1cm5IYW5kbGVycykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGVyciB8fCByZXMuZXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5lcnJvciA9IGV0aF9ycGNfZXJyb3JzXzEuc2VyaWFsaXplRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUcnVlIGluZGljYXRlcyB0aGF0IHRoZSByZXF1ZXN0IHNob3VsZCBlbmRcbiAgICAgICAgICAgICAgICByZXNvbHZlKFtlcnJvciwgdHJ1ZV0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSAocmV0dXJuSGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kKHJlcy5lcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuSGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXR1cm5IYW5kbGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKG5ldyBldGhfcnBjX2Vycm9yc18xLkV0aGVyZXVtUnBjRXJyb3IoZXRoX3JwY19lcnJvcnNfMS5lcnJvckNvZGVzLnJwYy5pbnRlcm5hbCwgYEpzb25ScGNFbmdpbmU6IFwibmV4dFwiIHJldHVybiBoYW5kbGVycyBtdXN0IGJlIGZ1bmN0aW9ucy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBSZWNlaXZlZCBcIiR7dHlwZW9mIHJldHVybkhhbmRsZXJ9XCIgZm9yIHJlcXVlc3Q6XFxuJHtqc29uaWZ5KHJlcSl9YCwgeyByZXF1ZXN0OiByZXEgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuSGFuZGxlcnMucHVzaChyZXR1cm5IYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBGYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgcmVxdWVzdCBzaG91bGQgbm90IGVuZFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFtudWxsLCBmYWxzZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG1pZGRsZXdhcmUocmVxLCByZXMsIG5leHQsIGVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBlbmQoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsbHkgZXhlY3V0ZXMgYXJyYXkgb2YgcmV0dXJuIGhhbmRsZXJzLiBUaGUgcmVxdWVzdCBhbmQgcmVzcG9uc2UgYXJlXG4gICAgICogYXNzdW1lZCB0byBiZSBpbiB0aGVpciBzY29wZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgX3J1blJldHVybkhhbmRsZXJzKGhhbmRsZXJzKSB7XG4gICAgICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiBoYW5kbGVycykge1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIoKGVycikgPT4gKGVyciA/IHJlamVjdChlcnIpIDogcmVzb2x2ZSgpKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIHJlc3BvbnNlIGhhcyBuZWl0aGVyIGEgcmVzdWx0IG5vciBhbiBlcnJvciwgb3IgaWZcbiAgICAgKiB0aGUgXCJpc0NvbXBsZXRlXCIgZmxhZyBpcyBmYWxzeS5cbiAgICAgKi9cbiAgICBzdGF0aWMgX2NoZWNrRm9yQ29tcGxldGlvbihyZXEsIHJlcywgaXNDb21wbGV0ZSkge1xuICAgICAgICBpZiAoISgncmVzdWx0JyBpbiByZXMpICYmICEoJ2Vycm9yJyBpbiByZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXRoX3JwY19lcnJvcnNfMS5FdGhlcmV1bVJwY0Vycm9yKGV0aF9ycGNfZXJyb3JzXzEuZXJyb3JDb2Rlcy5ycGMuaW50ZXJuYWwsIGBKc29uUnBjRW5naW5lOiBSZXNwb25zZSBoYXMgbm8gZXJyb3Igb3IgcmVzdWx0IGZvciByZXF1ZXN0OlxcbiR7anNvbmlmeShyZXEpfWAsIHsgcmVxdWVzdDogcmVxIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV0aF9ycGNfZXJyb3JzXzEuRXRoZXJldW1ScGNFcnJvcihldGhfcnBjX2Vycm9yc18xLmVycm9yQ29kZXMucnBjLmludGVybmFsLCBgSnNvblJwY0VuZ2luZTogTm90aGluZyBlbmRlZCByZXF1ZXN0OlxcbiR7anNvbmlmeShyZXEpfWAsIHsgcmVxdWVzdDogcmVxIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Kc29uUnBjRW5naW5lID0gSnNvblJwY0VuZ2luZTtcbmZ1bmN0aW9uIGpzb25pZnkocmVxdWVzdCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0LCBudWxsLCAyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaVNuTnZibEp3WTBWdVoybHVaUzVxY3lJc0luTnZkWEpqWlZKdmIzUWlPaUlpTENKemIzVnlZMlZ6SWpwYklpNHVMM055WXk5S2MyOXVVbkJqUlc1bmFXNWxMblJ6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN096dEJRVUZCTEhOR1FVRTBSRHRCUVVNMVJDeHRSRUZCT0VVN1FVRjFSamxGT3pzN1IwRkhSenRCUVVOSUxFMUJRV0VzWVVGQll5eFRRVUZSTERSQ1FVRm5RanRKUVVkcVJEdFJRVU5GTEV0QlFVc3NSVUZCUlN4RFFVRkRPMUZCUTFJc1NVRkJTU3hEUVVGRExGZEJRVmNzUjBGQlJ5eEZRVUZGTEVOQlFVTTdTVUZEZUVJc1EwRkJRenRKUVVWRU96czdPMDlCU1VjN1NVRkRTQ3hKUVVGSkxFTkJRVThzVlVGQmJVTTdVVUZETlVNc1NVRkJTU3hEUVVGRExGZEJRVmNzUTBGQlF5eEpRVUZKTEVOQlFVTXNWVUZCYVVRc1EwRkJReXhEUVVGRE8wbEJRek5GTEVOQlFVTTdTVUV5UTBRc1RVRkJUU3hEUVVGRExFZEJRVmtzUlVGQlJTeEZRVUZSTzFGQlF6TkNMRWxCUVVrc1JVRkJSU3hKUVVGSkxFOUJRVThzUlVGQlJTeExRVUZMTEZWQlFWVXNSVUZCUlR0WlFVTnNReXhOUVVGTkxFbEJRVWtzUzBGQlN5eERRVUZETERSRFFVRTBReXhEUVVGRExFTkJRVU03VTBGREwwUTdVVUZGUkN4SlFVRkpMRXRCUVVzc1EwRkJReXhQUVVGUExFTkJRVU1zUjBGQlJ5eERRVUZETEVWQlFVVTdXVUZEZEVJc1NVRkJTU3hGUVVGRkxFVkJRVVU3WjBKQlEwNHNUMEZCVHl4SlFVRkpMRU5CUVVNc1dVRkJXU3hEUVVGRExFZEJRVWNzUlVGQlJTeEZRVUZGTEVOQlFVTXNRMEZCUXp0aFFVTnVRenRaUVVORUxFOUJRVThzU1VGQlNTeERRVUZETEZsQlFWa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJRenRUUVVNdlFqdFJRVVZFTEVsQlFVa3NSVUZCUlN4RlFVRkZPMWxCUTA0c1QwRkJUeXhKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEVkQlFUaENMRVZCUVVVc1JVRkJSU3hEUVVGRExFTkJRVU03VTBGRGVrUTdVVUZEUkN4UFFVRlBMRWxCUVVrc1EwRkJReXhqUVVGakxFTkJRVU1zUjBGQk9FSXNRMEZCUXl4RFFVRkRPMGxCUXpkRUxFTkJRVU03U1VGRlJEczdPenM3VDBGTFJ6dEpRVU5JTEZsQlFWazdVVUZEVml4UFFVRlBMRXRCUVVzc1JVRkJSU3hIUVVGSExFVkJRVVVzUjBGQlJ5eEZRVUZGTEVsQlFVa3NSVUZCUlN4SFFVRkhMRVZCUVVVc1JVRkJSVHRaUVVOdVF5eEpRVUZKTzJkQ1FVTkdMRTFCUVUwc1EwRkRTaXhsUVVGbExFVkJRMllzVlVGQlZTeEZRVU5XTEdOQlFXTXNSVUZEWml4SFFVRkhMRTFCUVUwc1lVRkJZU3hEUVVGRExHbENRVUZwUWl4RFFVRkRMRWRCUVVjc1JVRkJSU3hIUVVGSExFVkJRVVVzU1VGQlNTeERRVUZETEZkQlFWY3NRMEZCUXl4RFFVRkRPMmRDUVVWMFJTeEpRVUZKTEZWQlFWVXNSVUZCUlR0dlFrRkRaQ3hOUVVGTkxHRkJRV0VzUTBGQlF5eHJRa0ZCYTBJc1EwRkJReXhqUVVGakxFTkJRVU1zUTBGQlF6dHZRa0ZEZGtRc1QwRkJUeXhIUVVGSExFTkJRVU1zWlVGQk5rTXNRMEZCUXl4RFFVRkRPMmxDUVVNelJEdG5Ra0ZGUkN4UFFVRlBMRWxCUVVrc1EwRkJReXhMUVVGTExFVkJRVVVzWlVGQlpTeEZRVUZGTEVWQlFVVTdiMEpCUTNCRExFbEJRVWs3ZDBKQlEwWXNUVUZCVFN4aFFVRmhMRU5CUVVNc2EwSkJRV3RDTEVOQlFVTXNZMEZCWXl4RFFVRkRMRU5CUVVNN2NVSkJRM2hFTzI5Q1FVRkRMRTlCUVU4c1MwRkJTeXhGUVVGRk8zZENRVU5rTEU5QlFVOHNaVUZCWlN4RFFVRkRMRXRCUVVzc1EwRkJReXhEUVVGRE8zRkNRVU12UWp0dlFrRkRSQ3hQUVVGUExHVkJRV1VzUlVGQlJTeERRVUZETzJkQ1FVTXpRaXhEUVVGRExFTkJRVU1zUTBGQlF6dGhRVU5LTzFsQlFVTXNUMEZCVHl4TFFVRkxMRVZCUVVVN1owSkJRMlFzVDBGQlR5eEhRVUZITEVOQlFVTXNTMEZCU3l4RFFVRkRMRU5CUVVNN1lVRkRia0k3VVVGRFNDeERRVUZETEVOQlFVTTdTVUZEU2l4RFFVRkRPMGxCYVVKUExFdEJRVXNzUTBGQlF5eFpRVUZaTEVOQlEzaENMRWxCUVN0Q0xFVkJReTlDTEVWQlFYRkZPMUZCUlhKRkxEaENRVUU0UWp0UlFVTTVRaXhKUVVGSk8xbEJRMFlzY1VWQlFYRkZPMWxCUTNKRkxGRkJRVkU3V1VGRFVpeE5RVUZOTEZOQlFWTXNSMEZCUnl4TlFVRk5MRTlCUVU4c1EwRkJReXhIUVVGSE8xbEJRMnBETEhkRVFVRjNSRHRaUVVONFJDeEpRVUZKTEVOQlFVTXNSMEZCUnl4RFFVRkRMRWxCUVVrc1EwRkJReXhqUVVGakxFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRMRU5CUTNwRExFTkJRVU03V1VGRlJpd3lRa0ZCTWtJN1dVRkRNMElzU1VGQlNTeEZRVUZGTEVWQlFVVTdaMEpCUTA0c1QwRkJUeXhGUVVGRkxFTkJRVU1zU1VGQlNTeEZRVUZGTEZOQlFWTXNRMEZCUXl4RFFVRkRPMkZCUXpWQ08xbEJRMFFzVDBGQlR5eFRRVUZUTEVOQlFVTTdVMEZEYkVJN1VVRkJReXhQUVVGUExFdEJRVXNzUlVGQlJUdFpRVU5rTEVsQlFVa3NSVUZCUlN4RlFVRkZPMmRDUVVOT0xFOUJRVThzUlVGQlJTeERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkRPMkZCUTJ4Q08xbEJSVVFzVFVGQlRTeExRVUZMTEVOQlFVTTdVMEZEWWp0SlFVTklMRU5CUVVNN1NVRkZSRHM3VDBGRlJ6dEpRVU5MTEdOQlFXTXNRMEZEY0VJc1IwRkJORUk3VVVGRk5VSXNUMEZCVHl4SlFVRkpMRTlCUVU4c1EwRkJReXhEUVVGRExFOUJRVThzUlVGQlJTeEZRVUZGTzFsQlF6ZENMRWxCUVVrc1EwRkJReXhQUVVGUExFTkJRVU1zUjBGQlJ5eEZRVUZGTEVOQlFVTXNTVUZCU1N4RlFVRkZMRWRCUVVjc1JVRkJSU3hGUVVGRk8yZENRVU01UWl4eFJVRkJjVVU3WjBKQlEzSkZMR2xEUVVGcFF6dG5Ra0ZEYWtNc1QwRkJUeXhEUVVGRExFZEJRVWNzUTBGQlF5eERRVUZETzFsQlEyWXNRMEZCUXl4RFFVRkRMRU5CUVVNN1VVRkRUQ3hEUVVGRExFTkJRVU1zUTBGQlF6dEpRVU5NTEVOQlFVTTdTVUZGUkRzN096czdUMEZMUnp0SlFVTkxMRXRCUVVzc1EwRkJReXhQUVVGUExFTkJRMjVDTEZOQlFXdERMRVZCUTJ4RExFVkJRV2RGTzFGQlJXaEZMRWxCUTBVc1EwRkJReXhUUVVGVE8xbEJRMVlzUzBGQlN5eERRVUZETEU5QlFVOHNRMEZCUXl4VFFVRlRMRU5CUVVNN1dVRkRlRUlzVDBGQlR5eFRRVUZUTEV0QlFVc3NVVUZCVVN4RlFVTTNRanRaUVVOQkxFMUJRVTBzUzBGQlN5eEhRVUZITEVsQlFVa3NhVU5CUVdkQ0xFTkJRMmhETERKQ1FVRlZMRU5CUVVNc1IwRkJSeXhEUVVGRExHTkJRV01zUlVGRE4wSXNOa05CUVRaRExFOUJRVThzVTBGQlV5eEZRVUZGTEVWQlF5OUVMRVZCUVVVc1QwRkJUeXhGUVVGRkxGTkJRVk1zUlVGQlJTeERRVU4yUWl4RFFVRkRPMWxCUTBZc1QwRkJUeXhGUVVGRkxFTkJRVU1zUzBGQlN5eEZRVUZGTEVWQlFVVXNSVUZCUlN4RlFVRkZMRk5CUVZNc1JVRkJSU3hQUVVGUExFVkJRVVVzUzBGQlN5eEZRVUZGTEV0QlFVc3NSVUZCUlN4RFFVRkRMRU5CUVVNN1UwRkROVVE3VVVGRlJDeEpRVUZKTEU5QlFVOHNVMEZCVXl4RFFVRkRMRTFCUVUwc1MwRkJTeXhSUVVGUkxFVkJRVVU3V1VGRGVFTXNUVUZCVFN4TFFVRkxMRWRCUVVjc1NVRkJTU3hwUTBGQlowSXNRMEZEYUVNc01rSkJRVlVzUTBGQlF5eEhRVUZITEVOQlFVTXNZMEZCWXl4RlFVTTNRaXd5UTBGQk1rTXNUMEZCVHl4VFFVRlRMRU5CUVVNc1RVRkJUU3hGUVVGRkxFVkJRM0JGTEVWQlFVVXNUMEZCVHl4RlFVRkZMRk5CUVZNc1JVRkJSU3hEUVVOMlFpeERRVUZETzFsQlEwWXNUMEZCVHl4RlFVRkZMRU5CUVVNc1MwRkJTeXhGUVVGRkxFVkJRVVVzUlVGQlJTeEZRVUZGTEZOQlFWTXNRMEZCUXl4RlFVRkZMRVZCUVVVc1QwRkJUeXhGUVVGRkxFdEJRVXNzUlVGQlJTeExRVUZMTEVWQlFVVXNRMEZCUXl4RFFVRkRPMU5CUXk5RU8xRkJSVVFzVFVGQlRTeEhRVUZITEhGQ1FVRnBReXhUUVVGVExFTkJRVVVzUTBGQlF6dFJRVU4wUkN4TlFVRk5MRWRCUVVjc1IwRkJiME03V1VGRE0wTXNSVUZCUlN4RlFVRkZMRWRCUVVjc1EwRkJReXhGUVVGRk8xbEJRMVlzVDBGQlR5eEZRVUZGTEVkQlFVY3NRMEZCUXl4UFFVRlBPMU5CUTNKQ0xFTkJRVU03VVVGRFJpeEpRVUZKTEV0QlFVc3NSMEZCSzBJc1NVRkJTU3hEUVVGRE8xRkJSVGRETEVsQlFVazdXVUZEUml4TlFVRk5MRWxCUVVrc1EwRkJReXhsUVVGbExFTkJRVU1zUjBGQlJ5eEZRVUZGTEVkQlFVY3NRMEZCUXl4RFFVRkRPMU5CUTNSRE8xRkJRVU1zVDBGQlR5eE5RVUZOTEVWQlFVVTdXVUZEWml4elJVRkJjMFU3V1VGRGRFVXNZMEZCWXp0WlFVTmtMRXRCUVVzc1IwRkJSeXhOUVVGTkxFTkJRVU03VTBGRGFFSTdVVUZGUkN4SlFVRkpMRXRCUVVzc1JVRkJSVHRaUVVOVUxIRkVRVUZ4UkR0WlFVTnlSQ3hQUVVGUExFZEJRVWNzUTBGQlF5eE5RVUZOTEVOQlFVTTdXVUZEYkVJc1NVRkJTU3hEUVVGRExFZEJRVWNzUTBGQlF5eExRVUZMTEVWQlFVVTdaMEpCUTJRc1IwRkJSeXhEUVVGRExFdEJRVXNzUjBGQlJ5d3JRa0ZCWXl4RFFVRkRMRXRCUVVzc1EwRkJReXhEUVVGRE8yRkJRMjVETzFOQlEwWTdVVUZGUkN4UFFVRlBMRVZCUVVVc1EwRkJReXhMUVVGTExFVkJRVVVzUjBGQkswSXNRMEZCUXl4RFFVRkRPMGxCUTNCRUxFTkJRVU03U1VGRlJEczdPenRQUVVsSE8wbEJRMHNzUzBGQlN5eERRVUZETEdWQlFXVXNRMEZETTBJc1IwRkJORUlzUlVGRE5VSXNSMEZCYjBNN1VVRkZjRU1zVFVGQlRTeERRVU5LTEV0QlFVc3NSVUZEVEN4VlFVRlZMRVZCUTFZc1kwRkJZeXhGUVVObUxFZEJRVWNzVFVGQlRTeGhRVUZoTEVOQlFVTXNhVUpCUVdsQ0xFTkJRVU1zUjBGQlJ5eEZRVUZGTEVkQlFVY3NSVUZCUlN4SlFVRkpMRU5CUVVNc1YwRkJWeXhEUVVGRExFTkJRVU03VVVGRmRFVXNlVVZCUVhsRk8xRkJRM3BGTEdkQ1FVRm5RanRSUVVOb1FpeGhRVUZoTEVOQlFVTXNiVUpCUVcxQ0xFTkJRVU1zUjBGQlJ5eEZRVUZGTEVkQlFVY3NSVUZCUlN4VlFVRlZMRU5CUVVNc1EwRkJRenRSUVVWNFJDeDVSVUZCZVVVN1VVRkRla1VzZVVKQlFYbENPMUZCUTNwQ0xFMUJRVTBzWVVGQllTeERRVUZETEd0Q1FVRnJRaXhEUVVGRExHTkJRV01zUTBGQlF5eERRVUZETzFGQlJYWkVMSFZGUVVGMVJUdFJRVU4yUlN3MlFrRkJOa0k3VVVGRE4wSXNTVUZCU1N4TFFVRkxMRVZCUVVVN1dVRkRWQ3hOUVVGTkxFdEJRVXNzUTBGQlF6dFRRVU5pTzBsQlEwZ3NRMEZCUXp0SlFVVkVPenM3T3pzN1QwRk5SenRKUVVOTExFMUJRVTBzUTBGQlF5eExRVUZMTEVOQlFVTXNhVUpCUVdsQ0xFTkJRM0JETEVkQlFUUkNMRVZCUXpWQ0xFZEJRVzlETEVWQlEzQkRMR1ZCUVhORU8xRkJVWFJFTEUxQlFVMHNZMEZCWXl4SFFVRnBReXhGUVVGRkxFTkJRVU03VVVGRGVFUXNTVUZCU1N4TFFVRkxMRWRCUVVjc1NVRkJTU3hEUVVGRE8xRkJRMnBDTEVsQlFVa3NWVUZCVlN4SFFVRkhMRXRCUVVzc1EwRkJRenRSUVVWMlFpeDNSVUZCZDBVN1VVRkRlRVVzUzBGQlN5eE5RVUZOTEZWQlFWVXNTVUZCU1N4bFFVRmxMRVZCUVVVN1dVRkRlRU1zUTBGQlF5eExRVUZMTEVWQlFVVXNWVUZCVlN4RFFVRkRMRWRCUVVjc1RVRkJUU3hoUVVGaExFTkJRVU1zWTBGQll5eERRVU4wUkN4SFFVRkhMRVZCUTBnc1IwRkJSeXhGUVVOSUxGVkJRVlVzUlVGRFZpeGpRVUZqTEVOQlEyWXNRMEZCUXp0WlFVTkdMRWxCUVVrc1ZVRkJWU3hGUVVGRk8yZENRVU5rTEUxQlFVMDdZVUZEVUR0VFFVTkdPMUZCUTBRc1QwRkJUeXhEUVVGRExFdEJRVXNzUlVGQlJTeFZRVUZWTEVWQlFVVXNZMEZCWXl4RFFVRkRMRTlCUVU4c1JVRkJSU3hEUVVGRExFTkJRVU03U1VGRGRrUXNRMEZCUXp0SlFVVkVPenM3T3p0UFFVdEhPMGxCUTBzc1RVRkJUU3hEUVVGRExHTkJRV01zUTBGRE0wSXNSMEZCTkVJc1JVRkROVUlzUjBGQmIwTXNSVUZEY0VNc1ZVRkJLME1zUlVGREwwTXNZMEZCTkVNN1VVRkZOVU1zVDBGQlR5eEpRVUZKTEU5QlFVOHNRMEZCUXl4RFFVRkRMRTlCUVU4c1JVRkJSU3hGUVVGRk8xbEJRemRDTEUxQlFVMHNSMEZCUnl4SFFVRTJRaXhEUVVGRExFZEJRV0VzUlVGQlJTeEZRVUZGTzJkQ1FVTjBSQ3hOUVVGTkxFdEJRVXNzUjBGQlJ5eEhRVUZITEVsQlFVa3NSMEZCUnl4RFFVRkRMRXRCUVVzc1EwRkJRenRuUWtGREwwSXNTVUZCU1N4TFFVRkxMRVZCUVVVN2IwSkJRMVFzUjBGQlJ5eERRVUZETEV0QlFVc3NSMEZCUnl3clFrRkJZeXhEUVVGRExFdEJRVXNzUTBGQlF5eERRVUZETzJsQ1FVTnVRenRuUWtGRFJDdzJRMEZCTmtNN1owSkJRemRETEU5QlFVOHNRMEZCUXl4RFFVRkRMRXRCUVVzc1JVRkJSU3hKUVVGSkxFTkJRVU1zUTBGQlF5eERRVUZETzFsQlEzcENMRU5CUVVNc1EwRkJRenRaUVVWR0xFMUJRVTBzU1VGQlNTeEhRVUU0UWl4RFFVTjBReXhoUVVFd1F5eEZRVU14UXl4RlFVRkZPMmRDUVVOR0xFbEJRVWtzUjBGQlJ5eERRVUZETEV0QlFVc3NSVUZCUlR0dlFrRkRZaXhIUVVGSExFTkJRVU1zUjBGQlJ5eERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkRPMmxDUVVOb1FqdHhRa0ZCVFR0dlFrRkRUQ3hKUVVGSkxHRkJRV0VzUlVGQlJUdDNRa0ZEYWtJc1NVRkJTU3hQUVVGUExHRkJRV0VzUzBGQlN5eFZRVUZWTEVWQlFVVTdORUpCUTNaRExFZEJRVWNzUTBGRFJDeEpRVUZKTEdsRFFVRm5RaXhEUVVOc1Fpd3lRa0ZCVlN4RFFVRkRMRWRCUVVjc1EwRkJReXhSUVVGUkxFVkJRM1pDTERKRVFVRXlSRHRuUTBGRGVrUXNZVUZCWVN4UFFVRlBMR0ZCUVdFc2JVSkJRVzFDTEU5QlFVOHNRMEZEZWtRc1IwRkJSeXhEUVVOS0xFVkJRVVVzUlVGRFRDeEZRVUZGTEU5QlFVOHNSVUZCUlN4SFFVRkhMRVZCUVVVc1EwRkRha0lzUTBGRFJpeERRVUZETzNsQ1FVTklPM2RDUVVORUxHTkJRV01zUTBGQlF5eEpRVUZKTEVOQlFVTXNZVUZCWVN4RFFVRkRMRU5CUVVNN2NVSkJRM0JETzI5Q1FVVkVMR3RFUVVGclJEdHZRa0ZEYkVRc1QwRkJUeXhEUVVGRExFTkJRVU1zU1VGQlNTeEZRVUZGTEV0QlFVc3NRMEZCUXl4RFFVRkRMRU5CUVVNN2FVSkJRM2hDTzFsQlEwZ3NRMEZCUXl4RFFVRkRPMWxCUlVZc1NVRkJTVHRuUWtGRFJpeFZRVUZWTEVOQlFVTXNSMEZCUnl4RlFVRkZMRWRCUVVjc1JVRkJSU3hKUVVGSkxFVkJRVVVzUjBGQlJ5eERRVUZETEVOQlFVTTdZVUZEYWtNN1dVRkJReXhQUVVGUExFdEJRVXNzUlVGQlJUdG5Ra0ZEWkN4SFFVRkhMRU5CUVVNc1MwRkJTeXhEUVVGRExFTkJRVU03WVVGRFdqdFJRVU5JTEVOQlFVTXNRMEZCUXl4RFFVRkRPMGxCUTB3c1EwRkJRenRKUVVWRU96czdUMEZIUnp0SlFVTkxMRTFCUVUwc1EwRkJReXhMUVVGTExFTkJRVU1zYTBKQlFXdENMRU5CUTNKRExGRkJRWE5ETzFGQlJYUkRMRXRCUVVzc1RVRkJUU3hQUVVGUExFbEJRVWtzVVVGQlVTeEZRVUZGTzFsQlF6bENMRTFCUVUwc1NVRkJTU3hQUVVGUExFTkJRVU1zUTBGQlF5eFBRVUZQTEVWQlFVVXNUVUZCVFN4RlFVRkZMRVZCUVVVN1owSkJRM0JETEU5QlFVOHNRMEZCUXl4RFFVRkRMRWRCUVVjc1JVRkJSU3hGUVVGRkxFTkJRVU1zUTBGQlF5eEhRVUZITEVOQlFVTXNRMEZCUXl4RFFVRkRMRTFCUVUwc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNUMEZCVHl4RlFVRkZMRU5CUVVNc1EwRkJReXhEUVVGRE8xbEJRM0JFTEVOQlFVTXNRMEZCUXl4RFFVRkRPMU5CUTBvN1NVRkRTQ3hEUVVGRE8wbEJSVVE3T3p0UFFVZEhPMGxCUTBzc1RVRkJUU3hEUVVGRExHMUNRVUZ0UWl4RFFVTm9ReXhIUVVFMFFpeEZRVU0xUWl4SFFVRnZReXhGUVVOd1F5eFZRVUZ0UWp0UlFVVnVRaXhKUVVGSkxFTkJRVU1zUTBGQlF5eFJRVUZSTEVsQlFVa3NSMEZCUnl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRExFOUJRVThzU1VGQlNTeEhRVUZITEVOQlFVTXNSVUZCUlR0WlFVTXpReXhOUVVGTkxFbEJRVWtzYVVOQlFXZENMRU5CUTNoQ0xESkNRVUZWTEVOQlFVTXNSMEZCUnl4RFFVRkRMRkZCUVZFc1JVRkRka0lzWjBWQlFXZEZMRTlCUVU4c1EwRkRja1VzUjBGQlJ5eERRVU5LTEVWQlFVVXNSVUZEU0N4RlFVRkZMRTlCUVU4c1JVRkJSU3hIUVVGSExFVkJRVVVzUTBGRGFrSXNRMEZCUXp0VFFVTklPMUZCUTBRc1NVRkJTU3hEUVVGRExGVkJRVlVzUlVGQlJUdFpRVU5tTEUxQlFVMHNTVUZCU1N4cFEwRkJaMElzUTBGRGVFSXNNa0pCUVZVc1EwRkJReXhIUVVGSExFTkJRVU1zVVVGQlVTeEZRVU4yUWl3d1EwRkJNRU1zVDBGQlR5eERRVUZETEVkQlFVY3NRMEZCUXl4RlFVRkZMRVZCUTNoRUxFVkJRVVVzVDBGQlR5eEZRVUZGTEVkQlFVY3NSVUZCUlN4RFFVTnFRaXhEUVVGRE8xTkJRMGc3U1VGRFNDeERRVUZETzBOQlEwWTdRVUZ5V1VRc2MwTkJjVmxETzBGQlJVUXNVMEZCVXl4UFFVRlBMRU5CUVVNc1QwRkJaME03U1VGREwwTXNUMEZCVHl4SlFVRkpMRU5CUVVNc1UwRkJVeXhEUVVGRExFOUJRVThzUlVGQlJTeEpRVUZKTEVWQlFVVXNRMEZCUXl4RFFVRkRMRU5CUVVNN1FVRkRNVU1zUTBGQlF5SjkiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlQXN5bmNNaWRkbGV3YXJlID0gdm9pZCAwO1xuLyoqXG4gKiBKc29uUnBjRW5naW5lIG9ubHkgYWNjZXB0cyBjYWxsYmFjay1iYXNlZCBtaWRkbGV3YXJlIGRpcmVjdGx5LlxuICogY3JlYXRlQXN5bmNNaWRkbGV3YXJlIGV4aXN0cyB0byBlbmFibGUgY29uc3VtZXJzIHRvIHBhc3MgaW4gYXN5bmMgbWlkZGxld2FyZVxuICogZnVuY3Rpb25zLlxuICpcbiAqIEFzeW5jIG1pZGRsZXdhcmUgaGF2ZSBubyBcImVuZFwiIGZ1bmN0aW9uLiBJbnN0ZWFkLCB0aGV5IFwiZW5kXCIgaWYgdGhleSByZXR1cm5cbiAqIHdpdGhvdXQgY2FsbGluZyBcIm5leHRcIi4gUmF0aGVyIHRoYW4gcGFzc2luZyBpbiBleHBsaWNpdCByZXR1cm4gaGFuZGxlcnMsXG4gKiBhc3luYyBtaWRkbGV3YXJlIGNhbiBzaW1wbHkgYXdhaXQgXCJuZXh0XCIsIGFuZCBwZXJmb3JtIG9wZXJhdGlvbnMgb24gdGhlXG4gKiByZXNwb25zZSBvYmplY3Qgd2hlbiBleGVjdXRpb24gcmVzdW1lcy5cbiAqXG4gKiBUbyBhY2NvbXBsaXNoIHRoaXMsIGNyZWF0ZUFzeW5jTWlkZGxld2FyZSBwYXNzZXMgdGhlIGFzeW5jIG1pZGRsZXdhcmUgYVxuICogd3JhcHBlZCBcIm5leHRcIiBmdW5jdGlvbi4gVGhhdCBmdW5jdGlvbiBjYWxscyB0aGUgaW50ZXJuYWwgSnNvblJwY0VuZ2luZVxuICogXCJuZXh0XCIgZnVuY3Rpb24gd2l0aCBhIHJldHVybiBoYW5kbGVyIHRoYXQgcmVzb2x2ZXMgYSBwcm9taXNlIHdoZW4gY2FsbGVkLlxuICpcbiAqIFRoZSByZXR1cm4gaGFuZGxlciB3aWxsIGFsd2F5cyBiZSBjYWxsZWQuIEl0cyByZXNvbHV0aW9uIG9mIHRoZSBwcm9taXNlXG4gKiBlbmFibGVzIHRoZSBjb250cm9sIGZsb3cgZGVzY3JpYmVkIGFib3ZlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBc3luY01pZGRsZXdhcmUoYXN5bmNNaWRkbGV3YXJlKSB7XG4gICAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcywgbmV4dCwgZW5kKSA9PiB7XG4gICAgICAgIC8vIG5leHRQcm9taXNlIGlzIHRoZSBrZXkgdG8gdGhlIGltcGxlbWVudGF0aW9uXG4gICAgICAgIC8vIGl0IGlzIHJlc29sdmVkIGJ5IHRoZSByZXR1cm4gaGFuZGxlciBwYXNzZWQgdG8gdGhlXG4gICAgICAgIC8vIFwibmV4dFwiIGZ1bmN0aW9uXG4gICAgICAgIGxldCByZXNvbHZlTmV4dFByb21pc2U7XG4gICAgICAgIGNvbnN0IG5leHRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVOZXh0UHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgcmV0dXJuSGFuZGxlckNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgbGV0IG5leHRXYXNDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIGNhbGxlZCBieSB0aGUgY29uc3VtZXIncyBhc3luYyBtaWRkbGV3YXJlLlxuICAgICAgICBjb25zdCBhc3luY05leHQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBuZXh0V2FzQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFdlIHBhc3MgYSByZXR1cm4gaGFuZGxlciB0byBuZXh0KCkuIFdoZW4gaXQgaXMgY2FsbGVkIGJ5IHRoZSBlbmdpbmUsXG4gICAgICAgICAgICAvLyB0aGUgY29uc3VtZXIncyBhc3luYyBtaWRkbGV3YXJlIHdpbGwgcmVzdW1lIGV4ZWN1dGluZy5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBub2RlL2NhbGxiYWNrLXJldHVyblxuICAgICAgICAgICAgbmV4dCgocnVuUmV0dXJuSGFuZGxlcnNDYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgY2FsbGJhY2sgY29tZXMgZnJvbSBKc29uUnBjRW5naW5lLl9ydW5SZXR1cm5IYW5kbGVyc1xuICAgICAgICAgICAgICAgIHJldHVybkhhbmRsZXJDYWxsYmFjayA9IHJ1blJldHVybkhhbmRsZXJzQ2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZU5leHRQcm9taXNlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IG5leHRQcm9taXNlO1xuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgYXN5bmNNaWRkbGV3YXJlKHJlcSwgcmVzLCBhc3luY05leHQpO1xuICAgICAgICAgICAgaWYgKG5leHRXYXNDYWxsZWQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXh0UHJvbWlzZTsgLy8gd2UgbXVzdCB3YWl0IHVudGlsIHRoZSByZXR1cm4gaGFuZGxlciBpcyBjYWxsZWRcbiAgICAgICAgICAgICAgICByZXR1cm5IYW5kbGVyQ2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbmQobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAocmV0dXJuSGFuZGxlckNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuSGFuZGxlckNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVuZChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVBc3luY01pZGRsZXdhcmUgPSBjcmVhdGVBc3luY01pZGRsZXdhcmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lZM0psWVhSbFFYTjVibU5OYVdSa2JHVjNZWEpsTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhNaU9sc2lMaTR2YzNKakwyTnlaV0YwWlVGemVXNWpUV2xrWkd4bGQyRnlaUzUwY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3pzN1FVRm5Ra0U3T3pzN096czdPenM3T3pzN096czdSMEZuUWtjN1FVRkRTQ3hUUVVGblFpeHhRa0ZCY1VJc1EwRkRia01zWlVGQk5rTTdTVUZGTjBNc1QwRkJUeXhMUVVGTExFVkJRVVVzUjBGQlJ5eEZRVUZGTEVkQlFVY3NSVUZCUlN4SlFVRkpMRVZCUVVVc1IwRkJSeXhGUVVGRkxFVkJRVVU3VVVGRGJrTXNLME5CUVN0RE8xRkJReTlETEhGRVFVRnhSRHRSUVVOeVJDeHJRa0ZCYTBJN1VVRkRiRUlzU1VGQlNTeHJRa0ZCT0VJc1EwRkJRenRSUVVOdVF5eE5RVUZOTEZkQlFWY3NSMEZCUnl4SlFVRkpMRTlCUVU4c1EwRkJReXhEUVVGRExFOUJRVThzUlVGQlJTeEZRVUZGTzFsQlF6RkRMR3RDUVVGclFpeEhRVUZITEU5QlFVOHNRMEZCUXp0UlFVTXZRaXhEUVVGRExFTkJRVU1zUTBGQlF6dFJRVVZJTEVsQlFVa3NjVUpCUVhGQ0xFZEJRVmtzU1VGQlNTeERRVUZETzFGQlF6RkRMRWxCUVVrc1lVRkJZU3hIUVVGSExFdEJRVXNzUTBGQlF6dFJRVVV4UWl3d1JFRkJNRVE3VVVGRE1VUXNUVUZCVFN4VFFVRlRMRWRCUVVjc1MwRkJTeXhKUVVGSkxFVkJRVVU3V1VGRE0wSXNZVUZCWVN4SFFVRkhMRWxCUVVrc1EwRkJRenRaUVVWeVFpeDFSVUZCZFVVN1dVRkRka1VzZVVSQlFYbEVPMWxCUTNwRUxHZEVRVUZuUkR0WlFVTm9SQ3hKUVVGSkxFTkJRVU1zUTBGQlF5eDVRa0ZCZVVJc1JVRkJSU3hGUVVGRk8yZENRVU5xUXl3MFJFRkJORVE3WjBKQlF6VkVMSEZDUVVGeFFpeEhRVUZITEhsQ1FVRjVRaXhEUVVGRE8yZENRVU5zUkN4clFrRkJhMElzUlVGQlJTeERRVUZETzFsQlEzWkNMRU5CUVVNc1EwRkJReXhEUVVGRE8xbEJRMGdzVFVGQlRTeFhRVUZYTEVOQlFVTTdVVUZEY0VJc1EwRkJReXhEUVVGRE8xRkJSVVlzU1VGQlNUdFpRVU5HTEUxQlFVMHNaVUZCWlN4RFFVRkRMRWRCUVVjc1JVRkJSU3hIUVVGSExFVkJRVVVzVTBGQlV5eERRVUZETEVOQlFVTTdXVUZGTTBNc1NVRkJTU3hoUVVGaExFVkJRVVU3WjBKQlEycENMRTFCUVUwc1YwRkJWeXhEUVVGRExFTkJRVU1zYTBSQlFXdEVPMmRDUVVOd1JTeHhRa0ZCSzBNc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dGhRVU40UkR0cFFrRkJUVHRuUWtGRFRDeEhRVUZITEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1lVRkRXRHRUUVVOR08xRkJRVU1zVDBGQlR5eExRVUZMTEVWQlFVVTdXVUZEWkN4SlFVRkpMSEZDUVVGeFFpeEZRVUZGTzJkQ1FVTjRRaXh4UWtGQkswTXNRMEZCUXl4TFFVRkxMRU5CUVVNc1EwRkJRenRoUVVONlJEdHBRa0ZCVFR0blFrRkRUQ3hIUVVGSExFTkJRVU1zUzBGQlN5eERRVUZETEVOQlFVTTdZVUZEV2p0VFFVTkdPMGxCUTBnc1EwRkJReXhEUVVGRE8wRkJRMG9zUTBGQlF6dEJRUzlEUkN4elJFRXJRME1pZlE9PSIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVTY2FmZm9sZE1pZGRsZXdhcmUgPSB2b2lkIDA7XG5mdW5jdGlvbiBjcmVhdGVTY2FmZm9sZE1pZGRsZXdhcmUoaGFuZGxlcnMpIHtcbiAgICByZXR1cm4gKHJlcSwgcmVzLCBuZXh0LCBlbmQpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IGhhbmRsZXJzW3JlcS5tZXRob2RdO1xuICAgICAgICAvLyBpZiBubyBoYW5kbGVyLCByZXR1cm5cbiAgICAgICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBoYW5kbGVyIGlzIGZuLCBjYWxsIGFzIG1pZGRsZXdhcmVcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcywgbmV4dCwgZW5kKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBoYW5kbGVyIGlzIHNvbWUgb3RoZXIgdmFsdWUsIHVzZSBhcyByZXN1bHRcbiAgICAgICAgcmVzLnJlc3VsdCA9IGhhbmRsZXI7XG4gICAgICAgIHJldHVybiBlbmQoKTtcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVTY2FmZm9sZE1pZGRsZXdhcmUgPSBjcmVhdGVTY2FmZm9sZE1pZGRsZXdhcmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lZM0psWVhSbFUyTmhabVp2YkdSTmFXUmtiR1YzWVhKbExtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTWlPbHNpTGk0dmMzSmpMMk55WldGMFpWTmpZV1ptYjJ4a1RXbGtaR3hsZDJGeVpTNTBjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPenM3UVVGSlFTeFRRVUZuUWl4M1FrRkJkMElzUTBGQlF5eFJRVVY0UXp0SlFVTkRMRTlCUVU4c1EwRkJReXhIUVVGSExFVkJRVVVzUjBGQlJ5eEZRVUZGTEVsQlFVa3NSVUZCUlN4SFFVRkhMRVZCUVVVc1JVRkJSVHRSUVVNM1FpeE5RVUZOTEU5QlFVOHNSMEZCUnl4UlFVRlJMRU5CUVVNc1IwRkJSeXhEUVVGRExFMUJRVTBzUTBGQlF5eERRVUZETzFGQlEzSkRMSGRDUVVGM1FqdFJRVU40UWl4SlFVRkpMRTlCUVU4c1MwRkJTeXhUUVVGVExFVkJRVVU3V1VGRGVrSXNUMEZCVHl4SlFVRkpMRVZCUVVVc1EwRkJRenRUUVVObU8xRkJRMFFzZFVOQlFYVkRPMUZCUTNaRExFbEJRVWtzVDBGQlR5eFBRVUZQTEV0QlFVc3NWVUZCVlN4RlFVRkZPMWxCUTJwRExFOUJRVThzVDBGQlR5eERRVUZETEVkQlFVY3NSVUZCUlN4SFFVRkhMRVZCUVVVc1NVRkJTU3hGUVVGRkxFZEJRVWNzUTBGQlF5eERRVUZETzFOQlEzSkRPMUZCUTBRc1owUkJRV2RFTzFGQlF5OURMRWRCUVN0Q0xFTkJRVU1zVFVGQlRTeEhRVUZITEU5QlFVOHNRMEZCUXp0UlFVTnNSQ3hQUVVGUExFZEJRVWNzUlVGQlJTeERRVUZETzBsQlEyWXNRMEZCUXl4RFFVRkRPMEZCUTBvc1EwRkJRenRCUVdwQ1JDdzBSRUZwUWtNaWZRPT0iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0VW5pcXVlSWQgPSB2b2lkIDA7XG4vLyB1aW50MzIgKHR3bydzIGNvbXBsZW1lbnQpIG1heFxuLy8gbW9yZSBjb25zZXJ2YXRpdmUgdGhhbiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxuY29uc3QgTUFYID0gNDI5NDk2NzI5NTtcbmxldCBpZENvdW50ZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNQVgpO1xuZnVuY3Rpb24gZ2V0VW5pcXVlSWQoKSB7XG4gICAgaWRDb3VudGVyID0gKGlkQ291bnRlciArIDEpICUgTUFYO1xuICAgIHJldHVybiBpZENvdW50ZXI7XG59XG5leHBvcnRzLmdldFVuaXF1ZUlkID0gZ2V0VW5pcXVlSWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2laMlYwVlc1cGNYVmxTV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SXVMaTl6Y21NdloyVjBWVzVwY1hWbFNXUXVkSE1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3TzBGQlFVRXNaME5CUVdkRE8wRkJRMmhETEdsRVFVRnBSRHRCUVVOcVJDeE5RVUZOTEVkQlFVY3NSMEZCUnl4VlFVRlZMRU5CUVVNN1FVRkRka0lzU1VGQlNTeFRRVUZUTEVkQlFVY3NTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhKUVVGSkxFTkJRVU1zVFVGQlRTeEZRVUZGTEVkQlFVY3NSMEZCUnl4RFFVRkRMRU5CUVVNN1FVRkZhRVFzVTBGQlowSXNWMEZCVnp0SlFVTjZRaXhUUVVGVExFZEJRVWNzUTBGQlF5eFRRVUZUTEVkQlFVY3NRMEZCUXl4RFFVRkRMRWRCUVVjc1IwRkJSeXhEUVVGRE8wbEJRMnhETEU5QlFVOHNVMEZCVXl4RFFVRkRPMEZCUTI1Q0xFTkJRVU03UVVGSVJDeHJRMEZIUXlKOSIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVJZFJlbWFwTWlkZGxld2FyZSA9IHZvaWQgMDtcbmNvbnN0IGdldFVuaXF1ZUlkXzEgPSByZXF1aXJlKFwiLi9nZXRVbmlxdWVJZFwiKTtcbmZ1bmN0aW9uIGNyZWF0ZUlkUmVtYXBNaWRkbGV3YXJlKCkge1xuICAgIHJldHVybiAocmVxLCByZXMsIG5leHQsIF9lbmQpID0+IHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJZCA9IHJlcS5pZDtcbiAgICAgICAgY29uc3QgbmV3SWQgPSBnZXRVbmlxdWVJZF8xLmdldFVuaXF1ZUlkKCk7XG4gICAgICAgIHJlcS5pZCA9IG5ld0lkO1xuICAgICAgICByZXMuaWQgPSBuZXdJZDtcbiAgICAgICAgbmV4dCgoZG9uZSkgPT4ge1xuICAgICAgICAgICAgcmVxLmlkID0gb3JpZ2luYWxJZDtcbiAgICAgICAgICAgIHJlcy5pZCA9IG9yaWdpbmFsSWQ7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5leHBvcnRzLmNyZWF0ZUlkUmVtYXBNaWRkbGV3YXJlID0gY3JlYXRlSWRSZW1hcE1pZGRsZXdhcmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lhV1JTWlcxaGNFMXBaR1JzWlhkaGNtVXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdUxpOXpjbU12YVdSU1pXMWhjRTFwWkdSc1pYZGhjbVV1ZEhNaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN08wRkJRVUVzSzBOQlFUUkRPMEZCUnpWRExGTkJRV2RDTEhWQ1FVRjFRanRKUVVOeVF5eFBRVUZQTEVOQlFVTXNSMEZCUnl4RlFVRkZMRWRCUVVjc1JVRkJSU3hKUVVGSkxFVkJRVVVzU1VGQlNTeEZRVUZGTEVWQlFVVTdVVUZET1VJc1RVRkJUU3hWUVVGVkxFZEJRVWNzUjBGQlJ5eERRVUZETEVWQlFVVXNRMEZCUXp0UlFVTXhRaXhOUVVGTkxFdEJRVXNzUjBGQlJ5eDVRa0ZCVnl4RlFVRkZMRU5CUVVNN1VVRkROVUlzUjBGQlJ5eERRVUZETEVWQlFVVXNSMEZCUnl4TFFVRkxMRU5CUVVNN1VVRkRaaXhIUVVGSExFTkJRVU1zUlVGQlJTeEhRVUZITEV0QlFVc3NRMEZCUXp0UlFVTm1MRWxCUVVrc1EwRkJReXhEUVVGRExFbEJRVWtzUlVGQlJTeEZRVUZGTzFsQlExb3NSMEZCUnl4RFFVRkRMRVZCUVVVc1IwRkJSeXhWUVVGVkxFTkJRVU03V1VGRGNFSXNSMEZCUnl4RFFVRkRMRVZCUVVVc1IwRkJSeXhWUVVGVkxFTkJRVU03V1VGRGNFSXNTVUZCU1N4RlFVRkZMRU5CUVVNN1VVRkRWQ3hEUVVGRExFTkJRVU1zUTBGQlF6dEpRVU5NTEVOQlFVTXNRMEZCUXp0QlFVTktMRU5CUVVNN1FVRmFSQ3d3UkVGWlF5SjkiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2lkUmVtYXBNaWRkbGV3YXJlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jcmVhdGVBc3luY01pZGRsZXdhcmVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NyZWF0ZVNjYWZmb2xkTWlkZGxld2FyZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZ2V0VW5pcXVlSWRcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0pzb25ScGNFbmdpbmVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL21lcmdlTWlkZGxld2FyZVwiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lhVzVrWlhndWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGN5STZXeUl1TGk5emNtTXZhVzVrWlhndWRITWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN096czdPMEZCUVVFc2MwUkJRVzlETzBGQlEzQkRMREJFUVVGM1F6dEJRVU40UXl3MlJFRkJNa003UVVGRE0wTXNaMFJCUVRoQ08wRkJRemxDTEd0RVFVRm5RenRCUVVOb1F5eHZSRUZCYTBNaWZRPT0iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWVyZ2VNaWRkbGV3YXJlID0gdm9pZCAwO1xuY29uc3QgSnNvblJwY0VuZ2luZV8xID0gcmVxdWlyZShcIi4vSnNvblJwY0VuZ2luZVwiKTtcbmZ1bmN0aW9uIG1lcmdlTWlkZGxld2FyZShtaWRkbGV3YXJlU3RhY2spIHtcbiAgICBjb25zdCBlbmdpbmUgPSBuZXcgSnNvblJwY0VuZ2luZV8xLkpzb25ScGNFbmdpbmUoKTtcbiAgICBtaWRkbGV3YXJlU3RhY2suZm9yRWFjaCgobWlkZGxld2FyZSkgPT4gZW5naW5lLnB1c2gobWlkZGxld2FyZSkpO1xuICAgIHJldHVybiBlbmdpbmUuYXNNaWRkbGV3YXJlKCk7XG59XG5leHBvcnRzLm1lcmdlTWlkZGxld2FyZSA9IG1lcmdlTWlkZGxld2FyZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWJXVnlaMlZOYVdSa2JHVjNZWEpsTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhNaU9sc2lMaTR2YzNKakwyMWxjbWRsVFdsa1pHeGxkMkZ5WlM1MGN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU96czdRVUZCUVN4dFJFRkJiVVU3UVVGRmJrVXNVMEZCWjBJc1pVRkJaU3hEUVVGRExHVkJRWE5FTzBsQlEzQkdMRTFCUVUwc1RVRkJUU3hIUVVGSExFbEJRVWtzTmtKQlFXRXNSVUZCUlN4RFFVRkRPMGxCUTI1RExHVkJRV1VzUTBGQlF5eFBRVUZQTEVOQlFVTXNRMEZCUXl4VlFVRlZMRVZCUVVVc1JVRkJSU3hEUVVGRExFMUJRVTBzUTBGQlF5eEpRVUZKTEVOQlFVTXNWVUZCVlN4RFFVRkRMRU5CUVVNc1EwRkJRenRKUVVOcVJTeFBRVUZQTEUxQlFVMHNRMEZCUXl4WlFVRlpMRVZCUVVVc1EwRkJRenRCUVVNdlFpeERRVUZETzBGQlNrUXNNRU5CU1VNaWZRPT0iLCJtb2R1bGUuZXhwb3J0cyA9IElkSXRlcmF0b3JcblxuZnVuY3Rpb24gSWRJdGVyYXRvcihvcHRzKXtcbiAgb3B0cyA9IG9wdHMgfHwge31cbiAgdmFyIG1heCA9IG9wdHMubWF4IHx8IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXG4gIHZhciBpZENvdW50ZXIgPSB0eXBlb2Ygb3B0cy5zdGFydCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLnN0YXJ0IDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4KVxuXG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVSYW5kb21JZCAoKSB7XG4gICAgaWRDb3VudGVyID0gaWRDb3VudGVyICUgbWF4XG4gICAgcmV0dXJuIGlkQ291bnRlcisrXG4gIH1cblxufSIsImNvbnN0IHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cy8nKVxuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTYWZlRXZlbnRFbWl0dGVyXG5cblxuZnVuY3Rpb24gU2FmZUV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcylcbn1cblxudXRpbC5pbmhlcml0cyhTYWZlRXZlbnRFbWl0dGVyLCBFdmVudEVtaXR0ZXIpXG5cblNhZmVFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAvLyBjb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vR296YWxhL2V2ZW50cy9ibG9iL21hc3Rlci9ldmVudHMuanNcbiAgLy8gbW9kaWZpZWQgbGluZXMgYXJlIGNvbW1lbnRlZCB3aXRoIFwiZWRpdGVkOlwiXG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBlZGl0ZWQ6IHVzaW5nIHNhZmVBcHBseVxuICAgIHNhZmVBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgLy8gZWRpdGVkOiB1c2luZyBzYWZlQXBwbHlcbiAgICAgIHNhZmVBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHNhZmVBcHBseShoYW5kbGVyLCBjb250ZXh0LCBhcmdzKSB7XG4gIHRyeSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIGNvbnRleHQsIGFyZ3MpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIHRocm93IGVycm9yIGFmdGVyIHRpbWVvdXQgc28gYXMgbm90IHRvIGludGVydXB0IHRoZSBzdGFja1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhyb3cgZXJyXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgbikge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9