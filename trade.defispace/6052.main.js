(self.webpackChunkmy_swap=self.webpackChunkmy_swap||[]).push([[6052],{36225:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTransaction=void 0;var c=o(r(2832)),h=r(22751),u=r(63458),f=function(){function e(e){this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=c.Chain.Mainnet,this.DEFAULT_HARDFORK=c.Hardfork.Istanbul;var t=e.nonce,r=e.gasLimit,i=e.to,n=e.value,o=e.data,a=e.v,s=e.r,u=e.s,f=e.type;this._type=new h.BN((0,h.toBuffer)(f)).toNumber();var d=(0,h.toBuffer)(""===i?"0x":i),l=(0,h.toBuffer)(""===a?"0x":a),p=(0,h.toBuffer)(""===s?"0x":s),v=(0,h.toBuffer)(""===u?"0x":u);this.nonce=new h.BN((0,h.toBuffer)(""===t?"0x":t)),this.gasLimit=new h.BN((0,h.toBuffer)(""===r?"0x":r)),this.to=d.length>0?new h.Address(d):void 0,this.value=new h.BN((0,h.toBuffer)(""===n?"0x":n)),this.data=(0,h.toBuffer)(""===o?"0x":o),this.v=l.length>0?new h.BN(l):void 0,this.r=p.length>0?new h.BN(p):void 0,this.s=v.length>0?new h.BN(v):void 0,this._validateCannotExceedMaxInteger({nonce:this.nonce,gasLimit:this.gasLimit,value:this.value,r:this.r,s:this.s})}return Object.defineProperty(e.prototype,"transactionType",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),e.prototype.supports=function(e){return this.activeCapabilities.includes(e)},e.prototype.validate=function(e){void 0===e&&(e=!1);var t=[];return this.getBaseFee().gt(this.gasLimit)&&t.push("gasLimit is too low. given "+this.gasLimit+", need at least "+this.getBaseFee()),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:0===t.length},e.prototype.getBaseFee=function(){var e=this.getDataFee().addn(this.common.param("gasPrices","tx"));return this.common.gteHardfork("homestead")&&this.toCreationAddress()&&e.iaddn(this.common.param("gasPrices","txCreation")),e},e.prototype.getDataFee=function(){for(var e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero"),r=0,i=0;i<this.data.length;i++)0===this.data[i]?r+=e:r+=t;return new h.BN(r)},e.prototype.toCreationAddress=function(){return void 0===this.to||0===this.to.buf.length},e.prototype.isSigned=function(){var e=this,t=e.v,r=e.r,i=e.s;return 0===this.type?!!(t&&r&&i):!(void 0===t||!r||!i)},e.prototype.verifySignature=function(){try{var e=this.getSenderPublicKey();return 0!==(0,h.unpadBuffer)(e).length}catch(e){return!1}},e.prototype.getSenderAddress=function(){return new h.Address((0,h.publicToAddress)(this.getSenderPublicKey()))},e.prototype.sign=function(e){if(32!==e.length){var t=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(t)}var r=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(u.Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(u.Capability.EIP155ReplayProtection),r=!0);var i=this.getMessageToSign(!0),n=(0,h.ecsign)(i,e),o=n.v,a=n.r,s=n.s,c=this._processSignature(o,a,s);if(r){var f=this.activeCapabilities.indexOf(u.Capability.EIP155ReplayProtection);f>-1&&this.activeCapabilities.splice(f,1)}return c},e.prototype._getCommon=function(e,t){var r;if(t){var i=new h.BN((0,h.toBuffer)(t));if(e){if(!e.chainIdBN().eq(i)){var n=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(n)}return e.copy()}return c.default.isSupportedChainId(i)?new c.default({chain:i,hardfork:this.DEFAULT_HARDFORK}):c.default.forCustomChain(this.DEFAULT_CHAIN,{name:"custom-chain",networkId:i,chainId:i},this.DEFAULT_HARDFORK)}return null!==(r=null==e?void 0:e.copy())&&void 0!==r?r:new c.default({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})},e.prototype._validateCannotExceedMaxInteger=function(e,t){var r,i;void 0===t&&(t=53);try{for(var n=a(Object.entries(e)),o=n.next();!o.done;o=n.next()){var c=s(o.value,2),u=c[0],f=c[1];if(53===t){if(null==f?void 0:f.gt(h.MAX_INTEGER)){var d=this._errorMsg(u+" cannot exceed MAX_INTEGER, given "+f);throw new Error(d)}}else{if(256!==t)throw d=this._errorMsg("unimplemented bits value"),new Error(d);if(null==f?void 0:f.gte(h.TWO_POW256)){d=this._errorMsg(u+" must be less than 2^256, given "+f);throw new Error(d)}}}}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}},e.prototype._getSharedErrorPostfix=function(){var e="";try{e=this.isSigned()?(0,h.bufferToHex)(this.hash()):"not available (unsigned)"}catch(t){e="error"}var t="";try{t=this.isSigned().toString()}catch(t){e="error"}var r="";try{r=this.common.hardfork()}catch(e){r="error"}return"tx type="+this.type+" hash="+e+" nonce="+this.nonce+" value="+this.value+" "+"signed="+t+" hf="+r},e}();t.BaseTransaction=f},47669:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=r(22751),c=r(36225),h=r(63458),u=r(82942),f=Buffer.from(2..toString(16).padStart(2,"0"),"hex"),d=function(e){function t(t,r){var i,n;void 0===r&&(r={});var a=e.call(this,o(o({},t),{type:2}))||this;a.DEFAULT_HARDFORK="london";var c=t.chainId,f=t.accessList,d=t.maxFeePerGas,l=t.maxPriorityFeePerGas;if(a.common=a._getCommon(r.common,c),a.chainId=a.common.chainIdBN(),!a.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");a.activeCapabilities=a.activeCapabilities.concat([1559,2718,2930]);var p=u.AccessLists.getAccessListData(null!=f?f:[]);if(a.accessList=p.accessList,a.AccessListJSON=p.AccessListJSON,u.AccessLists.verifyAccessList(a.accessList),a.maxFeePerGas=new s.BN((0,s.toBuffer)(""===d?"0x":d)),a.maxPriorityFeePerGas=new s.BN((0,s.toBuffer)(""===l?"0x":l)),a._validateCannotExceedMaxInteger({maxFeePerGas:a.maxFeePerGas,maxPriorityFeePerGas:a.maxPriorityFeePerGas},256),a.maxFeePerGas.lt(a.maxPriorityFeePerGas)){var v=a._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(v)}if(a.v&&!a.v.eqn(0)&&!a.v.eqn(1))throw v=a._errorMsg("The y-parity of the transaction should either be 0 or 1"),new Error(v);if(a.common.gteHardfork("homestead")&&(null===(i=a.s)||void 0===i?void 0:i.gt(h.N_DIV_2)))throw v=a._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid"),new Error(v);return(null===(n=null==r?void 0:r.freeze)||void 0===n||n)&&Object.freeze(a),a}return n(t,e),Object.defineProperty(t.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),t.fromTxData=function(e,r){return void 0===r&&(r={}),new t(e,r)},t.fromSerializedTx=function(e,r){if(void 0===r&&(r={}),!e.slice(0,1).equals(f))throw new Error("Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: 2, received: "+e.slice(0,1).toString("hex"));var i=s.rlp.decode(e.slice(1));if(!Array.isArray(i))throw new Error("Invalid serialized tx input: must be array");return t.fromValuesArray(i,r)},t.fromRlpSerializedTx=function(e,r){return void 0===r&&(r={}),t.fromSerializedTx(e,r)},t.fromValuesArray=function(e,r){if(void 0===r&&(r={}),9!==e.length&&12!==e.length)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");var i=a(e,12),n=i[0],o=i[1],c=i[2],h=i[3],u=i[4],f=i[5],d=i[6],l=i[7],p=i[8],v=i[9],g=i[10],y=i[11];return new t({chainId:new s.BN(n),nonce:o,maxPriorityFeePerGas:c,maxFeePerGas:h,gasLimit:u,to:f,value:d,data:l,accessList:null!=p?p:[],v:void 0!==v?new s.BN(v):void 0,r:g,s:y},r)},t.prototype.getDataFee=function(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;var t=e.prototype.getDataFee.call(this);return t.iaddn(u.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:t,hardfork:this.common.hardfork()}),t},t.prototype.getUpfrontCost=function(e){void 0===e&&(e=new s.BN(0));var t=s.BN.min(this.maxPriorityFeePerGas,this.maxFeePerGas.sub(e)).add(e);return this.gasLimit.mul(t).add(this.value)},t.prototype.raw=function(){return[(0,s.bnToUnpaddedBuffer)(this.chainId),(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,s.bnToUnpaddedBuffer)(this.maxFeePerGas),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:Buffer.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,void 0!==this.v?(0,s.bnToUnpaddedBuffer)(this.v):Buffer.from([]),void 0!==this.r?(0,s.bnToUnpaddedBuffer)(this.r):Buffer.from([]),void 0!==this.s?(0,s.bnToUnpaddedBuffer)(this.s):Buffer.from([])]},t.prototype.serialize=function(){var e=this.raw();return Buffer.concat([f,s.rlp.encode(e)])},t.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var t=this.raw().slice(0,9),r=Buffer.concat([f,s.rlp.encode(t)]);return e?(0,s.keccak256)(r):r},t.prototype.hash=function(){if(!this.isSigned()){var e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,s.keccak256)(this.serialize())),this.cache.hash):(0,s.keccak256)(this.serialize())},t.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},t.prototype.getSenderPublicKey=function(){var e;if(!this.isSigned()){var t=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(t)}var r=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(h.N_DIV_2)))throw t=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid"),new Error(t);var i=this,n=i.v,o=i.r,a=i.s;try{return(0,s.ecrecover)(r,n.addn(27),(0,s.bnToUnpaddedBuffer)(o),(0,s.bnToUnpaddedBuffer)(a))}catch(e){throw t=this._errorMsg("Invalid Signature"),new Error(t)}},t.prototype._processSignature=function(e,r,i){var n={common:this.common};return t.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new s.BN(e-27),r:new s.BN(r),s:new s.BN(i)},n)},t.prototype.toJSON=function(){var e=u.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,s.bnToHex)(this.chainId),nonce:(0,s.bnToHex)(this.nonce),maxPriorityFeePerGas:(0,s.bnToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,s.bnToHex)(this.maxFeePerGas),gasLimit:(0,s.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,s.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:void 0!==this.v?(0,s.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,s.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,s.bnToHex)(this.s):void 0}},t.prototype.errorStr=function(){return this._getSharedErrorPostfix()+" maxFeePerGas="+this.maxFeePerGas+" maxPriorityFeePerGas="+this.maxPriorityFeePerGas},t.prototype._errorMsg=function(e){return e+" ("+this.errorStr()+")"},t}(c.BaseTransaction);t.default=d},29325:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=r(22751),c=r(36225),h=r(63458),u=r(82942),f=Buffer.from(1..toString(16).padStart(2,"0"),"hex"),d=function(e){function t(t,r){var i,n;void 0===r&&(r={});var a=e.call(this,o(o({},t),{type:1}))||this;a.DEFAULT_HARDFORK="berlin";var c=t.chainId,f=t.accessList,d=t.gasPrice;if(a.common=a._getCommon(r.common,c),a.chainId=a.common.chainIdBN(),!a.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");a.activeCapabilities=a.activeCapabilities.concat([2718,2930]);var l=u.AccessLists.getAccessListData(null!=f?f:[]);if(a.accessList=l.accessList,a.AccessListJSON=l.AccessListJSON,u.AccessLists.verifyAccessList(a.accessList),a.gasPrice=new s.BN((0,s.toBuffer)(""===d?"0x":d)),a._validateCannotExceedMaxInteger({gasPrice:a.gasPrice}),a.v&&!a.v.eqn(0)&&!a.v.eqn(1)){var p=a._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(p)}if(a.common.gteHardfork("homestead")&&(null===(i=a.s)||void 0===i?void 0:i.gt(h.N_DIV_2)))throw p=a._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid"),new Error(p);return(null===(n=null==r?void 0:r.freeze)||void 0===n||n)&&Object.freeze(a),a}return n(t,e),Object.defineProperty(t.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),t.fromTxData=function(e,r){return void 0===r&&(r={}),new t(e,r)},t.fromSerializedTx=function(e,r){if(void 0===r&&(r={}),!e.slice(0,1).equals(f))throw new Error("Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: 1, received: "+e.slice(0,1).toString("hex"));var i=s.rlp.decode(e.slice(1));if(!Array.isArray(i))throw new Error("Invalid serialized tx input: must be array");return t.fromValuesArray(i,r)},t.fromRlpSerializedTx=function(e,r){return void 0===r&&(r={}),t.fromSerializedTx(e,r)},t.fromValuesArray=function(e,r){if(void 0===r&&(r={}),8!==e.length&&11!==e.length)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");var i=a(e,11),n=i[0],o=i[1],c=i[2],h=i[3],u=i[4],f=i[5],d=i[6],l=i[7],p=i[8],v=i[9],g=i[10];return new t({chainId:new s.BN(n),nonce:o,gasPrice:c,gasLimit:h,to:u,value:f,data:d,accessList:null!=l?l:[],v:void 0!==p?new s.BN(p):void 0,r:v,s:g},r)},t.prototype.getDataFee=function(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;var t=e.prototype.getDataFee.call(this);return t.iaddn(u.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:t,hardfork:this.common.hardfork()}),t},t.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},t.prototype.raw=function(){return[(0,s.bnToUnpaddedBuffer)(this.chainId),(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.gasPrice),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:Buffer.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,void 0!==this.v?(0,s.bnToUnpaddedBuffer)(this.v):Buffer.from([]),void 0!==this.r?(0,s.bnToUnpaddedBuffer)(this.r):Buffer.from([]),void 0!==this.s?(0,s.bnToUnpaddedBuffer)(this.s):Buffer.from([])]},t.prototype.serialize=function(){var e=this.raw();return Buffer.concat([f,s.rlp.encode(e)])},t.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var t=this.raw().slice(0,8),r=Buffer.concat([f,s.rlp.encode(t)]);return e?(0,s.keccak256)(r):r},t.prototype.hash=function(){if(!this.isSigned()){var e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,s.keccak256)(this.serialize())),this.cache.hash):(0,s.keccak256)(this.serialize())},t.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},t.prototype.getSenderPublicKey=function(){var e;if(!this.isSigned()){var t=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(t)}var r=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(h.N_DIV_2)))throw t=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid"),new Error(t);var i=this,n=i.yParity,o=i.r,a=i.s;try{return(0,s.ecrecover)(r,n.addn(27),(0,s.bnToUnpaddedBuffer)(o),(0,s.bnToUnpaddedBuffer)(a))}catch(e){throw t=this._errorMsg("Invalid Signature"),new Error(t)}},t.prototype._processSignature=function(e,r,i){var n={common:this.common};return t.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new s.BN(e-27),r:new s.BN(r),s:new s.BN(i)},n)},t.prototype.toJSON=function(){var e=u.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,s.bnToHex)(this.chainId),nonce:(0,s.bnToHex)(this.nonce),gasPrice:(0,s.bnToHex)(this.gasPrice),gasLimit:(0,s.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,s.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:void 0!==this.v?(0,s.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,s.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,s.bnToHex)(this.s):void 0}},t.prototype.errorStr=function(){var e,t;return this._getSharedErrorPostfix()+" gasPrice="+this.gasPrice+" accessListCount="+(null!==(t=null===(e=this.accessList)||void 0===e?void 0:e.length)&&void 0!==t?t:0)},t.prototype._errorMsg=function(e){return e+" ("+this.errorStr()+")"},t}(c.BaseTransaction);t.default=d},66052:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeeMarketEIP1559Transaction=t.TransactionFactory=t.AccessListEIP2930Transaction=t.Transaction=void 0;var a=r(35534);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return o(a).default}});var s=r(29325);Object.defineProperty(t,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return o(s).default}});var c=r(31932);Object.defineProperty(t,"TransactionFactory",{enumerable:!0,get:function(){return o(c).default}});var h=r(47669);Object.defineProperty(t,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return o(h).default}}),n(r(63458),t)},35534:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=r(22751),c=r(63458),h=function(e){function t(t,r){var i;void 0===r&&(r={});var n=e.call(this,o(o({},t),{type:0}))||this;if(n.common=n._validateTxV(n.v,r.common),n.gasPrice=new s.BN((0,s.toBuffer)(""===t.gasPrice?"0x":t.gasPrice)),n._validateCannotExceedMaxInteger({gasPrice:n.gasPrice}),n.common.gteHardfork("spuriousDragon"))if(n.isSigned()){var a=n.v,h=n.common.chainIdBN().muln(2);(a.eq(h.addn(35))||a.eq(h.addn(36)))&&n.activeCapabilities.push(c.Capability.EIP155ReplayProtection)}else n.activeCapabilities.push(c.Capability.EIP155ReplayProtection);return(null===(i=null==r?void 0:r.freeze)||void 0===i||i)&&Object.freeze(n),n}return n(t,e),t.fromTxData=function(e,r){return void 0===r&&(r={}),new t(e,r)},t.fromSerializedTx=function(e,t){void 0===t&&(t={});var r=s.rlp.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,t)},t.fromRlpSerializedTx=function(e,r){return void 0===r&&(r={}),t.fromSerializedTx(e,r)},t.fromValuesArray=function(e,r){if(void 0===r&&(r={}),6!==e.length&&9!==e.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");var i=a(e,9);return new t({nonce:i[0],gasPrice:i[1],gasLimit:i[2],to:i[3],value:i[4],data:i[5],v:i[6],r:i[7],s:i[8]},r)},t.prototype.raw=function(){return[(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.gasPrice),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:Buffer.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data,void 0!==this.v?(0,s.bnToUnpaddedBuffer)(this.v):Buffer.from([]),void 0!==this.r?(0,s.bnToUnpaddedBuffer)(this.r):Buffer.from([]),void 0!==this.s?(0,s.bnToUnpaddedBuffer)(this.s):Buffer.from([])]},t.prototype.serialize=function(){return s.rlp.encode(this.raw())},t.prototype._getMessageToSign=function(){var e=[(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.gasPrice),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:Buffer.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data];return this.supports(c.Capability.EIP155ReplayProtection)&&(e.push((0,s.toBuffer)(this.common.chainIdBN())),e.push((0,s.unpadBuffer)((0,s.toBuffer)(0))),e.push((0,s.unpadBuffer)((0,s.toBuffer)(0)))),e},t.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var t=this._getMessageToSign();return e?(0,s.rlphash)(t):t},t.prototype.getDataFee=function(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:e.prototype.getDataFee.call(this),hardfork:this.common.hardfork()}),e.prototype.getDataFee.call(this))},t.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},t.prototype.hash=function(){return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,s.rlphash)(this.raw())),this.cache.hash):(0,s.rlphash)(this.raw())},t.prototype.getMessageToVerifySignature=function(){if(!this.isSigned()){var e=this._errorMsg("This transaction is not signed");throw new Error(e)}var t=this._getMessageToSign();return(0,s.rlphash)(t)},t.prototype.getSenderPublicKey=function(){var e,t=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(c.N_DIV_2))){var r=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(r)}var i=this,n=i.v,o=i.r,a=i.s;try{return(0,s.ecrecover)(t,n,(0,s.bnToUnpaddedBuffer)(o),(0,s.bnToUnpaddedBuffer)(a),this.supports(c.Capability.EIP155ReplayProtection)?this.common.chainIdBN():void 0)}catch(e){throw r=this._errorMsg("Invalid Signature"),new Error(r)}},t.prototype._processSignature=function(e,r,i){var n=new s.BN(e);this.supports(c.Capability.EIP155ReplayProtection)&&n.iadd(this.common.chainIdBN().muln(2).addn(8));var o={common:this.common};return t.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:n,r:new s.BN(r),s:new s.BN(i)},o)},t.prototype.toJSON=function(){return{nonce:(0,s.bnToHex)(this.nonce),gasPrice:(0,s.bnToHex)(this.gasPrice),gasLimit:(0,s.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,s.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),v:void 0!==this.v?(0,s.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,s.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,s.bnToHex)(this.s):void 0}},t.prototype._validateTxV=function(e,t){var r;if(void 0!==e&&!e.eqn(0)&&(!t||t.gteHardfork("spuriousDragon"))&&!e.eqn(27)&&!e.eqn(28))if(t){var i=t.chainIdBN().muln(2);if(!e.eq(i.addn(35))&&!e.eq(i.addn(36)))throw new Error("Incompatible EIP155-based V "+e+" and chain id "+t.chainIdBN()+". See the Common parameter of the Transaction constructor to set the chain id.")}else{var n;n=e.subn(35).isEven()?35:36,r=e.subn(n).divn(2)}return this._getCommon(t,r)},t.prototype._unsignedTxImplementsEIP155=function(){return this.common.gteHardfork("spuriousDragon")},t.prototype._signedTxImplementsEIP155=function(){if(!this.isSigned()){var e=this._errorMsg("This transaction is not signed");throw new Error(e)}var t=this.common.gteHardfork("spuriousDragon"),r=this.v,i=this.common.chainIdBN().muln(2);return(r.eq(i.addn(35))||r.eq(i.addn(36)))&&t},t.prototype.errorStr=function(){return this._getSharedErrorPostfix()+" gasPrice="+this.gasPrice},t.prototype._errorMsg=function(e){return e+" ("+this.errorStr()+")"},t}(r(36225).BaseTransaction);t.default=h},31932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(22751),n=r(66052),o=function(){function e(){}return e.fromTxData=function(e,t){if(void 0===t&&(t={}),"type"in e&&void 0!==e.type){var r=new i.BN((0,i.toBuffer)(e.type)).toNumber();if(0===r)return n.Transaction.fromTxData(e,t);if(1===r)return n.AccessListEIP2930Transaction.fromTxData(e,t);if(2===r)return n.FeeMarketEIP1559Transaction.fromTxData(e,t);throw new Error("Tx instantiation with type "+r+" not supported")}return n.Transaction.fromTxData(e,t)},e.fromSerializedData=function(e,t){if(void 0===t&&(t={}),e[0]<=127){var r=void 0;switch(e[0]){case 1:r=2930;break;case 2:r=1559;break;default:throw new Error("TypedTransaction with ID "+e[0]+" unknown")}return 1559===r?n.FeeMarketEIP1559Transaction.fromSerializedTx(e,t):n.AccessListEIP2930Transaction.fromSerializedTx(e,t)}return n.Transaction.fromSerializedTx(e,t)},e.fromBlockBodyData=function(e,t){if(void 0===t&&(t={}),Buffer.isBuffer(e))return this.fromSerializedData(e,t);if(Array.isArray(e))return n.Transaction.fromValuesArray(e,t);throw new Error("Cannot decode transaction: unknown type input")},e.getTransactionClass=function(e,t){if(void 0===e&&(e=0),0==e||e>=128&&e<=255)return n.Transaction;switch(e){case 1:return n.AccessListEIP2930Transaction;case 2:return n.FeeMarketEIP1559Transaction;default:throw new Error("TypedTransaction with ID "+e+" unknown")}},e}();t.default=o},63458:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.N_DIV_2=t.isAccessList=t.isAccessListBuffer=t.Capability=void 0;var i,n=r(22751);function o(e){if(0===e.length)return!0;var t=e[0];return!!Array.isArray(t)}(i=t.Capability||(t.Capability={}))[i.EIP155ReplayProtection=155]="EIP155ReplayProtection",i[i.EIP1559FeeMarket=1559]="EIP1559FeeMarket",i[i.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",i[i.EIP2930AccessLists=2930]="EIP2930AccessLists",t.isAccessListBuffer=o,t.isAccessList=function(e){return!o(e)},t.N_DIV_2=new n.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16)},82942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessLists=void 0;var i=r(22751),n=r(63458),o=function(){function e(){}return e.getAccessListData=function(e){var t,r;if(e&&(0,n.isAccessList)(e)){t=e;for(var o=[],a=0;a<e.length;a++){for(var s=e[a],c=(0,i.toBuffer)(s.address),h=[],u=0;u<s.storageKeys.length;u++)h.push((0,i.toBuffer)(s.storageKeys[u]));o.push([c,h])}r=o}else{r=null!=e?e:[];var f=[];for(a=0;a<r.length;a++){var d=r[a],l=(0,i.bufferToHex)(d[0]),p=[];for(s=0;s<d[1].length;s++)p.push((0,i.bufferToHex)(d[1][s]));var v={address:l,storageKeys:p};f.push(v)}t=f}return{AccessListJSON:t,accessList:r}},e.verifyAccessList=function(e){for(var t=0;t<e.length;t++){var r=e[t],i=r[0],n=r[1];if(void 0!==r[2])throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!=i.length)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(var o=0;o<n.length;o++)if(32!=n[o].length)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},e.getAccessListJSON=function(e){for(var t=[],r=0;r<e.length;r++){for(var n=e[r],o={address:"0x"+(0,i.setLengthLeft)(n[0],20).toString("hex"),storageKeys:[]},a=n[1],s=0;s<a.length;s++){var c=a[s];o.storageKeys.push("0x"+(0,i.setLengthLeft)(c,32).toString("hex"))}t.push(o)}return t},e.getDataFeeEIP2930=function(e,t){for(var r=t.param("gasPrices","accessListStorageKeyCost"),i=t.param("gasPrices","accessListAddressCost"),n=0,o=0;o<e.length;o++)n+=e[o][1].length;return e.length*i+n*r},e}();t.AccessLists=o}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QuYnJvd3Nlci9iYXNlVHJhbnNhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0LmJyb3dzZXIvZWlwMTU1OVRyYW5zYWN0aW9uLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdHgvZGlzdC5icm93c2VyL2VpcDI5MzBUcmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QuYnJvd3Nlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QuYnJvd3Nlci9sZWdhY3lUcmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QuYnJvd3Nlci90cmFuc2FjdGlvbkZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0LmJyb3dzZXIvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0LmJyb3dzZXIvdXRpbC5qcyJdLCJuYW1lcyI6WyJfX2NyZWF0ZUJpbmRpbmciLCJ0aGlzIiwiT2JqZWN0IiwiY3JlYXRlIiwibyIsIm0iLCJrIiwiazIiLCJ1bmRlZmluZWQiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJfX3NldE1vZHVsZURlZmF1bHQiLCJ2IiwidmFsdWUiLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJfX2VzTW9kdWxlIiwicmVzdWx0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX192YWx1ZXMiLCJzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJpIiwibGVuZ3RoIiwibmV4dCIsImRvbmUiLCJUeXBlRXJyb3IiLCJfX3JlYWQiLCJuIiwiciIsImUiLCJhciIsInB1c2giLCJlcnJvciIsImV4cG9ydHMiLCJCYXNlVHJhbnNhY3Rpb24iLCJjb21tb25fMSIsImV0aGVyZXVtanNfdXRpbF8xIiwidHlwZXNfMSIsInR4RGF0YSIsImNhY2hlIiwiaGFzaCIsImRhdGFGZWUiLCJhY3RpdmVDYXBhYmlsaXRpZXMiLCJERUZBVUxUX0NIQUlOIiwiQ2hhaW4iLCJNYWlubmV0IiwiREVGQVVMVF9IQVJERk9SSyIsIkhhcmRmb3JrIiwiSXN0YW5idWwiLCJub25jZSIsImdhc0xpbWl0IiwidG8iLCJkYXRhIiwidHlwZSIsIl90eXBlIiwiQk4iLCJ0b0J1ZmZlciIsInRvTnVtYmVyIiwidG9CIiwidkIiLCJyQiIsInNCIiwiQWRkcmVzcyIsIl92YWxpZGF0ZUNhbm5vdEV4Y2VlZE1heEludGVnZXIiLCJjb25maWd1cmFibGUiLCJzdXBwb3J0cyIsImNhcGFiaWxpdHkiLCJpbmNsdWRlcyIsInZhbGlkYXRlIiwic3RyaW5nRXJyb3IiLCJlcnJvcnMiLCJnZXRCYXNlRmVlIiwiZ3QiLCJpc1NpZ25lZCIsInZlcmlmeVNpZ25hdHVyZSIsImZlZSIsImdldERhdGFGZWUiLCJhZGRuIiwiY29tbW9uIiwicGFyYW0iLCJndGVIYXJkZm9yayIsInRvQ3JlYXRpb25BZGRyZXNzIiwiaWFkZG4iLCJ0eERhdGFaZXJvIiwidHhEYXRhTm9uWmVybyIsImNvc3QiLCJidWYiLCJfYSIsInB1YmxpY0tleSIsImdldFNlbmRlclB1YmxpY0tleSIsInVucGFkQnVmZmVyIiwiZ2V0U2VuZGVyQWRkcmVzcyIsInB1YmxpY1RvQWRkcmVzcyIsInNpZ24iLCJwcml2YXRlS2V5IiwibXNnIiwiX2Vycm9yTXNnIiwiRXJyb3IiLCJoYWNrQXBwbGllZCIsIkNhcGFiaWxpdHkiLCJFSVAxNTVSZXBsYXlQcm90ZWN0aW9uIiwibXNnSGFzaCIsImdldE1lc3NhZ2VUb1NpZ24iLCJlY3NpZ24iLCJ0eCIsIl9wcm9jZXNzU2lnbmF0dXJlIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiX2dldENvbW1vbiIsImNoYWluSWQiLCJjaGFpbklkQk4iLCJlcSIsImNvcHkiLCJkZWZhdWx0IiwiaXNTdXBwb3J0ZWRDaGFpbklkIiwiY2hhaW4iLCJoYXJkZm9yayIsImZvckN1c3RvbUNoYWluIiwibmFtZSIsIm5ldHdvcmtJZCIsInZhbHVlcyIsImJpdHMiLCJlXzEiLCJfYiIsImVudHJpZXMiLCJfYyIsIl9kIiwia2V5IiwiTUFYX0lOVEVHRVIiLCJndGUiLCJUV09fUE9XMjU2IiwiZV8xXzEiLCJyZXR1cm4iLCJfZ2V0U2hhcmVkRXJyb3JQb3N0Zml4IiwiYnVmZmVyVG9IZXgiLCJ0b1N0cmluZyIsImhmIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsImQiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJTdHJpbmciLCJfXyIsImNvbnN0cnVjdG9yIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJ0IiwiYXJndW1lbnRzIiwiYXBwbHkiLCJiYXNlVHJhbnNhY3Rpb25fMSIsInV0aWxfMSIsIlRSQU5TQUNUSU9OX1RZUEVfQlVGRkVSIiwiQnVmZmVyIiwiZnJvbSIsInBhZFN0YXJ0IiwiRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uIiwiX3N1cGVyIiwib3B0cyIsIl90aGlzIiwiYWNjZXNzTGlzdCIsIm1heEZlZVBlckdhcyIsIm1heFByaW9yaXR5RmVlUGVyR2FzIiwiaXNBY3RpdmF0ZWRFSVAiLCJjb25jYXQiLCJhY2Nlc3NMaXN0RGF0YSIsIkFjY2Vzc0xpc3RzIiwiZ2V0QWNjZXNzTGlzdERhdGEiLCJBY2Nlc3NMaXN0SlNPTiIsInZlcmlmeUFjY2Vzc0xpc3QiLCJsdCIsImVxbiIsIk5fRElWXzIiLCJmcmVlemUiLCJmcm9tVHhEYXRhIiwiZnJvbVNlcmlhbGl6ZWRUeCIsInNlcmlhbGl6ZWQiLCJzbGljZSIsImVxdWFscyIsInJscCIsImRlY29kZSIsImlzQXJyYXkiLCJmcm9tVmFsdWVzQXJyYXkiLCJmcm9tUmxwU2VyaWFsaXplZFR4IiwiZ2V0RGF0YUZlZUVJUDI5MzAiLCJpc0Zyb3plbiIsImdldFVwZnJvbnRDb3N0IiwiYmFzZUZlZSIsImdhc1ByaWNlIiwibWluIiwic3ViIiwiYWRkIiwibXVsIiwicmF3IiwiYm5Ub1VucGFkZGVkQnVmZmVyIiwic2VyaWFsaXplIiwiYmFzZSIsImVuY29kZSIsImhhc2hNZXNzYWdlIiwibWVzc2FnZSIsImtlY2NhazI1NiIsImdldE1lc3NhZ2VUb1ZlcmlmeVNpZ25hdHVyZSIsImVjcmVjb3ZlciIsInRvSlNPTiIsImFjY2Vzc0xpc3RKU09OIiwiZ2V0QWNjZXNzTGlzdEpTT04iLCJiblRvSGV4IiwiZXJyb3JTdHIiLCJBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uIiwieVBhcml0eSIsIl9fZXhwb3J0U3RhciIsIl9faW1wb3J0RGVmYXVsdCIsIlRyYW5zYWN0aW9uRmFjdG9yeSIsIlRyYW5zYWN0aW9uIiwibGVnYWN5VHJhbnNhY3Rpb25fMSIsImVpcDI5MzBUcmFuc2FjdGlvbl8xIiwidHJhbnNhY3Rpb25GYWN0b3J5XzEiLCJlaXAxNTU5VHJhbnNhY3Rpb25fMSIsIl92YWxpZGF0ZVR4ViIsImNoYWluSWREb3VibGVkIiwibXVsbiIsIl9nZXRNZXNzYWdlVG9TaWduIiwicmxwaGFzaCIsInZCTiIsImlhZGQiLCJudW1TdWIiLCJzdWJuIiwiaXNFdmVuIiwiZGl2biIsIl91bnNpZ25lZFR4SW1wbGVtZW50c0VJUDE1NSIsIl9zaWduZWRUeEltcGxlbWVudHNFSVAxNTUiLCJvbkVJUDE1NUJsb2NrT3JMYXRlciIsIl8xIiwidHhPcHRpb25zIiwidHhUeXBlIiwiZnJvbVNlcmlhbGl6ZWREYXRhIiwiRUlQIiwiZnJvbUJsb2NrQm9keURhdGEiLCJpc0J1ZmZlciIsImdldFRyYW5zYWN0aW9uQ2xhc3MiLCJ0cmFuc2FjdGlvbklEIiwiX2NvbW1vbiIsImlzQWNjZXNzTGlzdCIsImlzQWNjZXNzTGlzdEJ1ZmZlciIsImlucHV0IiwiZmlyc3RJdGVtIiwiYnVmZmVyQWNjZXNzTGlzdCIsIm5ld0FjY2Vzc0xpc3QiLCJpdGVtIiwiYWRkcmVzc0J1ZmZlciIsImFkZHJlc3MiLCJzdG9yYWdlSXRlbXMiLCJzdG9yYWdlS2V5cyIsImpzb24iLCJqc29uSXRlbSIsImFjY2Vzc0xpc3RJdGVtIiwic3RvcmFnZVNsb3RzIiwic3RvcmFnZVNsb3QiLCJKU09OSXRlbSIsInNldExlbmd0aExlZnQiLCJzbG90IiwiYWNjZXNzTGlzdFN0b3JhZ2VLZXlDb3N0IiwiYWNjZXNzTGlzdEFkZHJlc3NDb3N0Iiwic2xvdHMiXSwibWFwcGluZ3MiOiJ5R0FDQSxJQUFJQSxFQUFtQkMsTUFBUUEsS0FBS0Qsa0JBQXFCRSxPQUFPQyxPQUFTLFNBQVVDLEVBQUdDLEVBQUdDLEVBQUdDLFFBQzdFQyxJQUFQRCxJQUFrQkEsRUFBS0QsR0FDM0JKLE9BQU9PLGVBQWVMLEVBQUdHLEVBQUksQ0FBRUcsWUFBWSxFQUFNQyxJQUFLLFdBQWEsT0FBT04sRUFBRUMsT0FDM0UsU0FBVUYsRUFBR0MsRUFBR0MsRUFBR0MsUUFDVEMsSUFBUEQsSUFBa0JBLEVBQUtELEdBQzNCRixFQUFFRyxHQUFNRixFQUFFQyxLQUVWTSxFQUFzQlgsTUFBUUEsS0FBS1cscUJBQXdCVixPQUFPQyxPQUFTLFNBQVVDLEVBQUdTLEdBQ3hGWCxPQUFPTyxlQUFlTCxFQUFHLFVBQVcsQ0FBRU0sWUFBWSxFQUFNSSxNQUFPRCxLQUM5RCxTQUFTVCxFQUFHUyxHQUNiVCxFQUFXLFFBQUlTLElBRWZFLEVBQWdCZCxNQUFRQSxLQUFLYyxjQUFpQixTQUFVQyxHQUN4RCxHQUFJQSxHQUFPQSxFQUFJQyxXQUFZLE9BQU9ELEVBQ2xDLElBQUlFLEVBQVMsR0FDYixHQUFXLE1BQVBGLEVBQWEsSUFBSyxJQUFJVixLQUFLVSxFQUFlLFlBQU5WLEdBQW1CSixPQUFPaUIsVUFBVUMsZUFBZUMsS0FBS0wsRUFBS1YsSUFBSU4sRUFBZ0JrQixF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X19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQmFzZVRyYW5zYWN0aW9uID0gdm9pZCAwO1xudmFyIGNvbW1vbl8xID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJAZXRoZXJldW1qcy9jb21tb25cIikpO1xudmFyIGV0aGVyZXVtanNfdXRpbF8xID0gcmVxdWlyZShcImV0aGVyZXVtanMtdXRpbFwiKTtcbnZhciB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG4vKipcbiAqIFRoaXMgYmFzZSBjbGFzcyB3aWxsIGxpa2VseSBiZSBzdWJqZWN0IHRvIGZ1cnRoZXJcbiAqIHJlZmFjdG9yaW5nIGFsb25nIHRoZSBpbnRyb2R1Y3Rpb24gb2YgYWRkaXRpb25hbCB0eCB0eXBlc1xuICogb24gdGhlIEV0aGVyZXVtIG5ldHdvcmsuXG4gKlxuICogSXQgaXMgdGhlcmVmb3JlIG5vdCByZWNvbW1lbmRlZCB0byB1c2UgZGlyZWN0bHkuXG4gKi9cbnZhciBCYXNlVHJhbnNhY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmFzZVRyYW5zYWN0aW9uKHR4RGF0YSkge1xuICAgICAgICB0aGlzLmNhY2hlID0ge1xuICAgICAgICAgICAgaGFzaDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YUZlZTogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiB0eCB0eXBlIGRlZmluaW5nIEVJUHMsXG4gICAgICAgICAqIGUuZy4gMTU1OSAoZmVlIG1hcmtldCkgYW5kIDI5MzAgKGFjY2VzcyBsaXN0cylcbiAgICAgICAgICogZm9yIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbiBvYmplY3RzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZUNhcGFiaWxpdGllcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgY2hhaW4gdGhlIHR4IGZhbGxzIGJhY2sgdG8gaWYgbm8gQ29tbW9uXG4gICAgICAgICAqIGlzIHByb3ZpZGVkIGFuZCBpZiB0aGUgY2hhaW4gY2FuJ3QgYmUgZGVyaXZlZCBmcm9tXG4gICAgICAgICAqIGEgcGFzc2VkIGluIGNoYWluSWQgKG9ubHkgRUlQLTI3MTggdHlwZWQgdHhzKSBvclxuICAgICAgICAgKiBFSVAtMTU1IHNpZ25hdHVyZSAobGVnYWN5IHR4cykuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBoaWRkZW5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuREVGQVVMVF9DSEFJTiA9IGNvbW1vbl8xLkNoYWluLk1haW5uZXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBIRiBpZiB0aGUgdHggdHlwZSBpcyBhY3RpdmUgb24gdGhhdCBIRlxuICAgICAgICAgKiBvciB0aGUgZmlyc3QgZ3JlYXRlciBIRiB3aGVyZSB0aGUgdHggaXMgYWN0aXZlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaGlkZGVuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkRFRkFVTFRfSEFSREZPUksgPSBjb21tb25fMS5IYXJkZm9yay5Jc3RhbmJ1bDtcbiAgICAgICAgdmFyIG5vbmNlID0gdHhEYXRhLm5vbmNlLCBnYXNMaW1pdCA9IHR4RGF0YS5nYXNMaW1pdCwgdG8gPSB0eERhdGEudG8sIHZhbHVlID0gdHhEYXRhLnZhbHVlLCBkYXRhID0gdHhEYXRhLmRhdGEsIHYgPSB0eERhdGEudiwgciA9IHR4RGF0YS5yLCBzID0gdHhEYXRhLnMsIHR5cGUgPSB0eERhdGEudHlwZTtcbiAgICAgICAgdGhpcy5fdHlwZSA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTigoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKHR5cGUpKS50b051bWJlcigpO1xuICAgICAgICB2YXIgdG9CID0gKDAsIGV0aGVyZXVtanNfdXRpbF8xLnRvQnVmZmVyKSh0byA9PT0gJycgPyAnMHgnIDogdG8pO1xuICAgICAgICB2YXIgdkIgPSAoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKHYgPT09ICcnID8gJzB4JyA6IHYpO1xuICAgICAgICB2YXIgckIgPSAoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKHIgPT09ICcnID8gJzB4JyA6IHIpO1xuICAgICAgICB2YXIgc0IgPSAoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKHMgPT09ICcnID8gJzB4JyA6IHMpO1xuICAgICAgICB0aGlzLm5vbmNlID0gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKCgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikobm9uY2UgPT09ICcnID8gJzB4JyA6IG5vbmNlKSk7XG4gICAgICAgIHRoaXMuZ2FzTGltaXQgPSBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oKDAsIGV0aGVyZXVtanNfdXRpbF8xLnRvQnVmZmVyKShnYXNMaW1pdCA9PT0gJycgPyAnMHgnIDogZ2FzTGltaXQpKTtcbiAgICAgICAgdGhpcy50byA9IHRvQi5sZW5ndGggPiAwID8gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkFkZHJlc3ModG9CKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTigoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKHZhbHVlID09PSAnJyA/ICcweCcgOiB2YWx1ZSkpO1xuICAgICAgICB0aGlzLmRhdGEgPSAoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKGRhdGEgPT09ICcnID8gJzB4JyA6IGRhdGEpO1xuICAgICAgICB0aGlzLnYgPSB2Qi5sZW5ndGggPiAwID8gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKHZCKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yID0gckIubGVuZ3RoID4gMCA/IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTihyQikgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucyA9IHNCLmxlbmd0aCA+IDAgPyBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oc0IpIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl92YWxpZGF0ZUNhbm5vdEV4Y2VlZE1heEludGVnZXIoe1xuICAgICAgICAgICAgbm9uY2U6IHRoaXMubm9uY2UsXG4gICAgICAgICAgICBnYXNMaW1pdDogdGhpcy5nYXNMaW1pdCxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgcjogdGhpcy5yLFxuICAgICAgICAgICAgczogdGhpcy5zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwidHJhbnNhY3Rpb25UeXBlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsaWFzIGZvciB7QGxpbmsgQmFzZVRyYW5zYWN0aW9uLnR5cGV9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFVzZSBgdHlwZWAgaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwidHlwZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB0cmFuc2FjdGlvbiB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBsZWdhY3kgdHhzIHdpbGwgcmV0dXJuIHR4IHR5cGUgYDBgLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHR4IHR5cGUgZGVmaW5pbmcgY2FwYWJpbGl0eSBpcyBhY3RpdmVcbiAgICAgKiBvbiBhIHR4LCBmb3IgZXhhbXBsZSB0aGUgRUlQLTE1NTkgZmVlIG1hcmtldCBtZWNoYW5pc21cbiAgICAgKiBvciB0aGUgRUlQLTI5MzAgYWNjZXNzIGxpc3QgZmVhdHVyZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIGlzIGRpZmZlcmVudCBmcm9tIHRoZSB0eCB0eXBlIGl0c2VsZixcbiAgICAgKiBzbyBFSVAtMjkzMCBhY2Nlc3MgbGlzdHMgY2FuIHZlcnkgd2VsbCBiZSBhY3RpdmVcbiAgICAgKiBvbiBhbiBFSVAtMTU1OSB0eCBmb3IgZXhhbXBsZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VmdWwgZm9yIGZlYXR1cmUgY2hlY2tzIGlmIHRoZVxuICAgICAqIHR4IHR5cGUgaXMgdW5rbm93biAoZS5nLiB3aGVuIGluc3RhbnRpYXRlZCB3aXRoXG4gICAgICogdGhlIHR4IGZhY3RvcnkpLlxuICAgICAqXG4gICAgICogU2VlIGBDYXBhYmlsaXRlc2AgaW4gdGhlIGB0eXBlc2AgbW9kdWxlIGZvciBhIHJlZmVyZW5jZVxuICAgICAqIG9uIGFsbCBzdXBwb3J0ZWQgY2FwYWJpbGl0aWVzLlxuICAgICAqL1xuICAgIEJhc2VUcmFuc2FjdGlvbi5wcm90b3R5cGUuc3VwcG9ydHMgPSBmdW5jdGlvbiAoY2FwYWJpbGl0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMuaW5jbHVkZXMoY2FwYWJpbGl0eSk7XG4gICAgfTtcbiAgICBCYXNlVHJhbnNhY3Rpb24ucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKHN0cmluZ0Vycm9yKSB7XG4gICAgICAgIGlmIChzdHJpbmdFcnJvciA9PT0gdm9pZCAwKSB7IHN0cmluZ0Vycm9yID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGVycm9ycyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5nZXRCYXNlRmVlKCkuZ3QodGhpcy5nYXNMaW1pdCkpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKFwiZ2FzTGltaXQgaXMgdG9vIGxvdy4gZ2l2ZW4gXCIgKyB0aGlzLmdhc0xpbWl0ICsgXCIsIG5lZWQgYXQgbGVhc3QgXCIgKyB0aGlzLmdldEJhc2VGZWUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNTaWduZWQoKSAmJiAhdGhpcy52ZXJpZnlTaWduYXR1cmUoKSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goJ0ludmFsaWQgU2lnbmF0dXJlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ0Vycm9yID8gZXJyb3JzIDogZXJyb3JzLmxlbmd0aCA9PT0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBtaW5pbXVtIGFtb3VudCBvZiBnYXMgdGhlIHR4IG11c3QgaGF2ZSAoRGF0YUZlZSArIFR4RmVlICsgQ3JlYXRpb24gRmVlKVxuICAgICAqL1xuICAgIEJhc2VUcmFuc2FjdGlvbi5wcm90b3R5cGUuZ2V0QmFzZUZlZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZlZSA9IHRoaXMuZ2V0RGF0YUZlZSgpLmFkZG4odGhpcy5jb21tb24ucGFyYW0oJ2dhc1ByaWNlcycsICd0eCcpKTtcbiAgICAgICAgaWYgKHRoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdob21lc3RlYWQnKSAmJiB0aGlzLnRvQ3JlYXRpb25BZGRyZXNzKCkpIHtcbiAgICAgICAgICAgIGZlZS5pYWRkbih0aGlzLmNvbW1vbi5wYXJhbSgnZ2FzUHJpY2VzJywgJ3R4Q3JlYXRpb24nKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZlZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgZ2FzIHBhaWQgZm9yIHRoZSBkYXRhIGluIHRoaXMgdHhcbiAgICAgKi9cbiAgICBCYXNlVHJhbnNhY3Rpb24ucHJvdG90eXBlLmdldERhdGFGZWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0eERhdGFaZXJvID0gdGhpcy5jb21tb24ucGFyYW0oJ2dhc1ByaWNlcycsICd0eERhdGFaZXJvJyk7XG4gICAgICAgIHZhciB0eERhdGFOb25aZXJvID0gdGhpcy5jb21tb24ucGFyYW0oJ2dhc1ByaWNlcycsICd0eERhdGFOb25aZXJvJyk7XG4gICAgICAgIHZhciBjb3N0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtpXSA9PT0gMCA/IChjb3N0ICs9IHR4RGF0YVplcm8pIDogKGNvc3QgKz0gdHhEYXRhTm9uWmVybyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTihjb3N0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIHRoZSB0eCdzIGB0b2AgaXMgdG8gdGhlIGNyZWF0aW9uIGFkZHJlc3NcbiAgICAgKi9cbiAgICBCYXNlVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRvQ3JlYXRpb25BZGRyZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50byA9PT0gdW5kZWZpbmVkIHx8IHRoaXMudG8uYnVmLmxlbmd0aCA9PT0gMDtcbiAgICB9O1xuICAgIEJhc2VUcmFuc2FjdGlvbi5wcm90b3R5cGUuaXNTaWduZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHYgPSBfYS52LCByID0gX2EuciwgcyA9IF9hLnM7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IDApIHtcbiAgICAgICAgICAgIGlmICghdiB8fCAhciB8fCAhcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCAhciB8fCAhcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBzaWduYXR1cmUgaXMgdmFsaWRcbiAgICAgKi9cbiAgICBCYXNlVHJhbnNhY3Rpb24ucHJvdG90eXBlLnZlcmlmeVNpZ25hdHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIE1haW4gc2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBpcyBkb25lIGluIGBnZXRTZW5kZXJQdWJsaWNLZXkoKWBcbiAgICAgICAgICAgIHZhciBwdWJsaWNLZXkgPSB0aGlzLmdldFNlbmRlclB1YmxpY0tleSgpO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBldGhlcmV1bWpzX3V0aWxfMS51bnBhZEJ1ZmZlcikocHVibGljS2V5KS5sZW5ndGggIT09IDA7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2VuZGVyJ3MgYWRkcmVzc1xuICAgICAqL1xuICAgIEJhc2VUcmFuc2FjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVyQWRkcmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBldGhlcmV1bWpzX3V0aWxfMS5BZGRyZXNzKCgwLCBldGhlcmV1bWpzX3V0aWxfMS5wdWJsaWNUb0FkZHJlc3MpKHRoaXMuZ2V0U2VuZGVyUHVibGljS2V5KCkpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNpZ25zIGEgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlIHNpZ25lZCB0eCBpcyByZXR1cm5lZCBhcyBhIG5ldyBvYmplY3QsXG4gICAgICogdXNlIGFzIGZvbGxvd3M6XG4gICAgICogYGBgamF2YXNjcmlwdFxuICAgICAqIGNvbnN0IHNpZ25lZFR4ID0gdHguc2lnbihwcml2YXRlS2V5KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEJhc2VUcmFuc2FjdGlvbi5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uIChwcml2YXRlS2V5KSB7XG4gICAgICAgIGlmIChwcml2YXRlS2V5Lmxlbmd0aCAhPT0gMzIpIHtcbiAgICAgICAgICAgIHZhciBtc2cgPSB0aGlzLl9lcnJvck1zZygnUHJpdmF0ZSBrZXkgbXVzdCBiZSAzMiBieXRlcyBpbiBsZW5ndGguJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYWNrIGZvciB0aGUgY29uc3RlbGxhdGlvbiB0aGF0IHdlIGhhdmUgZ290IGEgbGVnYWN5IHR4IGFmdGVyIHNwdXJpb3VzRHJhZ29uIHdpdGggYSBub24tRUlQMTU1IGNvbmZvcm1pbmcgc2lnbmF0dXJlXG4gICAgICAgIC8vIGFuZCB3YW50IHRvIHJlY3JlYXRlIGEgc2lnbmF0dXJlICh3aGVyZSBFSVAxNTUgc2hvdWxkIGJlIGFwcGxpZWQpXG4gICAgICAgIC8vIExlYXZpbmcgdGhpcyBoYWNrIGxldHMgdGhlIGxlZ2FjeS5zcGVjLnRzIC0+IHNpZ24oKSwgdmVyaWZ5U2lnbmF0dXJlKCkgdGVzdCBmYWlsXG4gICAgICAgIC8vIDIwMjEtMDYtMjNcbiAgICAgICAgdmFyIGhhY2tBcHBsaWVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IDAgJiZcbiAgICAgICAgICAgIHRoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdzcHVyaW91c0RyYWdvbicpICYmXG4gICAgICAgICAgICAhdGhpcy5zdXBwb3J0cyh0eXBlc18xLkNhcGFiaWxpdHkuRUlQMTU1UmVwbGF5UHJvdGVjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQ2FwYWJpbGl0aWVzLnB1c2godHlwZXNfMS5DYXBhYmlsaXR5LkVJUDE1NVJlcGxheVByb3RlY3Rpb24pO1xuICAgICAgICAgICAgaGFja0FwcGxpZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtc2dIYXNoID0gdGhpcy5nZXRNZXNzYWdlVG9TaWduKHRydWUpO1xuICAgICAgICB2YXIgX2EgPSAoMCwgZXRoZXJldW1qc191dGlsXzEuZWNzaWduKShtc2dIYXNoLCBwcml2YXRlS2V5KSwgdiA9IF9hLnYsIHIgPSBfYS5yLCBzID0gX2EucztcbiAgICAgICAgdmFyIHR4ID0gdGhpcy5fcHJvY2Vzc1NpZ25hdHVyZSh2LCByLCBzKTtcbiAgICAgICAgLy8gSGFjayBwYXJ0IDJcbiAgICAgICAgaWYgKGhhY2tBcHBsaWVkKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmFjdGl2ZUNhcGFiaWxpdGllcy5pbmRleE9mKHR5cGVzXzEuQ2FwYWJpbGl0eS5FSVAxNTVSZXBsYXlQcm90ZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEb2VzIGNoYWluIElEIGNoZWNrcyBvbiBjb21tb24gYW5kIHJldHVybnMgYSBjb21tb25cbiAgICAgKiB0byBiZSB1c2VkIG9uIGluc3RhbnRpYXRpb25cbiAgICAgKiBAaGlkZGVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29tbW9uIC0ge0BsaW5rIENvbW1vbn0gaW5zdGFuY2UgZnJvbSB0eCBvcHRpb25zXG4gICAgICogQHBhcmFtIGNoYWluSWQgLSBDaGFpbiBJRCBmcm9tIHR4IG9wdGlvbnMgKHR5cGVkIHR4cykgb3Igc2lnbmF0dXJlIChsZWdhY3kgdHgpXG4gICAgICovXG4gICAgQmFzZVRyYW5zYWN0aW9uLnByb3RvdHlwZS5fZ2V0Q29tbW9uID0gZnVuY3Rpb24gKGNvbW1vbiwgY2hhaW5JZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIENoYWluIElEIHByb3ZpZGVkXG4gICAgICAgIGlmIChjaGFpbklkKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5JZEJOID0gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKCgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikoY2hhaW5JZCkpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbikge1xuICAgICAgICAgICAgICAgIGlmICghY29tbW9uLmNoYWluSWRCTigpLmVxKGNoYWluSWRCTikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdUaGUgY2hhaW4gSUQgZG9lcyBub3QgbWF0Y2ggdGhlIGNoYWluIElEIG9mIENvbW1vbicpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ29tbW9uIHByb3ZpZGVkLCBjaGFpbiBJRCBkb2VzIG1hdGNoXG4gICAgICAgICAgICAgICAgLy8gLT4gUmV0dXJuIHByb3ZpZGVkIENvbW1vblxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb24uY29weSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1vbl8xLmRlZmF1bHQuaXNTdXBwb3J0ZWRDaGFpbklkKGNoYWluSWRCTikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gQ29tbW9uLCBjaGFpbiBJRCBzdXBwb3J0ZWQgYnkgQ29tbW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIC0+IEluc3RhbnRpYXRlIENvbW1vbiB3aXRoIGNoYWluIElEXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgY29tbW9uXzEuZGVmYXVsdCh7IGNoYWluOiBjaGFpbklkQk4sIGhhcmRmb3JrOiB0aGlzLkRFRkFVTFRfSEFSREZPUksgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyBDb21tb24sIGNoYWluIElEIG5vdCBzdXBwb3J0ZWQgYnkgQ29tbW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIC0+IEluc3RhbnRpYXRlIGN1c3RvbSBDb21tb24gZGVyaXZlZCBmcm9tIERFRkFVTFRfQ0hBSU5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmRlZmF1bHQuZm9yQ3VzdG9tQ2hhaW4odGhpcy5ERUZBVUxUX0NIQUlOLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY3VzdG9tLWNoYWluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcmtJZDogY2hhaW5JZEJOLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogY2hhaW5JZEJOLFxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLkRFRkFVTFRfSEFSREZPUkspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vIGNoYWluIElEIHByb3ZpZGVkXG4gICAgICAgICAgICAvLyAtPiByZXR1cm4gQ29tbW9uIHByb3ZpZGVkIG9yIGNyZWF0ZSBuZXcgZGVmYXVsdCBDb21tb25cbiAgICAgICAgICAgIHJldHVybiAoKF9hID0gY29tbW9uID09PSBudWxsIHx8IGNvbW1vbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tbW9uLmNvcHkoKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmV3IGNvbW1vbl8xLmRlZmF1bHQoeyBjaGFpbjogdGhpcy5ERUZBVUxUX0NIQUlOLCBoYXJkZm9yazogdGhpcy5ERUZBVUxUX0hBUkRGT1JLIH0pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFzZVRyYW5zYWN0aW9uLnByb3RvdHlwZS5fdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyID0gZnVuY3Rpb24gKHZhbHVlcywgYml0cykge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgaWYgKGJpdHMgPT09IHZvaWQgMCkgeyBiaXRzID0gNTM7IH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoT2JqZWN0LmVudHJpZXModmFsdWVzKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2QgPSBfX3JlYWQoX2MudmFsdWUsIDIpLCBrZXkgPSBfZFswXSwgdmFsdWUgPSBfZFsxXTtcbiAgICAgICAgICAgICAgICBpZiAoYml0cyA9PT0gNTMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS5ndChldGhlcmV1bWpzX3V0aWxfMS5NQVhfSU5URUdFUikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtc2cgPSB0aGlzLl9lcnJvck1zZyhrZXkgKyBcIiBjYW5ub3QgZXhjZWVkIE1BWF9JTlRFR0VSLCBnaXZlbiBcIiArIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHMgPT09IDI1Nikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbHVlLmd0ZShldGhlcmV1bWpzX3V0aWxfMS5UV09fUE9XMjU2KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1zZyA9IHRoaXMuX2Vycm9yTXNnKGtleSArIFwiIG11c3QgYmUgbGVzcyB0aGFuIDJeMjU2LCBnaXZlbiBcIiArIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbXNnID0gdGhpcy5fZXJyb3JNc2coJ3VuaW1wbGVtZW50ZWQgYml0cyB2YWx1ZScpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2hhcmVkIGVycm9yIHBvc3RmaXggcGFydCBmb3IgX2Vycm9yKCkgbWV0aG9kXG4gICAgICogdHggdHlwZSBpbXBsZW1lbnRhdGlvbnMuXG4gICAgICovXG4gICAgQmFzZVRyYW5zYWN0aW9uLnByb3RvdHlwZS5fZ2V0U2hhcmVkRXJyb3JQb3N0Zml4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGFzaCA9ICcnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaGFzaCA9IHRoaXMuaXNTaWduZWQoKSA/ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5idWZmZXJUb0hleCkodGhpcy5oYXNoKCkpIDogJ25vdCBhdmFpbGFibGUgKHVuc2lnbmVkKSc7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGhhc2ggPSAnZXJyb3InO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc1NpZ25lZCA9ICcnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaXNTaWduZWQgPSB0aGlzLmlzU2lnbmVkKCkudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaGFzaCA9ICdlcnJvcic7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhmID0gJyc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBoZiA9IHRoaXMuY29tbW9uLmhhcmRmb3JrKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGhmID0gJ2Vycm9yJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9zdGZpeCA9IFwidHggdHlwZT1cIiArIHRoaXMudHlwZSArIFwiIGhhc2g9XCIgKyBoYXNoICsgXCIgbm9uY2U9XCIgKyB0aGlzLm5vbmNlICsgXCIgdmFsdWU9XCIgKyB0aGlzLnZhbHVlICsgXCIgXCI7XG4gICAgICAgIHBvc3RmaXggKz0gXCJzaWduZWQ9XCIgKyBpc1NpZ25lZCArIFwiIGhmPVwiICsgaGY7XG4gICAgICAgIHJldHVybiBwb3N0Zml4O1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VUcmFuc2FjdGlvbjtcbn0oKSk7XG5leHBvcnRzLkJhc2VUcmFuc2FjdGlvbiA9IEJhc2VUcmFuc2FjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2VUcmFuc2FjdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGV0aGVyZXVtanNfdXRpbF8xID0gcmVxdWlyZShcImV0aGVyZXVtanMtdXRpbFwiKTtcbnZhciBiYXNlVHJhbnNhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2Jhc2VUcmFuc2FjdGlvblwiKTtcbnZhciB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG52YXIgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbnZhciBUUkFOU0FDVElPTl9UWVBFID0gMjtcbnZhciBUUkFOU0FDVElPTl9UWVBFX0JVRkZFUiA9IEJ1ZmZlci5mcm9tKFRSQU5TQUNUSU9OX1RZUEUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyksICdoZXgnKTtcbi8qKlxuICogVHlwZWQgdHJhbnNhY3Rpb24gd2l0aCBhIG5ldyBnYXMgZmVlIG1hcmtldCBtZWNoYW5pc21cbiAqXG4gKiAtIFRyYW5zYWN0aW9uVHlwZTogMlxuICogLSBFSVA6IFtFSVAtMTU1OV0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xNTU5KVxuICovXG52YXIgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogVGhpcyBjb25zdHJ1Y3RvciB0YWtlcyB0aGUgdmFsdWVzLCB2YWxpZGF0ZXMgdGhlbSwgYXNzaWducyB0aGVtIGFuZCBmcmVlemVzIHRoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJdCBpcyBub3QgcmVjb21tZW5kZWQgdG8gdXNlIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkuIEluc3RlYWQgdXNlXG4gICAgICogdGhlIHN0YXRpYyBmYWN0b3J5IG1ldGhvZHMgdG8gYXNzaXN0IGluIGNyZWF0aW5nIGEgVHJhbnNhY3Rpb24gb2JqZWN0IGZyb21cbiAgICAgKiB2YXJ5aW5nIGRhdGEgdHlwZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uKHR4RGF0YSwgb3B0cykge1xuICAgICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdHhEYXRhKSwgeyB0eXBlOiBUUkFOU0FDVElPTl9UWVBFIH0pKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgSEYgaWYgdGhlIHR4IHR5cGUgaXMgYWN0aXZlIG9uIHRoYXQgSEZcbiAgICAgICAgICogb3IgdGhlIGZpcnN0IGdyZWF0ZXIgSEYgd2hlcmUgdGhlIHR4IGlzIGFjdGl2ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGhpZGRlblxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuREVGQVVMVF9IQVJERk9SSyA9ICdsb25kb24nO1xuICAgICAgICB2YXIgY2hhaW5JZCA9IHR4RGF0YS5jaGFpbklkLCBhY2Nlc3NMaXN0ID0gdHhEYXRhLmFjY2Vzc0xpc3QsIG1heEZlZVBlckdhcyA9IHR4RGF0YS5tYXhGZWVQZXJHYXMsIG1heFByaW9yaXR5RmVlUGVyR2FzID0gdHhEYXRhLm1heFByaW9yaXR5RmVlUGVyR2FzO1xuICAgICAgICBfdGhpcy5jb21tb24gPSBfdGhpcy5fZ2V0Q29tbW9uKG9wdHMuY29tbW9uLCBjaGFpbklkKTtcbiAgICAgICAgX3RoaXMuY2hhaW5JZCA9IF90aGlzLmNvbW1vbi5jaGFpbklkQk4oKTtcbiAgICAgICAgaWYgKCFfdGhpcy5jb21tb24uaXNBY3RpdmF0ZWRFSVAoMTU1OSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRUlQLTE1NTkgbm90IGVuYWJsZWQgb24gQ29tbW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuYWN0aXZlQ2FwYWJpbGl0aWVzID0gX3RoaXMuYWN0aXZlQ2FwYWJpbGl0aWVzLmNvbmNhdChbMTU1OSwgMjcxOCwgMjkzMF0pO1xuICAgICAgICAvLyBQb3B1bGF0ZSB0aGUgYWNjZXNzIGxpc3QgZmllbGRzXG4gICAgICAgIHZhciBhY2Nlc3NMaXN0RGF0YSA9IHV0aWxfMS5BY2Nlc3NMaXN0cy5nZXRBY2Nlc3NMaXN0RGF0YShhY2Nlc3NMaXN0ICE9PSBudWxsICYmIGFjY2Vzc0xpc3QgIT09IHZvaWQgMCA/IGFjY2Vzc0xpc3QgOiBbXSk7XG4gICAgICAgIF90aGlzLmFjY2Vzc0xpc3QgPSBhY2Nlc3NMaXN0RGF0YS5hY2Nlc3NMaXN0O1xuICAgICAgICBfdGhpcy5BY2Nlc3NMaXN0SlNPTiA9IGFjY2Vzc0xpc3REYXRhLkFjY2Vzc0xpc3RKU09OO1xuICAgICAgICAvLyBWZXJpZnkgdGhlIGFjY2VzcyBsaXN0IGZvcm1hdC5cbiAgICAgICAgdXRpbF8xLkFjY2Vzc0xpc3RzLnZlcmlmeUFjY2Vzc0xpc3QoX3RoaXMuYWNjZXNzTGlzdCk7XG4gICAgICAgIF90aGlzLm1heEZlZVBlckdhcyA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTigoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKG1heEZlZVBlckdhcyA9PT0gJycgPyAnMHgnIDogbWF4RmVlUGVyR2FzKSk7XG4gICAgICAgIF90aGlzLm1heFByaW9yaXR5RmVlUGVyR2FzID0gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKCgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikobWF4UHJpb3JpdHlGZWVQZXJHYXMgPT09ICcnID8gJzB4JyA6IG1heFByaW9yaXR5RmVlUGVyR2FzKSk7XG4gICAgICAgIF90aGlzLl92YWxpZGF0ZUNhbm5vdEV4Y2VlZE1heEludGVnZXIoe1xuICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBfdGhpcy5tYXhGZWVQZXJHYXMsXG4gICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogX3RoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICAgIH0sIDI1Nik7XG4gICAgICAgIGlmIChfdGhpcy5tYXhGZWVQZXJHYXMubHQoX3RoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXMpKSB7XG4gICAgICAgICAgICB2YXIgbXNnID0gX3RoaXMuX2Vycm9yTXNnKCdtYXhGZWVQZXJHYXMgY2Fubm90IGJlIGxlc3MgdGhhbiBtYXhQcmlvcml0eUZlZVBlckdhcyAoVGhlIHRvdGFsIG11c3QgYmUgdGhlIGxhcmdlciBvZiB0aGUgdHdvKScpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90aGlzLnYgJiYgIV90aGlzLnYuZXFuKDApICYmICFfdGhpcy52LmVxbigxKSkge1xuICAgICAgICAgICAgdmFyIG1zZyA9IF90aGlzLl9lcnJvck1zZygnVGhlIHktcGFyaXR5IG9mIHRoZSB0cmFuc2FjdGlvbiBzaG91bGQgZWl0aGVyIGJlIDAgb3IgMScpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90aGlzLmNvbW1vbi5ndGVIYXJkZm9yaygnaG9tZXN0ZWFkJykgJiYgKChfYSA9IF90aGlzLnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ndCh0eXBlc18xLk5fRElWXzIpKSkge1xuICAgICAgICAgICAgdmFyIG1zZyA9IF90aGlzLl9lcnJvck1zZygnSW52YWxpZCBTaWduYXR1cmU6IHMtdmFsdWVzIGdyZWF0ZXIgdGhhbiBzZWNwMjU2azFuLzIgYXJlIGNvbnNpZGVyZWQgaW52YWxpZCcpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZyZWV6ZSA9IChfYiA9IG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5mcmVlemUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWU7XG4gICAgICAgIGlmIChmcmVlemUpIHtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUoX3RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwic2VuZGVyUlwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFSVAtMjkzMCBhbGlhcyBmb3IgYHJgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHVzZSBgcmAgaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwic2VuZGVyU1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFSVAtMjkzMCBhbGlhcyBmb3IgYHNgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHVzZSBgc2AgaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwieVBhcml0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFSVAtMjkzMCBhbGlhcyBmb3IgYHZgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHVzZSBgdmAgaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSW5zdGFudGlhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIGEgZGF0YSBkaWN0aW9uYXJ5LlxuICAgICAqXG4gICAgICogRm9ybWF0OiB7IGNoYWluSWQsIG5vbmNlLCBtYXhQcmlvcml0eUZlZVBlckdhcywgbWF4RmVlUGVyR2FzLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLFxuICAgICAqIGFjY2Vzc0xpc3QsIHYsIHIsIHMgfVxuICAgICAqXG4gICAgICogTm90ZXM6XG4gICAgICogLSBgY2hhaW5JZGAgd2lsbCBiZSBzZXQgYXV0b21hdGljYWxseSBpZiBub3QgcHJvdmlkZWRcbiAgICAgKiAtIEFsbCBwYXJhbWV0ZXJzIGFyZSBvcHRpb25hbCBhbmQgaGF2ZSBzb21lIGJhc2ljIGRlZmF1bHQgdmFsdWVzXG4gICAgICovXG4gICAgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLmZyb21UeERhdGEgPSBmdW5jdGlvbiAodHhEYXRhLCBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgIHJldHVybiBuZXcgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uKHR4RGF0YSwgb3B0cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZSBhIHRyYW5zYWN0aW9uIGZyb20gdGhlIHNlcmlhbGl6ZWQgdHguXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGAweDAyIHx8IHJscChbY2hhaW5JZCwgbm9uY2UsIG1heFByaW9yaXR5RmVlUGVyR2FzLCBtYXhGZWVQZXJHYXMsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsXG4gICAgICogYWNjZXNzTGlzdCwgc2lnbmF0dXJlWVBhcml0eSwgc2lnbmF0dXJlUiwgc2lnbmF0dXJlU10pYFxuICAgICAqL1xuICAgIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4ID0gZnVuY3Rpb24gKHNlcmlhbGl6ZWQsIG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICAgICAgaWYgKCFzZXJpYWxpemVkLnNsaWNlKDAsIDEpLmVxdWFscyhUUkFOU0FDVElPTl9UWVBFX0JVRkZFUikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2VyaWFsaXplZCB0eCBpbnB1dDogbm90IGFuIEVJUC0xNTU5IHRyYW5zYWN0aW9uICh3cm9uZyB0eCB0eXBlLCBleHBlY3RlZDogXCIgKyBUUkFOU0FDVElPTl9UWVBFICsgXCIsIHJlY2VpdmVkOiBcIiArIHNlcmlhbGl6ZWRcbiAgICAgICAgICAgICAgICAuc2xpY2UoMCwgMSlcbiAgICAgICAgICAgICAgICAudG9TdHJpbmcoJ2hleCcpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWVzID0gZXRoZXJldW1qc191dGlsXzEucmxwLmRlY29kZShzZXJpYWxpemVkLnNsaWNlKDEpKTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJpYWxpemVkIHR4IGlucHV0OiBtdXN0IGJlIGFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5mcm9tVmFsdWVzQXJyYXkodmFsdWVzLCBvcHRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgc2VyaWFsaXplZCB0eC5cbiAgICAgKiAoYWxpYXMgb2Yge0BsaW5rIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4fSlcbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgbWVhbnMgdGhhdCB0aGUgQnVmZmVyIHNob3VsZCBzdGFydCB3aXRoIDB4MDEuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCB0aGlzIGNvbnN0cnVjdG9yIGFsaWFzIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIGluIGZhdm9yIG9mIHRoZSB7QGxpbmsgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLmZyb21TZXJpYWxpemVkVHh9IGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLmZyb21SbHBTZXJpYWxpemVkVHggPSBmdW5jdGlvbiAoc2VyaWFsaXplZCwgb3B0cykge1xuICAgICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxuICAgICAgICByZXR1cm4gRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLmZyb21TZXJpYWxpemVkVHgoc2VyaWFsaXplZCwgb3B0cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIGEgdmFsdWVzIGFycmF5LlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgW2NoYWluSWQsIG5vbmNlLCBtYXhQcmlvcml0eUZlZVBlckdhcywgbWF4RmVlUGVyR2FzLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLFxuICAgICAqIGFjY2Vzc0xpc3QsIHNpZ25hdHVyZVlQYXJpdHksIHNpZ25hdHVyZVIsIHNpZ25hdHVyZVNdYFxuICAgICAqL1xuICAgIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5mcm9tVmFsdWVzQXJyYXkgPSBmdW5jdGlvbiAodmFsdWVzLCBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoICE9PSA5ICYmIHZhbHVlcy5sZW5ndGggIT09IDEyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgRUlQLTE1NTkgdHJhbnNhY3Rpb24uIE9ubHkgZXhwZWN0aW5nIDkgdmFsdWVzIChmb3IgdW5zaWduZWQgdHgpIG9yIDEyIHZhbHVlcyAoZm9yIHNpZ25lZCB0eCkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gX19yZWFkKHZhbHVlcywgMTIpLCBjaGFpbklkID0gX2FbMF0sIG5vbmNlID0gX2FbMV0sIG1heFByaW9yaXR5RmVlUGVyR2FzID0gX2FbMl0sIG1heEZlZVBlckdhcyA9IF9hWzNdLCBnYXNMaW1pdCA9IF9hWzRdLCB0byA9IF9hWzVdLCB2YWx1ZSA9IF9hWzZdLCBkYXRhID0gX2FbN10sIGFjY2Vzc0xpc3QgPSBfYVs4XSwgdiA9IF9hWzldLCByID0gX2FbMTBdLCBzID0gX2FbMTFdO1xuICAgICAgICByZXR1cm4gbmV3IEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICBjaGFpbklkOiBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oY2hhaW5JZCksXG4gICAgICAgICAgICBub25jZTogbm9uY2UsXG4gICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICAgICAgICBtYXhGZWVQZXJHYXM6IG1heEZlZVBlckdhcyxcbiAgICAgICAgICAgIGdhc0xpbWl0OiBnYXNMaW1pdCxcbiAgICAgICAgICAgIHRvOiB0byxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBhY2Nlc3NMaXN0OiBhY2Nlc3NMaXN0ICE9PSBudWxsICYmIGFjY2Vzc0xpc3QgIT09IHZvaWQgMCA/IGFjY2Vzc0xpc3QgOiBbXSxcbiAgICAgICAgICAgIHY6IHYgIT09IHVuZGVmaW5lZCA/IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTih2KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHI6IHIsXG4gICAgICAgICAgICBzOiBzLFxuICAgICAgICB9LCBvcHRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgZ2FzIHBhaWQgZm9yIHRoZSBkYXRhIGluIHRoaXMgdHhcbiAgICAgKi9cbiAgICBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24ucHJvdG90eXBlLmdldERhdGFGZWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlLmRhdGFGZWUgJiYgdGhpcy5jYWNoZS5kYXRhRmVlLmhhcmRmb3JrID09PSB0aGlzLmNvbW1vbi5oYXJkZm9yaygpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5kYXRhRmVlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb3N0ID0gX3N1cGVyLnByb3RvdHlwZS5nZXREYXRhRmVlLmNhbGwodGhpcyk7XG4gICAgICAgIGNvc3QuaWFkZG4odXRpbF8xLkFjY2Vzc0xpc3RzLmdldERhdGFGZWVFSVAyOTMwKHRoaXMuYWNjZXNzTGlzdCwgdGhpcy5jb21tb24pKTtcbiAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbih0aGlzKSkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZS5kYXRhRmVlID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBjb3N0LFxuICAgICAgICAgICAgICAgIGhhcmRmb3JrOiB0aGlzLmNvbW1vbi5oYXJkZm9yaygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29zdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSB1cCBmcm9udCBhbW91bnQgdGhhdCBhbiBhY2NvdW50IG11c3QgaGF2ZSBmb3IgdGhpcyB0cmFuc2FjdGlvbiB0byBiZSB2YWxpZFxuICAgICAqIEBwYXJhbSBiYXNlRmVlIFRoZSBiYXNlIGZlZSBvZiB0aGUgYmxvY2sgKHdpbGwgYmUgc2V0IHRvIDAgaWYgbm90IHByb3ZpZGVkKVxuICAgICAqL1xuICAgIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5wcm90b3R5cGUuZ2V0VXBmcm9udENvc3QgPSBmdW5jdGlvbiAoYmFzZUZlZSkge1xuICAgICAgICBpZiAoYmFzZUZlZSA9PT0gdm9pZCAwKSB7IGJhc2VGZWUgPSBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oMCk7IH1cbiAgICAgICAgdmFyIGluY2x1c2lvbkZlZVBlckdhcyA9IGV0aGVyZXVtanNfdXRpbF8xLkJOLm1pbih0aGlzLm1heFByaW9yaXR5RmVlUGVyR2FzLCB0aGlzLm1heEZlZVBlckdhcy5zdWIoYmFzZUZlZSkpO1xuICAgICAgICB2YXIgZ2FzUHJpY2UgPSBpbmNsdXNpb25GZWVQZXJHYXMuYWRkKGJhc2VGZWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5nYXNMaW1pdC5tdWwoZ2FzUHJpY2UpLmFkZCh0aGlzLnZhbHVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCdWZmZXIgQXJyYXkgb2YgdGhlIHJhdyBCdWZmZXJzIG9mIHRoZSBFSVAtMTU1OSB0cmFuc2FjdGlvbiwgaW4gb3JkZXIuXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGBbY2hhaW5JZCwgbm9uY2UsIG1heFByaW9yaXR5RmVlUGVyR2FzLCBtYXhGZWVQZXJHYXMsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsXG4gICAgICogYWNjZXNzTGlzdCwgc2lnbmF0dXJlWVBhcml0eSwgc2lnbmF0dXJlUiwgc2lnbmF0dXJlU11gXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5zZXJpYWxpemV9IHRvIGFkZCBhIHRyYW5zYWN0aW9uIHRvIGEgYmxvY2tcbiAgICAgKiB3aXRoIHtAbGluayBCbG9jay5mcm9tVmFsdWVzQXJyYXl9LlxuICAgICAqXG4gICAgICogRm9yIGFuIHVuc2lnbmVkIHR4IHRoaXMgbWV0aG9kIHVzZXMgdGhlIGVtcHR5IEJ1ZmZlciB2YWx1ZXMgZm9yIHRoZVxuICAgICAqIHNpZ25hdHVyZSBwYXJhbWV0ZXJzIGB2YCwgYHJgIGFuZCBgc2AgZm9yIGVuY29kaW5nLiBGb3IgYW4gRUlQLTE1NSBjb21wbGlhbnRcbiAgICAgKiByZXByZXNlbnRhdGlvbiBmb3IgZXh0ZXJuYWwgc2lnbmluZyB1c2Uge0BsaW5rIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5nZXRNZXNzYWdlVG9TaWdufS5cbiAgICAgKi9cbiAgICBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24ucHJvdG90eXBlLnJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMuY2hhaW5JZCksXG4gICAgICAgICAgICAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXMpLFxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5tYXhGZWVQZXJHYXMpLFxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0aGlzLnRvICE9PSB1bmRlZmluZWQgPyB0aGlzLnRvLmJ1ZiA6IEJ1ZmZlci5mcm9tKFtdKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMudmFsdWUpLFxuICAgICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICAgICAgdGhpcy5hY2Nlc3NMaXN0LFxuICAgICAgICAgICAgdGhpcy52ICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnYpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICAgICAgdGhpcy5yICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnIpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICAgICAgdGhpcy5zICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnMpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICBdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2VyaWFsaXplZCBlbmNvZGluZyBvZiB0aGUgRUlQLTE1NTkgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGAweDAyIHx8IHJscChbY2hhaW5JZCwgbm9uY2UsIG1heFByaW9yaXR5RmVlUGVyR2FzLCBtYXhGZWVQZXJHYXMsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsXG4gICAgICogYWNjZXNzTGlzdCwgc2lnbmF0dXJlWVBhcml0eSwgc2lnbmF0dXJlUiwgc2lnbmF0dXJlU10pYFxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGluIGNvbnRyYXN0IHRvIHRoZSBsZWdhY3kgdHggc2VyaWFsaXphdGlvbiBmb3JtYXQgdGhpcyBpcyBub3RcbiAgICAgKiB2YWxpZCBSTFAgYW55IG1vcmUgZHVlIHRvIHRoZSByYXcgdHggdHlwZSBwcmVjZWRpbmcgYW5kIGNvbmNhdGVuYXRlZCB0b1xuICAgICAqIHRoZSBSTFAgZW5jb2Rpbmcgb2YgdGhlIHZhbHVlcy5cbiAgICAgKi9cbiAgICBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24ucHJvdG90eXBlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLnJhdygpO1xuICAgICAgICByZXR1cm4gQnVmZmVyLmNvbmNhdChbVFJBTlNBQ1RJT05fVFlQRV9CVUZGRVIsIGV0aGVyZXVtanNfdXRpbF8xLnJscC5lbmNvZGUoYmFzZSldKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNlcmlhbGl6ZWQgdW5zaWduZWQgdHggKGhhc2hlZCBvciByYXcpLCB3aGljaCBjYW4gYmUgdXNlZFxuICAgICAqIHRvIHNpZ24gdGhlIHRyYW5zYWN0aW9uIChlLmcuIGZvciBzZW5kaW5nIHRvIGEgaGFyZHdhcmUgd2FsbGV0KS5cbiAgICAgKlxuICAgICAqIE5vdGU6IGluIGNvbnRyYXN0IHRvIHRoZSBsZWdhY3kgdHggdGhlIHJhdyBtZXNzYWdlIGZvcm1hdCBpcyBhbHJlYWR5XG4gICAgICogc2VyaWFsaXplZCBhbmQgZG9lc24ndCBuZWVkIHRvIGJlIFJMUCBlbmNvZGVkIGFueSBtb3JlLlxuICAgICAqXG4gICAgICogYGBgamF2YXNjcmlwdFxuICAgICAqIGNvbnN0IHNlcmlhbGl6ZWRNZXNzYWdlID0gdHguZ2V0TWVzc2FnZVRvU2lnbihmYWxzZSkgLy8gdXNlIHRoaXMgZm9yIHRoZSBIVyB3YWxsZXQgaW5wdXRcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBoYXNoTWVzc2FnZSAtIFJldHVybiBoYXNoZWQgbWVzc2FnZSBpZiBzZXQgdG8gdHJ1ZSAoZGVmYXVsdDogdHJ1ZSlcbiAgICAgKi9cbiAgICBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24ucHJvdG90eXBlLmdldE1lc3NhZ2VUb1NpZ24gPSBmdW5jdGlvbiAoaGFzaE1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGhhc2hNZXNzYWdlID09PSB2b2lkIDApIHsgaGFzaE1lc3NhZ2UgPSB0cnVlOyB9XG4gICAgICAgIHZhciBiYXNlID0gdGhpcy5yYXcoKS5zbGljZSgwLCA5KTtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBCdWZmZXIuY29uY2F0KFtUUkFOU0FDVElPTl9UWVBFX0JVRkZFUiwgZXRoZXJldW1qc191dGlsXzEucmxwLmVuY29kZShiYXNlKV0pO1xuICAgICAgICBpZiAoaGFzaE1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEua2VjY2FrMjU2KShtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIHNoYTMtMjU2IGhhc2ggb2YgdGhlIHNlcmlhbGl6ZWQgdHguXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGZvciBzaWduZWQgdHhzIChpdCB0aHJvd3Mgb3RoZXJ3aXNlKS5cbiAgICAgKiBVc2Uge0BsaW5rIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5nZXRNZXNzYWdlVG9TaWdufSB0byBnZXQgYSB0eCBoYXNoIGZvciB0aGUgcHVycG9zZSBvZiBzaWduaW5nLlxuICAgICAqL1xuICAgIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5wcm90b3R5cGUuaGFzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU2lnbmVkKCkpIHtcbiAgICAgICAgICAgIHZhciBtc2cgPSB0aGlzLl9lcnJvck1zZygnQ2Fubm90IGNhbGwgaGFzaCBtZXRob2QgaWYgdHJhbnNhY3Rpb24gaXMgbm90IHNpZ25lZCcpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbih0aGlzKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNhY2hlLmhhc2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlLmhhc2ggPSAoMCwgZXRoZXJldW1qc191dGlsXzEua2VjY2FrMjU2KSh0aGlzLnNlcmlhbGl6ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmhhc2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBldGhlcmV1bWpzX3V0aWxfMS5rZWNjYWsyNTYpKHRoaXMuc2VyaWFsaXplKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYSBzaGEzLTI1NiBoYXNoIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHZlcmlmeSB0aGUgc2lnbmF0dXJlXG4gICAgICovXG4gICAgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLnByb3RvdHlwZS5nZXRNZXNzYWdlVG9WZXJpZnlTaWduYXR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1lc3NhZ2VUb1NpZ24oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHB1YmxpYyBrZXkgb2YgdGhlIHNlbmRlclxuICAgICAqL1xuICAgIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVyUHVibGljS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5pc1NpZ25lZCgpKSB7XG4gICAgICAgICAgICB2YXIgbXNnID0gdGhpcy5fZXJyb3JNc2coJ0Nhbm5vdCBjYWxsIHRoaXMgbWV0aG9kIGlmIHRyYW5zYWN0aW9uIGlzIG5vdCBzaWduZWQnKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtc2dIYXNoID0gdGhpcy5nZXRNZXNzYWdlVG9WZXJpZnlTaWduYXR1cmUoKTtcbiAgICAgICAgLy8gRUlQLTI6IEFsbCB0cmFuc2FjdGlvbiBzaWduYXR1cmVzIHdob3NlIHMtdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHNlY3AyNTZrMW4vMiBhcmUgY29uc2lkZXJlZCBpbnZhbGlkLlxuICAgICAgICAvLyBSZWFzb25pbmc6IGh0dHBzOi8vZXRoZXJldW0uc3RhY2tleGNoYW5nZS5jb20vYS81NTcyOFxuICAgICAgICBpZiAodGhpcy5jb21tb24uZ3RlSGFyZGZvcmsoJ2hvbWVzdGVhZCcpICYmICgoX2EgPSB0aGlzLnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ndCh0eXBlc18xLk5fRElWXzIpKSkge1xuICAgICAgICAgICAgdmFyIG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdJbnZhbGlkIFNpZ25hdHVyZTogcy12YWx1ZXMgZ3JlYXRlciB0aGFuIHNlY3AyNTZrMW4vMiBhcmUgY29uc2lkZXJlZCBpbnZhbGlkJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2IgPSB0aGlzLCB2ID0gX2IudiwgciA9IF9iLnIsIHMgPSBfYi5zO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBldGhlcmV1bWpzX3V0aWxfMS5lY3JlY292ZXIpKG1zZ0hhc2gsIHYuYWRkbigyNyksIC8vIFJlY292ZXIgdGhlIDI3IHdoaWNoIHdhcyBzdHJpcHBlZCBmcm9tIGVjc2lnblxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikociksICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHMpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdmFyIG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdJbnZhbGlkIFNpZ25hdHVyZScpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5wcm90b3R5cGUuX3Byb2Nlc3NTaWduYXR1cmUgPSBmdW5jdGlvbiAodiwgciwgcykge1xuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIGNvbW1vbjogdGhpcy5jb21tb24sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24uZnJvbVR4RGF0YSh7XG4gICAgICAgICAgICBjaGFpbklkOiB0aGlzLmNoYWluSWQsXG4gICAgICAgICAgICBub25jZTogdGhpcy5ub25jZSxcbiAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiB0aGlzLm1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiB0aGlzLm1heEZlZVBlckdhcyxcbiAgICAgICAgICAgIGdhc0xpbWl0OiB0aGlzLmdhc0xpbWl0LFxuICAgICAgICAgICAgdG86IHRoaXMudG8sXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YSxcbiAgICAgICAgICAgIGFjY2Vzc0xpc3Q6IHRoaXMuYWNjZXNzTGlzdCxcbiAgICAgICAgICAgIHY6IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTih2IC0gMjcpLFxuICAgICAgICAgICAgcjogbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKHIpLFxuICAgICAgICAgICAgczogbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKHMpLFxuICAgICAgICB9LCBvcHRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAgICovXG4gICAgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhY2Nlc3NMaXN0SlNPTiA9IHV0aWxfMS5BY2Nlc3NMaXN0cy5nZXRBY2Nlc3NMaXN0SlNPTih0aGlzLmFjY2Vzc0xpc3QpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhaW5JZDogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMuY2hhaW5JZCksXG4gICAgICAgICAgICBub25jZTogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMubm9uY2UpLFxuICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLm1heFByaW9yaXR5RmVlUGVyR2FzKSxcbiAgICAgICAgICAgIG1heEZlZVBlckdhczogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMubWF4RmVlUGVyR2FzKSxcbiAgICAgICAgICAgIGdhc0xpbWl0OiAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0bzogdGhpcy50byAhPT0gdW5kZWZpbmVkID8gdGhpcy50by50b1N0cmluZygpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsdWU6ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLnZhbHVlKSxcbiAgICAgICAgICAgIGRhdGE6ICcweCcgKyB0aGlzLmRhdGEudG9TdHJpbmcoJ2hleCcpLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYWNjZXNzTGlzdEpTT04sXG4gICAgICAgICAgICB2OiB0aGlzLnYgIT09IHVuZGVmaW5lZCA/ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLnYpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcjogdGhpcy5yICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5yKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHM6IHRoaXMucyAhPT0gdW5kZWZpbmVkID8gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMucykgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBjb21wYWN0IGVycm9yIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLnByb3RvdHlwZS5lcnJvclN0ciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVycm9yU3RyID0gdGhpcy5fZ2V0U2hhcmVkRXJyb3JQb3N0Zml4KCk7XG4gICAgICAgIGVycm9yU3RyICs9IFwiIG1heEZlZVBlckdhcz1cIiArIHRoaXMubWF4RmVlUGVyR2FzICsgXCIgbWF4UHJpb3JpdHlGZWVQZXJHYXM9XCIgKyB0aGlzLm1heFByaW9yaXR5RmVlUGVyR2FzO1xuICAgICAgICByZXR1cm4gZXJyb3JTdHI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBoZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGFuIGFubm90YXRlZCBlcnJvciBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbXNnIEJhc2UgZXJyb3IgbWVzc2FnZVxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24ucHJvdG90eXBlLl9lcnJvck1zZyA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgcmV0dXJuIG1zZyArIFwiIChcIiArIHRoaXMuZXJyb3JTdHIoKSArIFwiKVwiO1xuICAgIH07XG4gICAgcmV0dXJuIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbjtcbn0oYmFzZVRyYW5zYWN0aW9uXzEuQmFzZVRyYW5zYWN0aW9uKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1laXAxNTU5VHJhbnNhY3Rpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldGhlcmV1bWpzX3V0aWxfMSA9IHJlcXVpcmUoXCJldGhlcmV1bWpzLXV0aWxcIik7XG52YXIgYmFzZVRyYW5zYWN0aW9uXzEgPSByZXF1aXJlKFwiLi9iYXNlVHJhbnNhY3Rpb25cIik7XG52YXIgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG52YXIgVFJBTlNBQ1RJT05fVFlQRSA9IDE7XG52YXIgVFJBTlNBQ1RJT05fVFlQRV9CVUZGRVIgPSBCdWZmZXIuZnJvbShUUkFOU0FDVElPTl9UWVBFLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpLCAnaGV4Jyk7XG4vKipcbiAqIFR5cGVkIHRyYW5zYWN0aW9uIHdpdGggb3B0aW9uYWwgYWNjZXNzIGxpc3RzXG4gKlxuICogLSBUcmFuc2FjdGlvblR5cGU6IDFcbiAqIC0gRUlQOiBbRUlQLTI5MzBdKGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMjkzMClcbiAqL1xudmFyIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogVGhpcyBjb25zdHJ1Y3RvciB0YWtlcyB0aGUgdmFsdWVzLCB2YWxpZGF0ZXMgdGhlbSwgYXNzaWducyB0aGVtIGFuZCBmcmVlemVzIHRoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJdCBpcyBub3QgcmVjb21tZW5kZWQgdG8gdXNlIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkuIEluc3RlYWQgdXNlXG4gICAgICogdGhlIHN0YXRpYyBmYWN0b3J5IG1ldGhvZHMgdG8gYXNzaXN0IGluIGNyZWF0aW5nIGEgVHJhbnNhY3Rpb24gb2JqZWN0IGZyb21cbiAgICAgKiB2YXJ5aW5nIGRhdGEgdHlwZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbih0eERhdGEsIG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgX19hc3NpZ24oX19hc3NpZ24oe30sIHR4RGF0YSksIHsgdHlwZTogVFJBTlNBQ1RJT05fVFlQRSB9KSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IEhGIGlmIHRoZSB0eCB0eXBlIGlzIGFjdGl2ZSBvbiB0aGF0IEhGXG4gICAgICAgICAqIG9yIHRoZSBmaXJzdCBncmVhdGVyIEhGIHdoZXJlIHRoZSB0eCBpcyBhY3RpdmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBoaWRkZW5cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLkRFRkFVTFRfSEFSREZPUksgPSAnYmVybGluJztcbiAgICAgICAgdmFyIGNoYWluSWQgPSB0eERhdGEuY2hhaW5JZCwgYWNjZXNzTGlzdCA9IHR4RGF0YS5hY2Nlc3NMaXN0LCBnYXNQcmljZSA9IHR4RGF0YS5nYXNQcmljZTtcbiAgICAgICAgX3RoaXMuY29tbW9uID0gX3RoaXMuX2dldENvbW1vbihvcHRzLmNvbW1vbiwgY2hhaW5JZCk7XG4gICAgICAgIF90aGlzLmNoYWluSWQgPSBfdGhpcy5jb21tb24uY2hhaW5JZEJOKCk7XG4gICAgICAgIC8vIEVJUC0yNzE4IGNoZWNrIGlzIGRvbmUgaW4gQ29tbW9uXG4gICAgICAgIGlmICghX3RoaXMuY29tbW9uLmlzQWN0aXZhdGVkRUlQKDI5MzApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VJUC0yOTMwIG5vdCBlbmFibGVkIG9uIENvbW1vbicpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmFjdGl2ZUNhcGFiaWxpdGllcyA9IF90aGlzLmFjdGl2ZUNhcGFiaWxpdGllcy5jb25jYXQoWzI3MTgsIDI5MzBdKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgdGhlIGFjY2VzcyBsaXN0IGZpZWxkc1xuICAgICAgICB2YXIgYWNjZXNzTGlzdERhdGEgPSB1dGlsXzEuQWNjZXNzTGlzdHMuZ2V0QWNjZXNzTGlzdERhdGEoYWNjZXNzTGlzdCAhPT0gbnVsbCAmJiBhY2Nlc3NMaXN0ICE9PSB2b2lkIDAgPyBhY2Nlc3NMaXN0IDogW10pO1xuICAgICAgICBfdGhpcy5hY2Nlc3NMaXN0ID0gYWNjZXNzTGlzdERhdGEuYWNjZXNzTGlzdDtcbiAgICAgICAgX3RoaXMuQWNjZXNzTGlzdEpTT04gPSBhY2Nlc3NMaXN0RGF0YS5BY2Nlc3NMaXN0SlNPTjtcbiAgICAgICAgLy8gVmVyaWZ5IHRoZSBhY2Nlc3MgbGlzdCBmb3JtYXQuXG4gICAgICAgIHV0aWxfMS5BY2Nlc3NMaXN0cy52ZXJpZnlBY2Nlc3NMaXN0KF90aGlzLmFjY2Vzc0xpc3QpO1xuICAgICAgICBfdGhpcy5nYXNQcmljZSA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTigoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKGdhc1ByaWNlID09PSAnJyA/ICcweCcgOiBnYXNQcmljZSkpO1xuICAgICAgICBfdGhpcy5fdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyKHsgZ2FzUHJpY2U6IF90aGlzLmdhc1ByaWNlIH0pO1xuICAgICAgICBpZiAoX3RoaXMudiAmJiAhX3RoaXMudi5lcW4oMCkgJiYgIV90aGlzLnYuZXFuKDEpKSB7XG4gICAgICAgICAgICB2YXIgbXNnID0gX3RoaXMuX2Vycm9yTXNnKCdUaGUgeS1wYXJpdHkgb2YgdGhlIHRyYW5zYWN0aW9uIHNob3VsZCBlaXRoZXIgYmUgMCBvciAxJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3RoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdob21lc3RlYWQnKSAmJiAoKF9hID0gX3RoaXMucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmd0KHR5cGVzXzEuTl9ESVZfMikpKSB7XG4gICAgICAgICAgICB2YXIgbXNnID0gX3RoaXMuX2Vycm9yTXNnKCdJbnZhbGlkIFNpZ25hdHVyZTogcy12YWx1ZXMgZ3JlYXRlciB0aGFuIHNlY3AyNTZrMW4vMiBhcmUgY29uc2lkZXJlZCBpbnZhbGlkJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnJlZXplID0gKF9iID0gb3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmZyZWV6ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZTtcbiAgICAgICAgaWYgKGZyZWV6ZSkge1xuICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShfdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFwic2VuZGVyUlwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFSVAtMjkzMCBhbGlhcyBmb3IgYHJgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHVzZSBgcmAgaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24ucHJvdG90eXBlLCBcInNlbmRlclNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogRUlQLTI5MzAgYWxpYXMgZm9yIGBzYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCB1c2UgYHNgIGluc3RlYWRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLnByb3RvdHlwZSwgXCJ5UGFyaXR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVJUC0yOTMwIGFsaWFzIGZvciBgdmBcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgdXNlIGB2YCBpbnN0ZWFkXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnY7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZSBhIHRyYW5zYWN0aW9uIGZyb20gYSBkYXRhIGRpY3Rpb25hcnkuXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IHsgY2hhaW5JZCwgbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCBhY2Nlc3NMaXN0LFxuICAgICAqIHYsIHIsIHMgfVxuICAgICAqXG4gICAgICogTm90ZXM6XG4gICAgICogLSBgY2hhaW5JZGAgd2lsbCBiZSBzZXQgYXV0b21hdGljYWxseSBpZiBub3QgcHJvdmlkZWRcbiAgICAgKiAtIEFsbCBwYXJhbWV0ZXJzIGFyZSBvcHRpb25hbCBhbmQgaGF2ZSBzb21lIGJhc2ljIGRlZmF1bHQgdmFsdWVzXG4gICAgICovXG4gICAgQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5mcm9tVHhEYXRhID0gZnVuY3Rpb24gKHR4RGF0YSwgb3B0cykge1xuICAgICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxuICAgICAgICByZXR1cm4gbmV3IEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24odHhEYXRhLCBvcHRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgc2VyaWFsaXplZCB0eC5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYDB4MDEgfHwgcmxwKFtjaGFpbklkLCBub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIGFjY2Vzc0xpc3QsXG4gICAgICogc2lnbmF0dXJlWVBhcml0eSAodiksIHNpZ25hdHVyZVIgKHIpLCBzaWduYXR1cmVTIChzKV0pYFxuICAgICAqL1xuICAgIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZnJvbVNlcmlhbGl6ZWRUeCA9IGZ1bmN0aW9uIChzZXJpYWxpemVkLCBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgIGlmICghc2VyaWFsaXplZC5zbGljZSgwLCAxKS5lcXVhbHMoVFJBTlNBQ1RJT05fVFlQRV9CVUZGRVIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNlcmlhbGl6ZWQgdHggaW5wdXQ6IG5vdCBhbiBFSVAtMjkzMCB0cmFuc2FjdGlvbiAod3JvbmcgdHggdHlwZSwgZXhwZWN0ZWQ6IFwiICsgVFJBTlNBQ1RJT05fVFlQRSArIFwiLCByZWNlaXZlZDogXCIgKyBzZXJpYWxpemVkXG4gICAgICAgICAgICAgICAgLnNsaWNlKDAsIDEpXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKCdoZXgnKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlcyA9IGV0aGVyZXVtanNfdXRpbF8xLnJscC5kZWNvZGUoc2VyaWFsaXplZC5zbGljZSgxKSk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VyaWFsaXplZCB0eCBpbnB1dDogbXVzdCBiZSBhcnJheScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLmZyb21WYWx1ZXNBcnJheSh2YWx1ZXMsIG9wdHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5zdGFudGlhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIHRoZSBzZXJpYWxpemVkIHR4LlxuICAgICAqIChhbGlhcyBvZiB7QGxpbmsgQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4fSlcbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgbWVhbnMgdGhhdCB0aGUgQnVmZmVyIHNob3VsZCBzdGFydCB3aXRoIDB4MDEuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCB0aGlzIGNvbnN0cnVjdG9yIGFsaWFzIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIGluIGZhdm9yIG9mIHRoZSB7QGxpbmsgQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4fSBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZnJvbVJscFNlcmlhbGl6ZWRUeCA9IGZ1bmN0aW9uIChzZXJpYWxpemVkLCBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgIHJldHVybiBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLmZyb21TZXJpYWxpemVkVHgoc2VyaWFsaXplZCwgb3B0cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIGEgdmFsdWVzIGFycmF5LlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgW2NoYWluSWQsIG5vbmNlLCBnYXNQcmljZSwgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSwgYWNjZXNzTGlzdCxcbiAgICAgKiBzaWduYXR1cmVZUGFyaXR5ICh2KSwgc2lnbmF0dXJlUiAociksIHNpZ25hdHVyZVMgKHMpXWBcbiAgICAgKi9cbiAgICBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLmZyb21WYWx1ZXNBcnJheSA9IGZ1bmN0aW9uICh2YWx1ZXMsIG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggIT09IDggJiYgdmFsdWVzLmxlbmd0aCAhPT0gMTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBFSVAtMjkzMCB0cmFuc2FjdGlvbi4gT25seSBleHBlY3RpbmcgOCB2YWx1ZXMgKGZvciB1bnNpZ25lZCB0eCkgb3IgMTEgdmFsdWVzIChmb3Igc2lnbmVkIHR4KS4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBfX3JlYWQodmFsdWVzLCAxMSksIGNoYWluSWQgPSBfYVswXSwgbm9uY2UgPSBfYVsxXSwgZ2FzUHJpY2UgPSBfYVsyXSwgZ2FzTGltaXQgPSBfYVszXSwgdG8gPSBfYVs0XSwgdmFsdWUgPSBfYVs1XSwgZGF0YSA9IF9hWzZdLCBhY2Nlc3NMaXN0ID0gX2FbN10sIHYgPSBfYVs4XSwgciA9IF9hWzldLCBzID0gX2FbMTBdO1xuICAgICAgICB2YXIgZW1wdHlBY2Nlc3NMaXN0ID0gW107XG4gICAgICAgIHJldHVybiBuZXcgQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICBjaGFpbklkOiBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oY2hhaW5JZCksXG4gICAgICAgICAgICBub25jZTogbm9uY2UsXG4gICAgICAgICAgICBnYXNQcmljZTogZ2FzUHJpY2UsXG4gICAgICAgICAgICBnYXNMaW1pdDogZ2FzTGltaXQsXG4gICAgICAgICAgICB0bzogdG8sXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYWNjZXNzTGlzdCAhPT0gbnVsbCAmJiBhY2Nlc3NMaXN0ICE9PSB2b2lkIDAgPyBhY2Nlc3NMaXN0IDogZW1wdHlBY2Nlc3NMaXN0LFxuICAgICAgICAgICAgdjogdiAhPT0gdW5kZWZpbmVkID8gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKHYpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcjogcixcbiAgICAgICAgICAgIHM6IHMsXG4gICAgICAgIH0sIG9wdHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBnYXMgcGFpZCBmb3IgdGhlIGRhdGEgaW4gdGhpcyB0eFxuICAgICAqL1xuICAgIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24ucHJvdG90eXBlLmdldERhdGFGZWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlLmRhdGFGZWUgJiYgdGhpcy5jYWNoZS5kYXRhRmVlLmhhcmRmb3JrID09PSB0aGlzLmNvbW1vbi5oYXJkZm9yaygpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5kYXRhRmVlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb3N0ID0gX3N1cGVyLnByb3RvdHlwZS5nZXREYXRhRmVlLmNhbGwodGhpcyk7XG4gICAgICAgIGNvc3QuaWFkZG4odXRpbF8xLkFjY2Vzc0xpc3RzLmdldERhdGFGZWVFSVAyOTMwKHRoaXMuYWNjZXNzTGlzdCwgdGhpcy5jb21tb24pKTtcbiAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbih0aGlzKSkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZS5kYXRhRmVlID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBjb3N0LFxuICAgICAgICAgICAgICAgIGhhcmRmb3JrOiB0aGlzLmNvbW1vbi5oYXJkZm9yaygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29zdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSB1cCBmcm9udCBhbW91bnQgdGhhdCBhbiBhY2NvdW50IG11c3QgaGF2ZSBmb3IgdGhpcyB0cmFuc2FjdGlvbiB0byBiZSB2YWxpZFxuICAgICAqL1xuICAgIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24ucHJvdG90eXBlLmdldFVwZnJvbnRDb3N0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nYXNMaW1pdC5tdWwodGhpcy5nYXNQcmljZSkuYWRkKHRoaXMudmFsdWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJ1ZmZlciBBcnJheSBvZiB0aGUgcmF3IEJ1ZmZlcnMgb2YgdGhlIEVJUC0yOTMwIHRyYW5zYWN0aW9uLCBpbiBvcmRlci5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYFtjaGFpbklkLCBub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIGFjY2Vzc0xpc3QsXG4gICAgICogc2lnbmF0dXJlWVBhcml0eSAodiksIHNpZ25hdHVyZVIgKHIpLCBzaWduYXR1cmVTIChzKV1gXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uc2VyaWFsaXplfSB0byBhZGQgYSB0cmFuc2FjdGlvbiB0byBhIGJsb2NrXG4gICAgICogd2l0aCB7QGxpbmsgQmxvY2suZnJvbVZhbHVlc0FycmF5fS5cbiAgICAgKlxuICAgICAqIEZvciBhbiB1bnNpZ25lZCB0eCB0aGlzIG1ldGhvZCB1c2VzIHRoZSBlbXB0eSBCdWZmZXIgdmFsdWVzIGZvciB0aGVcbiAgICAgKiBzaWduYXR1cmUgcGFyYW1ldGVycyBgdmAsIGByYCBhbmQgYHNgIGZvciBlbmNvZGluZy4gRm9yIGFuIEVJUC0xNTUgY29tcGxpYW50XG4gICAgICogcmVwcmVzZW50YXRpb24gZm9yIGV4dGVybmFsIHNpZ25pbmcgdXNlIHtAbGluayBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLmdldE1lc3NhZ2VUb1NpZ259LlxuICAgICAqL1xuICAgIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24ucHJvdG90eXBlLnJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMuY2hhaW5JZCksXG4gICAgICAgICAgICAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMuZ2FzUHJpY2UpLFxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0aGlzLnRvICE9PSB1bmRlZmluZWQgPyB0aGlzLnRvLmJ1ZiA6IEJ1ZmZlci5mcm9tKFtdKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMudmFsdWUpLFxuICAgICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICAgICAgdGhpcy5hY2Nlc3NMaXN0LFxuICAgICAgICAgICAgdGhpcy52ICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnYpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICAgICAgdGhpcy5yICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnIpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICAgICAgdGhpcy5zICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnMpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICBdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2VyaWFsaXplZCBlbmNvZGluZyBvZiB0aGUgRUlQLTI5MzAgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGAweDAxIHx8IHJscChbY2hhaW5JZCwgbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCBhY2Nlc3NMaXN0LFxuICAgICAqIHNpZ25hdHVyZVlQYXJpdHkgKHYpLCBzaWduYXR1cmVSIChyKSwgc2lnbmF0dXJlUyAocyldKWBcbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBpbiBjb250cmFzdCB0byB0aGUgbGVnYWN5IHR4IHNlcmlhbGl6YXRpb24gZm9ybWF0IHRoaXMgaXMgbm90XG4gICAgICogdmFsaWQgUkxQIGFueSBtb3JlIGR1ZSB0byB0aGUgcmF3IHR4IHR5cGUgcHJlY2VkaW5nIGFuZCBjb25jYXRlbmF0ZWQgdG9cbiAgICAgKiB0aGUgUkxQIGVuY29kaW5nIG9mIHRoZSB2YWx1ZXMuXG4gICAgICovXG4gICAgQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYmFzZSA9IHRoaXMucmF3KCk7XG4gICAgICAgIHJldHVybiBCdWZmZXIuY29uY2F0KFtUUkFOU0FDVElPTl9UWVBFX0JVRkZFUiwgZXRoZXJldW1qc191dGlsXzEucmxwLmVuY29kZShiYXNlKV0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2VyaWFsaXplZCB1bnNpZ25lZCB0eCAoaGFzaGVkIG9yIHJhdyksIHdoaWNoIGNhbiBiZSB1c2VkXG4gICAgICogdG8gc2lnbiB0aGUgdHJhbnNhY3Rpb24gKGUuZy4gZm9yIHNlbmRpbmcgdG8gYSBoYXJkd2FyZSB3YWxsZXQpLlxuICAgICAqXG4gICAgICogTm90ZTogaW4gY29udHJhc3QgdG8gdGhlIGxlZ2FjeSB0eCB0aGUgcmF3IG1lc3NhZ2UgZm9ybWF0IGlzIGFscmVhZHlcbiAgICAgKiBzZXJpYWxpemVkIGFuZCBkb2Vzbid0IG5lZWQgdG8gYmUgUkxQIGVuY29kZWQgYW55IG1vcmUuXG4gICAgICpcbiAgICAgKiBgYGBqYXZhc2NyaXB0XG4gICAgICogY29uc3Qgc2VyaWFsaXplZE1lc3NhZ2UgPSB0eC5nZXRNZXNzYWdlVG9TaWduKGZhbHNlKSAvLyB1c2UgdGhpcyBmb3IgdGhlIEhXIHdhbGxldCBpbnB1dFxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGhhc2hNZXNzYWdlIC0gUmV0dXJuIGhhc2hlZCBtZXNzYWdlIGlmIHNldCB0byB0cnVlIChkZWZhdWx0OiB0cnVlKVxuICAgICAqL1xuICAgIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24ucHJvdG90eXBlLmdldE1lc3NhZ2VUb1NpZ24gPSBmdW5jdGlvbiAoaGFzaE1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGhhc2hNZXNzYWdlID09PSB2b2lkIDApIHsgaGFzaE1lc3NhZ2UgPSB0cnVlOyB9XG4gICAgICAgIHZhciBiYXNlID0gdGhpcy5yYXcoKS5zbGljZSgwLCA4KTtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBCdWZmZXIuY29uY2F0KFtUUkFOU0FDVElPTl9UWVBFX0JVRkZFUiwgZXRoZXJldW1qc191dGlsXzEucmxwLmVuY29kZShiYXNlKV0pO1xuICAgICAgICBpZiAoaGFzaE1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEua2VjY2FrMjU2KShtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIHNoYTMtMjU2IGhhc2ggb2YgdGhlIHNlcmlhbGl6ZWQgdHguXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGZvciBzaWduZWQgdHhzIChpdCB0aHJvd3Mgb3RoZXJ3aXNlKS5cbiAgICAgKiBVc2Uge0BsaW5rIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZ2V0TWVzc2FnZVRvU2lnbn0gdG8gZ2V0IGEgdHggaGFzaCBmb3IgdGhlIHB1cnBvc2Ugb2Ygc2lnbmluZy5cbiAgICAgKi9cbiAgICBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLnByb3RvdHlwZS5oYXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTaWduZWQoKSkge1xuICAgICAgICAgICAgdmFyIG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdDYW5ub3QgY2FsbCBoYXNoIG1ldGhvZCBpZiB0cmFuc2FjdGlvbiBpcyBub3Qgc2lnbmVkJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHRoaXMpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FjaGUuaGFzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUuaGFzaCA9ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5rZWNjYWsyNTYpKHRoaXMuc2VyaWFsaXplKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuaGFzaDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmtlY2NhazI1NikodGhpcy5zZXJpYWxpemUoKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIHNoYTMtMjU2IGhhc2ggd2hpY2ggY2FuIGJlIHVzZWQgdG8gdmVyaWZ5IHRoZSBzaWduYXR1cmVcbiAgICAgKi9cbiAgICBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLnByb3RvdHlwZS5nZXRNZXNzYWdlVG9WZXJpZnlTaWduYXR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1lc3NhZ2VUb1NpZ24oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHB1YmxpYyBrZXkgb2YgdGhlIHNlbmRlclxuICAgICAqL1xuICAgIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlclB1YmxpY0tleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuaXNTaWduZWQoKSkge1xuICAgICAgICAgICAgdmFyIG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdDYW5ub3QgY2FsbCB0aGlzIG1ldGhvZCBpZiB0cmFuc2FjdGlvbiBpcyBub3Qgc2lnbmVkJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbXNnSGFzaCA9IHRoaXMuZ2V0TWVzc2FnZVRvVmVyaWZ5U2lnbmF0dXJlKCk7XG4gICAgICAgIC8vIEVJUC0yOiBBbGwgdHJhbnNhY3Rpb24gc2lnbmF0dXJlcyB3aG9zZSBzLXZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBzZWNwMjU2azFuLzIgYXJlIGNvbnNpZGVyZWQgaW52YWxpZC5cbiAgICAgICAgLy8gUmVhc29uaW5nOiBodHRwczovL2V0aGVyZXVtLnN0YWNrZXhjaGFuZ2UuY29tL2EvNTU3MjhcbiAgICAgICAgaWYgKHRoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdob21lc3RlYWQnKSAmJiAoKF9hID0gdGhpcy5zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ3QodHlwZXNfMS5OX0RJVl8yKSkpIHtcbiAgICAgICAgICAgIHZhciBtc2cgPSB0aGlzLl9lcnJvck1zZygnSW52YWxpZCBTaWduYXR1cmU6IHMtdmFsdWVzIGdyZWF0ZXIgdGhhbiBzZWNwMjU2azFuLzIgYXJlIGNvbnNpZGVyZWQgaW52YWxpZCcpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9iID0gdGhpcywgeVBhcml0eSA9IF9iLnlQYXJpdHksIHIgPSBfYi5yLCBzID0gX2IucztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEuZWNyZWNvdmVyKShtc2dIYXNoLCB5UGFyaXR5LmFkZG4oMjcpLCAvLyBSZWNvdmVyIHRoZSAyNyB3aGljaCB3YXMgc3RyaXBwZWQgZnJvbSBlY3NpZ25cbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHIpLCAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKShzKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHZhciBtc2cgPSB0aGlzLl9lcnJvck1zZygnSW52YWxpZCBTaWduYXR1cmUnKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fcHJvY2Vzc1NpZ25hdHVyZSA9IGZ1bmN0aW9uICh2LCByLCBzKSB7XG4gICAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICAgICAgY29tbW9uOiB0aGlzLmNvbW1vbixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZnJvbVR4RGF0YSh7XG4gICAgICAgICAgICBjaGFpbklkOiB0aGlzLmNoYWluSWQsXG4gICAgICAgICAgICBub25jZTogdGhpcy5ub25jZSxcbiAgICAgICAgICAgIGdhc1ByaWNlOiB0aGlzLmdhc1ByaWNlLFxuICAgICAgICAgICAgZ2FzTGltaXQ6IHRoaXMuZ2FzTGltaXQsXG4gICAgICAgICAgICB0bzogdGhpcy50byxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgZGF0YTogdGhpcy5kYXRhLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogdGhpcy5hY2Nlc3NMaXN0LFxuICAgICAgICAgICAgdjogbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKHYgLSAyNyksXG4gICAgICAgICAgICByOiBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4ociksXG4gICAgICAgICAgICBzOiBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4ocyksXG4gICAgICAgIH0sIG9wdHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKi9cbiAgICBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhY2Nlc3NMaXN0SlNPTiA9IHV0aWxfMS5BY2Nlc3NMaXN0cy5nZXRBY2Nlc3NMaXN0SlNPTih0aGlzLmFjY2Vzc0xpc3QpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhaW5JZDogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMuY2hhaW5JZCksXG4gICAgICAgICAgICBub25jZTogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMubm9uY2UpLFxuICAgICAgICAgICAgZ2FzUHJpY2U6ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLmdhc1ByaWNlKSxcbiAgICAgICAgICAgIGdhc0xpbWl0OiAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0bzogdGhpcy50byAhPT0gdW5kZWZpbmVkID8gdGhpcy50by50b1N0cmluZygpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsdWU6ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLnZhbHVlKSxcbiAgICAgICAgICAgIGRhdGE6ICcweCcgKyB0aGlzLmRhdGEudG9TdHJpbmcoJ2hleCcpLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYWNjZXNzTGlzdEpTT04sXG4gICAgICAgICAgICB2OiB0aGlzLnYgIT09IHVuZGVmaW5lZCA/ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLnYpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcjogdGhpcy5yICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5yKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHM6IHRoaXMucyAhPT0gdW5kZWZpbmVkID8gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMucykgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBjb21wYWN0IGVycm9yIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5wcm90b3R5cGUuZXJyb3JTdHIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHZhciBlcnJvclN0ciA9IHRoaXMuX2dldFNoYXJlZEVycm9yUG9zdGZpeCgpO1xuICAgICAgICAvLyBLZWVwID8gZm9yIHRoaXMuYWNjZXNzTGlzdCBzaW5jZSB0aGlzIG90aGVyd2lzZSBjYXVzZXMgSGFyZGhhdCBFMkUgdGVzdHMgdG8gZmFpbFxuICAgICAgICBlcnJvclN0ciArPSBcIiBnYXNQcmljZT1cIiArIHRoaXMuZ2FzUHJpY2UgKyBcIiBhY2Nlc3NMaXN0Q291bnQ9XCIgKyAoKF9iID0gKF9hID0gdGhpcy5hY2Nlc3NMaXN0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwKTtcbiAgICAgICAgcmV0dXJuIGVycm9yU3RyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgaGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhbiBhbm5vdGF0ZWQgZXJyb3IgbWVzc2FnZVxuICAgICAqXG4gICAgICogQHBhcmFtIG1zZyBCYXNlIGVycm9yIG1lc3NhZ2VcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5wcm90b3R5cGUuX2Vycm9yTXNnID0gZnVuY3Rpb24gKG1zZykge1xuICAgICAgICByZXR1cm4gbXNnICsgXCIgKFwiICsgdGhpcy5lcnJvclN0cigpICsgXCIpXCI7XG4gICAgfTtcbiAgICByZXR1cm4gQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbjtcbn0oYmFzZVRyYW5zYWN0aW9uXzEuQmFzZVRyYW5zYWN0aW9uKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWlwMjkzMFRyYW5zYWN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbiA9IGV4cG9ydHMuVHJhbnNhY3Rpb25GYWN0b3J5ID0gZXhwb3J0cy5BY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uID0gZXhwb3J0cy5UcmFuc2FjdGlvbiA9IHZvaWQgMDtcbnZhciBsZWdhY3lUcmFuc2FjdGlvbl8xID0gcmVxdWlyZShcIi4vbGVnYWN5VHJhbnNhY3Rpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUcmFuc2FjdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX19pbXBvcnREZWZhdWx0KGxlZ2FjeVRyYW5zYWN0aW9uXzEpLmRlZmF1bHQ7IH0gfSk7XG52YXIgZWlwMjkzMFRyYW5zYWN0aW9uXzEgPSByZXF1aXJlKFwiLi9laXAyOTMwVHJhbnNhY3Rpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2ltcG9ydERlZmF1bHQoZWlwMjkzMFRyYW5zYWN0aW9uXzEpLmRlZmF1bHQ7IH0gfSk7XG52YXIgdHJhbnNhY3Rpb25GYWN0b3J5XzEgPSByZXF1aXJlKFwiLi90cmFuc2FjdGlvbkZhY3RvcnlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUcmFuc2FjdGlvbkZhY3RvcnlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9faW1wb3J0RGVmYXVsdCh0cmFuc2FjdGlvbkZhY3RvcnlfMSkuZGVmYXVsdDsgfSB9KTtcbnZhciBlaXAxNTU5VHJhbnNhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2VpcDE1NTlUcmFuc2FjdGlvblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX19pbXBvcnREZWZhdWx0KGVpcDE1NTlUcmFuc2FjdGlvbl8xKS5kZWZhdWx0OyB9IH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3R5cGVzXCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXRoZXJldW1qc191dGlsXzEgPSByZXF1aXJlKFwiZXRoZXJldW1qcy11dGlsXCIpO1xudmFyIHR5cGVzXzEgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbnZhciBiYXNlVHJhbnNhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2Jhc2VUcmFuc2FjdGlvblwiKTtcbnZhciBUUkFOU0FDVElPTl9UWVBFID0gMDtcbi8qKlxuICogQW4gRXRoZXJldW0gbm9uLXR5cGVkIChsZWdhY3kpIHRyYW5zYWN0aW9uXG4gKi9cbnZhciBUcmFuc2FjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVHJhbnNhY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogVGhpcyBjb25zdHJ1Y3RvciB0YWtlcyB0aGUgdmFsdWVzLCB2YWxpZGF0ZXMgdGhlbSwgYXNzaWducyB0aGVtIGFuZCBmcmVlemVzIHRoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJdCBpcyBub3QgcmVjb21tZW5kZWQgdG8gdXNlIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkuIEluc3RlYWQgdXNlXG4gICAgICogdGhlIHN0YXRpYyBmYWN0b3J5IG1ldGhvZHMgdG8gYXNzaXN0IGluIGNyZWF0aW5nIGEgVHJhbnNhY3Rpb24gb2JqZWN0IGZyb21cbiAgICAgKiB2YXJ5aW5nIGRhdGEgdHlwZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVHJhbnNhY3Rpb24odHhEYXRhLCBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgX19hc3NpZ24oX19hc3NpZ24oe30sIHR4RGF0YSksIHsgdHlwZTogVFJBTlNBQ1RJT05fVFlQRSB9KSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29tbW9uID0gX3RoaXMuX3ZhbGlkYXRlVHhWKF90aGlzLnYsIG9wdHMuY29tbW9uKTtcbiAgICAgICAgX3RoaXMuZ2FzUHJpY2UgPSBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oKDAsIGV0aGVyZXVtanNfdXRpbF8xLnRvQnVmZmVyKSh0eERhdGEuZ2FzUHJpY2UgPT09ICcnID8gJzB4JyA6IHR4RGF0YS5nYXNQcmljZSkpO1xuICAgICAgICBfdGhpcy5fdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyKHsgZ2FzUHJpY2U6IF90aGlzLmdhc1ByaWNlIH0pO1xuICAgICAgICBpZiAoX3RoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdzcHVyaW91c0RyYWdvbicpKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmlzU2lnbmVkKCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMucHVzaCh0eXBlc18xLkNhcGFiaWxpdHkuRUlQMTU1UmVwbGF5UHJvdGVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFSVAxNTUgc3BlYzpcbiAgICAgICAgICAgICAgICAvLyBJZiBibG9jay5udW1iZXIgPj0gMiw2NzUsMDAwIGFuZCB2ID0gQ0hBSU5fSUQgKiAyICsgMzUgb3IgdiA9IENIQUlOX0lEICogMiArIDM2XG4gICAgICAgICAgICAgICAgLy8gdGhlbiB3aGVuIGNvbXB1dGluZyB0aGUgaGFzaCBvZiBhIHRyYW5zYWN0aW9uIGZvciBwdXJwb3NlcyBvZiBzaWduaW5nIG9yIHJlY292ZXJpbmdcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGhhc2hpbmcgb25seSB0aGUgZmlyc3Qgc2l4IGVsZW1lbnRzIChpLmUuIG5vbmNlLCBnYXNwcmljZSwgc3RhcnRnYXMsIHRvLCB2YWx1ZSwgZGF0YSlcbiAgICAgICAgICAgICAgICAvLyBoYXNoIG5pbmUgZWxlbWVudHMsIHdpdGggdiByZXBsYWNlZCBieSBDSEFJTl9JRCwgciA9IDAgYW5kIHMgPSAwLlxuICAgICAgICAgICAgICAgIHZhciB2ID0gX3RoaXMudjtcbiAgICAgICAgICAgICAgICB2YXIgY2hhaW5JZERvdWJsZWQgPSBfdGhpcy5jb21tb24uY2hhaW5JZEJOKCkubXVsbigyKTtcbiAgICAgICAgICAgICAgICAvLyB2IGFuZCBjaGFpbiBJRCBtZWV0IEVJUC0xNTUgY29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIGlmICh2LmVxKGNoYWluSWREb3VibGVkLmFkZG4oMzUpKSB8fCB2LmVxKGNoYWluSWREb3VibGVkLmFkZG4oMzYpKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMucHVzaCh0eXBlc18xLkNhcGFiaWxpdHkuRUlQMTU1UmVwbGF5UHJvdGVjdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBmcmVlemUgPSAoX2EgPSBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuZnJlZXplKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0cnVlO1xuICAgICAgICBpZiAoZnJlZXplKSB7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKF90aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSBhIGRhdGEgZGljdGlvbmFyeS5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogeyBub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIHYsIHIsIHMgfVxuICAgICAqXG4gICAgICogTm90ZXM6XG4gICAgICogLSBBbGwgcGFyYW1ldGVycyBhcmUgb3B0aW9uYWwgYW5kIGhhdmUgc29tZSBiYXNpYyBkZWZhdWx0IHZhbHVlc1xuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLmZyb21UeERhdGEgPSBmdW5jdGlvbiAodHhEYXRhLCBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb24odHhEYXRhLCBvcHRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgc2VyaWFsaXplZCB0eC5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYHJscChbbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCB2LCByLCBzXSlgXG4gICAgICovXG4gICAgVHJhbnNhY3Rpb24uZnJvbVNlcmlhbGl6ZWRUeCA9IGZ1bmN0aW9uIChzZXJpYWxpemVkLCBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgIHZhciB2YWx1ZXMgPSBldGhlcmV1bWpzX3V0aWxfMS5ybHAuZGVjb2RlKHNlcmlhbGl6ZWQpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcmlhbGl6ZWQgdHggaW5wdXQuIE11c3QgYmUgYXJyYXknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tVmFsdWVzQXJyYXkodmFsdWVzLCBvcHRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgc2VyaWFsaXplZCB0eC5cbiAgICAgKiAoYWxpYXMgb2Yge0BsaW5rIFRyYW5zYWN0aW9uLmZyb21TZXJpYWxpemVkVHh9KVxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdGhpcyBjb25zdHJ1Y3RvciBhbGlhcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBpbiBmYXZvciBvZiB0aGUge0BsaW5rIFRyYW5zYWN0aW9uLmZyb21TZXJpYWxpemVkVHh9IGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgVHJhbnNhY3Rpb24uZnJvbVJscFNlcmlhbGl6ZWRUeCA9IGZ1bmN0aW9uIChzZXJpYWxpemVkLCBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgIHJldHVybiBUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4KHNlcmlhbGl6ZWQsIG9wdHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSBhIHZhbHVlcyBhcnJheS5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYFtub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIHYsIHIsIHNdYFxuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLmZyb21WYWx1ZXNBcnJheSA9IGZ1bmN0aW9uICh2YWx1ZXMsIG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICAgICAgLy8gSWYgbGVuZ3RoIGlzIG5vdCA2LCBpdCBoYXMgbGVuZ3RoIDkuIElmIHYvci9zIGFyZSBlbXB0eSBCdWZmZXJzLCBpdCBpcyBzdGlsbCBhbiB1bnNpZ25lZCB0cmFuc2FjdGlvblxuICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgeW91IGdldCB0aGUgUkxQIGRhdGEgZnJvbSBgcmF3KClgXG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoICE9PSA2ICYmIHZhbHVlcy5sZW5ndGggIT09IDkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0cmFuc2FjdGlvbi4gT25seSBleHBlY3RpbmcgNiB2YWx1ZXMgKGZvciB1bnNpZ25lZCB0eCkgb3IgOSB2YWx1ZXMgKGZvciBzaWduZWQgdHgpLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IF9fcmVhZCh2YWx1ZXMsIDkpLCBub25jZSA9IF9hWzBdLCBnYXNQcmljZSA9IF9hWzFdLCBnYXNMaW1pdCA9IF9hWzJdLCB0byA9IF9hWzNdLCB2YWx1ZSA9IF9hWzRdLCBkYXRhID0gX2FbNV0sIHYgPSBfYVs2XSwgciA9IF9hWzddLCBzID0gX2FbOF07XG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgbm9uY2U6IG5vbmNlLFxuICAgICAgICAgICAgZ2FzUHJpY2U6IGdhc1ByaWNlLFxuICAgICAgICAgICAgZ2FzTGltaXQ6IGdhc0xpbWl0LFxuICAgICAgICAgICAgdG86IHRvLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIHY6IHYsXG4gICAgICAgICAgICByOiByLFxuICAgICAgICAgICAgczogcyxcbiAgICAgICAgfSwgb3B0cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQnVmZmVyIEFycmF5IG9mIHRoZSByYXcgQnVmZmVycyBvZiB0aGUgbGVnYWN5IHRyYW5zYWN0aW9uLCBpbiBvcmRlci5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYFtub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIHYsIHIsIHNdYFxuICAgICAqXG4gICAgICogRm9yIGxlZ2FjeSB0eHMgdGhpcyBpcyBhbHNvIHRoZSBjb3JyZWN0IGZvcm1hdCB0byBhZGQgdHJhbnNhY3Rpb25zXG4gICAgICogdG8gYSBibG9jayB3aXRoIHtAbGluayBCbG9jay5mcm9tVmFsdWVzQXJyYXl9ICh1c2UgdGhlIGBzZXJpYWxpemUoKWAgbWV0aG9kXG4gICAgICogZm9yIHR5cGVkIHR4cykuXG4gICAgICpcbiAgICAgKiBGb3IgYW4gdW5zaWduZWQgdHggdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZW1wdHkgQnVmZmVyIHZhbHVlc1xuICAgICAqIGZvciB0aGUgc2lnbmF0dXJlIHBhcmFtZXRlcnMgYHZgLCBgcmAgYW5kIGBzYC4gRm9yIGFuIEVJUC0xNTUgY29tcGxpYW50XG4gICAgICogcmVwcmVzZW50YXRpb24gaGF2ZSBhIGxvb2sgYXQge0BsaW5rIFRyYW5zYWN0aW9uLmdldE1lc3NhZ2VUb1NpZ259LlxuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMuZ2FzUHJpY2UpLFxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0aGlzLnRvICE9PSB1bmRlZmluZWQgPyB0aGlzLnRvLmJ1ZiA6IEJ1ZmZlci5mcm9tKFtdKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMudmFsdWUpLFxuICAgICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICAgICAgdGhpcy52ICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnYpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICAgICAgdGhpcy5yICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnIpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICAgICAgdGhpcy5zICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnMpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICBdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2VyaWFsaXplZCBlbmNvZGluZyBvZiB0aGUgbGVnYWN5IHRyYW5zYWN0aW9uLlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgcmxwKFtub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIHYsIHIsIHNdKWBcbiAgICAgKlxuICAgICAqIEZvciBhbiB1bnNpZ25lZCB0eCB0aGlzIG1ldGhvZCB1c2VzIHRoZSBlbXB0eSBCdWZmZXIgdmFsdWVzIGZvciB0aGVcbiAgICAgKiBzaWduYXR1cmUgcGFyYW1ldGVycyBgdmAsIGByYCBhbmQgYHNgIGZvciBlbmNvZGluZy4gRm9yIGFuIEVJUC0xNTUgY29tcGxpYW50XG4gICAgICogcmVwcmVzZW50YXRpb24gZm9yIGV4dGVybmFsIHNpZ25pbmcgdXNlIHtAbGluayBUcmFuc2FjdGlvbi5nZXRNZXNzYWdlVG9TaWdufS5cbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZXRoZXJldW1qc191dGlsXzEucmxwLmVuY29kZSh0aGlzLnJhdygpKTtcbiAgICB9O1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fZ2V0TWVzc2FnZVRvU2lnbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMubm9uY2UpLFxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5nYXNQcmljZSksXG4gICAgICAgICAgICAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLmdhc0xpbWl0KSxcbiAgICAgICAgICAgIHRoaXMudG8gIT09IHVuZGVmaW5lZCA/IHRoaXMudG8uYnVmIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy52YWx1ZSksXG4gICAgICAgICAgICB0aGlzLmRhdGEsXG4gICAgICAgIF07XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzKHR5cGVzXzEuQ2FwYWJpbGl0eS5FSVAxNTVSZXBsYXlQcm90ZWN0aW9uKSkge1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goKDAsIGV0aGVyZXVtanNfdXRpbF8xLnRvQnVmZmVyKSh0aGlzLmNvbW1vbi5jaGFpbklkQk4oKSkpO1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goKDAsIGV0aGVyZXVtanNfdXRpbF8xLnVucGFkQnVmZmVyKSgoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKDApKSk7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaCgoMCwgZXRoZXJldW1qc191dGlsXzEudW5wYWRCdWZmZXIpKCgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikoMCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH07XG4gICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLmdldE1lc3NhZ2VUb1NpZ24gPSBmdW5jdGlvbiAoaGFzaE1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGhhc2hNZXNzYWdlID09PSB2b2lkIDApIHsgaGFzaE1lc3NhZ2UgPSB0cnVlOyB9XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5fZ2V0TWVzc2FnZVRvU2lnbigpO1xuICAgICAgICBpZiAoaGFzaE1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEucmxwaGFzaCkobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBnYXMgcGFpZCBmb3IgdGhlIGRhdGEgaW4gdGhpcyB0eFxuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5nZXREYXRhRmVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jYWNoZS5kYXRhRmVlICYmIHRoaXMuY2FjaGUuZGF0YUZlZS5oYXJkZm9yayA9PT0gdGhpcy5jb21tb24uaGFyZGZvcmsoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZGF0YUZlZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHRoaXMpKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlLmRhdGFGZWUgPSB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF9zdXBlci5wcm90b3R5cGUuZ2V0RGF0YUZlZS5jYWxsKHRoaXMpLFxuICAgICAgICAgICAgICAgIGhhcmRmb3JrOiB0aGlzLmNvbW1vbi5oYXJkZm9yaygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXREYXRhRmVlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgdXAgZnJvbnQgYW1vdW50IHRoYXQgYW4gYWNjb3VudCBtdXN0IGhhdmUgZm9yIHRoaXMgdHJhbnNhY3Rpb24gdG8gYmUgdmFsaWRcbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuZ2V0VXBmcm9udENvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhc0xpbWl0Lm11bCh0aGlzLmdhc1ByaWNlKS5hZGQodGhpcy52YWx1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIHNoYTMtMjU2IGhhc2ggb2YgdGhlIHNlcmlhbGl6ZWQgdHguXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGZvciBzaWduZWQgdHhzIChpdCB0aHJvd3Mgb3RoZXJ3aXNlKS5cbiAgICAgKiBVc2Uge0BsaW5rIFRyYW5zYWN0aW9uLmdldE1lc3NhZ2VUb1NpZ259IHRvIGdldCBhIHR4IGhhc2ggZm9yIHRoZSBwdXJwb3NlIG9mIHNpZ25pbmcuXG4gICAgICovXG4gICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLmhhc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEluIGNvbnRyYXN0IHRvIHRoZSB0eCB0eXBlIHRyYW5zYWN0aW9uIGltcGxlbWVudGF0aW9ucyB0aGUgYGhhc2goKWAgZnVuY3Rpb25cbiAgICAgICAgLy8gZm9yIHRoZSBsZWdhY3kgdHggZG9lcyBub3QgdGhyb3cgaWYgdGhlIHR4IGlzIG5vdCBzaWduZWQuXG4gICAgICAgIC8vIFRoaXMgaGFzIGJlZW4gY29uc2lkZXJlZCBmb3IgaW5jbHVzaW9uIGJ1dCBsZWFkIHRvIHVuZXhwZWN0ZWQgYmFja3dhcmRzXG4gICAgICAgIC8vIGNvbXBhdGliaWxpdHkgcHJvYmxlbXMgKG5vIGNvbmNyZXRlIHJlZmVyZW5jZSBmb3VuZCwgbmVlZHMgdmFsaWRhdGlvbikuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZvciBjb250ZXh0IHNlZSBhbHNvIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bWpzL2V0aGVyZXVtanMtbW9ub3JlcG8vcHVsbC8xNDQ1LFxuICAgICAgICAvLyBTZXB0ZW1iZXIsIDIwMjEgYXMgd2VsbCBhcyB3b3JrIGRvbmUgYmVmb3JlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSB1cGRhdGVkIGFsb25nIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gcmVsZWFzZSBieSBhZGRpbmc6XG4gICAgICAgIC8vXG4gICAgICAgIC8vaWYgKCF0aGlzLmlzU2lnbmVkKCkpIHtcbiAgICAgICAgLy8gIGNvbnN0IG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdDYW5ub3QgY2FsbCBoYXNoIG1ldGhvZCBpZiB0cmFuc2FjdGlvbiBpcyBub3Qgc2lnbmVkJylcbiAgICAgICAgLy8gIHRocm93IG5ldyBFcnJvcihtc2cpXG4gICAgICAgIC8vfVxuICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHRoaXMpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FjaGUuaGFzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUuaGFzaCA9ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5ybHBoYXNoKSh0aGlzLnJhdygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmhhc2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBldGhlcmV1bWpzX3V0aWxfMS5ybHBoYXNoKSh0aGlzLnJhdygpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgc2hhMy0yNTYgaGFzaCB3aGljaCBjYW4gYmUgdXNlZCB0byB2ZXJpZnkgdGhlIHNpZ25hdHVyZVxuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5nZXRNZXNzYWdlVG9WZXJpZnlTaWduYXR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1NpZ25lZCgpKSB7XG4gICAgICAgICAgICB2YXIgbXNnID0gdGhpcy5fZXJyb3JNc2coJ1RoaXMgdHJhbnNhY3Rpb24gaXMgbm90IHNpZ25lZCcpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLl9nZXRNZXNzYWdlVG9TaWduKCk7XG4gICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEucmxwaGFzaCkobWVzc2FnZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwdWJsaWMga2V5IG9mIHRoZSBzZW5kZXJcbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVyUHVibGljS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBtc2dIYXNoID0gdGhpcy5nZXRNZXNzYWdlVG9WZXJpZnlTaWduYXR1cmUoKTtcbiAgICAgICAgLy8gRUlQLTI6IEFsbCB0cmFuc2FjdGlvbiBzaWduYXR1cmVzIHdob3NlIHMtdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHNlY3AyNTZrMW4vMiBhcmUgY29uc2lkZXJlZCBpbnZhbGlkLlxuICAgICAgICAvLyBSZWFzb25pbmc6IGh0dHBzOi8vZXRoZXJldW0uc3RhY2tleGNoYW5nZS5jb20vYS81NTcyOFxuICAgICAgICBpZiAodGhpcy5jb21tb24uZ3RlSGFyZGZvcmsoJ2hvbWVzdGVhZCcpICYmICgoX2EgPSB0aGlzLnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ndCh0eXBlc18xLk5fRElWXzIpKSkge1xuICAgICAgICAgICAgdmFyIG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdJbnZhbGlkIFNpZ25hdHVyZTogcy12YWx1ZXMgZ3JlYXRlciB0aGFuIHNlY3AyNTZrMW4vMiBhcmUgY29uc2lkZXJlZCBpbnZhbGlkJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2IgPSB0aGlzLCB2ID0gX2IudiwgciA9IF9iLnIsIHMgPSBfYi5zO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBldGhlcmV1bWpzX3V0aWxfMS5lY3JlY292ZXIpKG1zZ0hhc2gsIHYsICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHIpLCAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKShzKSwgdGhpcy5zdXBwb3J0cyh0eXBlc18xLkNhcGFiaWxpdHkuRUlQMTU1UmVwbGF5UHJvdGVjdGlvbikgPyB0aGlzLmNvbW1vbi5jaGFpbklkQk4oKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHZhciBtc2cgPSB0aGlzLl9lcnJvck1zZygnSW52YWxpZCBTaWduYXR1cmUnKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSB2LCByLCBzIHZhbHVlcyBmcm9tIHRoZSBgc2lnbmAgbWV0aG9kIG9mIHRoZSBiYXNlIHRyYW5zYWN0aW9uLlxuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fcHJvY2Vzc1NpZ25hdHVyZSA9IGZ1bmN0aW9uICh2LCByLCBzKSB7XG4gICAgICAgIHZhciB2Qk4gPSBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4odik7XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzKHR5cGVzXzEuQ2FwYWJpbGl0eS5FSVAxNTVSZXBsYXlQcm90ZWN0aW9uKSkge1xuICAgICAgICAgICAgdkJOLmlhZGQodGhpcy5jb21tb24uY2hhaW5JZEJOKCkubXVsbigyKS5hZGRuKDgpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIGNvbW1vbjogdGhpcy5jb21tb24sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBUcmFuc2FjdGlvbi5mcm9tVHhEYXRhKHtcbiAgICAgICAgICAgIG5vbmNlOiB0aGlzLm5vbmNlLFxuICAgICAgICAgICAgZ2FzUHJpY2U6IHRoaXMuZ2FzUHJpY2UsXG4gICAgICAgICAgICBnYXNMaW1pdDogdGhpcy5nYXNMaW1pdCxcbiAgICAgICAgICAgIHRvOiB0aGlzLnRvLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICAgICAgICB2OiB2Qk4sXG4gICAgICAgICAgICByOiBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4ociksXG4gICAgICAgICAgICBzOiBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4ocyksXG4gICAgICAgIH0sIG9wdHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICovXG4gICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vbmNlOiAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5ub25jZSksXG4gICAgICAgICAgICBnYXNQcmljZTogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMuZ2FzUHJpY2UpLFxuICAgICAgICAgICAgZ2FzTGltaXQ6ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLmdhc0xpbWl0KSxcbiAgICAgICAgICAgIHRvOiB0aGlzLnRvICE9PSB1bmRlZmluZWQgPyB0aGlzLnRvLnRvU3RyaW5nKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB2YWx1ZTogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMudmFsdWUpLFxuICAgICAgICAgICAgZGF0YTogJzB4JyArIHRoaXMuZGF0YS50b1N0cmluZygnaGV4JyksXG4gICAgICAgICAgICB2OiB0aGlzLnYgIT09IHVuZGVmaW5lZCA/ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLnYpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcjogdGhpcy5yICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5yKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHM6IHRoaXMucyAhPT0gdW5kZWZpbmVkID8gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMucykgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdHgncyBgdmAgdmFsdWVcbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuX3ZhbGlkYXRlVHhWID0gZnVuY3Rpb24gKHYsIGNvbW1vbikge1xuICAgICAgICB2YXIgY2hhaW5JZEJOO1xuICAgICAgICAvLyBObyB1bnNpZ25lZCB0eCBhbmQgRUlQLTE1NSBhY3RpdmF0ZWQgYW5kIGNoYWluIElEIGluY2x1ZGVkXG4gICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICF2LmVxbigwKSAmJlxuICAgICAgICAgICAgKCFjb21tb24gfHwgY29tbW9uLmd0ZUhhcmRmb3JrKCdzcHVyaW91c0RyYWdvbicpKSAmJlxuICAgICAgICAgICAgIXYuZXFuKDI3KSAmJlxuICAgICAgICAgICAgIXYuZXFuKDI4KSkge1xuICAgICAgICAgICAgaWYgKGNvbW1vbikge1xuICAgICAgICAgICAgICAgIHZhciBjaGFpbklkRG91YmxlZCA9IGNvbW1vbi5jaGFpbklkQk4oKS5tdWxuKDIpO1xuICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkRUlQMTU1ViA9IHYuZXEoY2hhaW5JZERvdWJsZWQuYWRkbigzNSkpIHx8IHYuZXEoY2hhaW5JZERvdWJsZWQuYWRkbigzNikpO1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZEVJUDE1NVYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5jb21wYXRpYmxlIEVJUDE1NS1iYXNlZCBWIFwiICsgdiArIFwiIGFuZCBjaGFpbiBpZCBcIiArIGNvbW1vbi5jaGFpbklkQk4oKSArIFwiLiBTZWUgdGhlIENvbW1vbiBwYXJhbWV0ZXIgb2YgdGhlIFRyYW5zYWN0aW9uIGNvbnN0cnVjdG9yIHRvIHNldCB0aGUgY2hhaW4gaWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERlcml2ZSB0aGUgb3JpZ2luYWwgY2hhaW4gSURcbiAgICAgICAgICAgICAgICB2YXIgbnVtU3ViID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmICh2LnN1Ym4oMzUpLmlzRXZlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgIG51bVN1YiA9IDM1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtU3ViID0gMzY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVzZSBkZXJpdmVkIGNoYWluIElEIHRvIGNyZWF0ZSBhIHByb3BlciBDb21tb25cbiAgICAgICAgICAgICAgICBjaGFpbklkQk4gPSB2LnN1Ym4obnVtU3ViKS5kaXZuKDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDb21tb24oY29tbW9uLCBjaGFpbklkQk4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgaWYgeW91IGhhdmUgY2FsbGVkIHRoaXMgaW50ZXJuYWwgbWV0aG9kIHBsZWFzZSB1c2UgYHR4LnN1cHBvcnRzKENhcGFiaWxpdGllcy5FSVAxNTVSZXBsYXlQcm90ZWN0aW9uKWAgaW5zdGVhZFxuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fdW5zaWduZWRUeEltcGxlbWVudHNFSVAxNTUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1vbi5ndGVIYXJkZm9yaygnc3B1cmlvdXNEcmFnb24nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIGlmIHlvdSBoYXZlIGNhbGxlZCB0aGlzIGludGVybmFsIG1ldGhvZCBwbGVhc2UgdXNlIGB0eC5zdXBwb3J0cyhDYXBhYmlsaXRpZXMuRUlQMTU1UmVwbGF5UHJvdGVjdGlvbilgIGluc3RlYWRcbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuX3NpZ25lZFR4SW1wbGVtZW50c0VJUDE1NSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU2lnbmVkKCkpIHtcbiAgICAgICAgICAgIHZhciBtc2cgPSB0aGlzLl9lcnJvck1zZygnVGhpcyB0cmFuc2FjdGlvbiBpcyBub3Qgc2lnbmVkJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb25FSVAxNTVCbG9ja09yTGF0ZXIgPSB0aGlzLmNvbW1vbi5ndGVIYXJkZm9yaygnc3B1cmlvdXNEcmFnb24nKTtcbiAgICAgICAgLy8gRUlQMTU1IHNwZWM6XG4gICAgICAgIC8vIElmIGJsb2NrLm51bWJlciA+PSAyLDY3NSwwMDAgYW5kIHYgPSBDSEFJTl9JRCAqIDIgKyAzNSBvciB2ID0gQ0hBSU5fSUQgKiAyICsgMzYsIHRoZW4gd2hlbiBjb21wdXRpbmcgdGhlIGhhc2ggb2YgYSB0cmFuc2FjdGlvbiBmb3IgcHVycG9zZXMgb2Ygc2lnbmluZyBvciByZWNvdmVyaW5nLCBpbnN0ZWFkIG9mIGhhc2hpbmcgb25seSB0aGUgZmlyc3Qgc2l4IGVsZW1lbnRzIChpLmUuIG5vbmNlLCBnYXNwcmljZSwgc3RhcnRnYXMsIHRvLCB2YWx1ZSwgZGF0YSksIGhhc2ggbmluZSBlbGVtZW50cywgd2l0aCB2IHJlcGxhY2VkIGJ5IENIQUlOX0lELCByID0gMCBhbmQgcyA9IDAuXG4gICAgICAgIHZhciB2ID0gdGhpcy52O1xuICAgICAgICB2YXIgY2hhaW5JZERvdWJsZWQgPSB0aGlzLmNvbW1vbi5jaGFpbklkQk4oKS5tdWxuKDIpO1xuICAgICAgICB2YXIgdkFuZENoYWluSWRNZWV0RUlQMTU1Q29uZGl0aW9ucyA9IHYuZXEoY2hhaW5JZERvdWJsZWQuYWRkbigzNSkpIHx8IHYuZXEoY2hhaW5JZERvdWJsZWQuYWRkbigzNikpO1xuICAgICAgICByZXR1cm4gdkFuZENoYWluSWRNZWV0RUlQMTU1Q29uZGl0aW9ucyAmJiBvbkVJUDE1NUJsb2NrT3JMYXRlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGNvbXBhY3QgZXJyb3Igc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuZXJyb3JTdHIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlcnJvclN0ciA9IHRoaXMuX2dldFNoYXJlZEVycm9yUG9zdGZpeCgpO1xuICAgICAgICBlcnJvclN0ciArPSBcIiBnYXNQcmljZT1cIiArIHRoaXMuZ2FzUHJpY2U7XG4gICAgICAgIHJldHVybiBlcnJvclN0cjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludGVybmFsIGhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgYW4gYW5ub3RhdGVkIGVycm9yIG1lc3NhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBtc2cgQmFzZSBlcnJvciBtZXNzYWdlXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fZXJyb3JNc2cgPSBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIHJldHVybiBtc2cgKyBcIiAoXCIgKyB0aGlzLmVycm9yU3RyKCkgKyBcIilcIjtcbiAgICB9O1xuICAgIHJldHVybiBUcmFuc2FjdGlvbjtcbn0oYmFzZVRyYW5zYWN0aW9uXzEuQmFzZVRyYW5zYWN0aW9uKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2FjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxlZ2FjeVRyYW5zYWN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGV0aGVyZXVtanNfdXRpbF8xID0gcmVxdWlyZShcImV0aGVyZXVtanMtdXRpbFwiKTtcbnZhciBfMSA9IHJlcXVpcmUoXCIuXCIpO1xudmFyIFRyYW5zYWN0aW9uRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBJdCBpcyBub3QgcG9zc2libGUgdG8gaW5zdGFudGlhdGUgYSBUcmFuc2FjdGlvbkZhY3Rvcnkgb2JqZWN0LlxuICAgIGZ1bmN0aW9uIFRyYW5zYWN0aW9uRmFjdG9yeSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSBhIGB0eERhdGFgIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHR4RGF0YSAtIFRoZSB0cmFuc2FjdGlvbiBkYXRhLiBUaGUgYHR5cGVgIGZpZWxkIHdpbGwgZGV0ZXJtaW5lIHdoaWNoIHRyYW5zYWN0aW9uIHR5cGUgaXMgcmV0dXJuZWQgKGlmIHVuZGVmaW5lZCwgY3JlYXRlcyBhIGxlZ2FjeSB0cmFuc2FjdGlvbilcbiAgICAgKiBAcGFyYW0gdHhPcHRpb25zIC0gT3B0aW9ucyB0byBwYXNzIG9uIHRvIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbkZhY3RvcnkuZnJvbVR4RGF0YSA9IGZ1bmN0aW9uICh0eERhdGEsIHR4T3B0aW9ucykge1xuICAgICAgICBpZiAodHhPcHRpb25zID09PSB2b2lkIDApIHsgdHhPcHRpb25zID0ge307IH1cbiAgICAgICAgaWYgKCEoJ3R5cGUnIGluIHR4RGF0YSkgfHwgdHhEYXRhLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gQXNzdW1lIGxlZ2FjeSB0cmFuc2FjdGlvblxuICAgICAgICAgICAgcmV0dXJuIF8xLlRyYW5zYWN0aW9uLmZyb21UeERhdGEodHhEYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHR4VHlwZSA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTigoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKHR4RGF0YS50eXBlKSkudG9OdW1iZXIoKTtcbiAgICAgICAgICAgIGlmICh0eFR5cGUgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXzEuVHJhbnNhY3Rpb24uZnJvbVR4RGF0YSh0eERhdGEsIHR4T3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eFR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXzEuQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5mcm9tVHhEYXRhKHR4RGF0YSwgdHhPcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR4VHlwZSA9PT0gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfMS5GZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24uZnJvbVR4RGF0YSh0eERhdGEsIHR4T3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUeCBpbnN0YW50aWF0aW9uIHdpdGggdHlwZSBcIiArIHR4VHlwZSArIFwiIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHRyaWVzIHRvIGRlY29kZSBzZXJpYWxpemVkIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSAtIFRoZSBkYXRhIEJ1ZmZlclxuICAgICAqIEBwYXJhbSB0eE9wdGlvbnMgLSBUaGUgdHJhbnNhY3Rpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uRmFjdG9yeS5mcm9tU2VyaWFsaXplZERhdGEgPSBmdW5jdGlvbiAoZGF0YSwgdHhPcHRpb25zKSB7XG4gICAgICAgIGlmICh0eE9wdGlvbnMgPT09IHZvaWQgMCkgeyB0eE9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAoZGF0YVswXSA8PSAweDdmKSB7XG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHR5cGUuXG4gICAgICAgICAgICB2YXIgRUlQID0gdm9pZCAwO1xuICAgICAgICAgICAgc3dpdGNoIChkYXRhWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBFSVAgPSAyOTMwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIEVJUCA9IDE1NTk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlR5cGVkVHJhbnNhY3Rpb24gd2l0aCBJRCBcIiArIGRhdGFbMF0gKyBcIiB1bmtub3duXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEVJUCA9PT0gMTU1OSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfMS5GZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24uZnJvbVNlcmlhbGl6ZWRUeChkYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRUlQID09PSAyOTMwXG4gICAgICAgICAgICAgICAgcmV0dXJuIF8xLkFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZnJvbVNlcmlhbGl6ZWRUeChkYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF8xLlRyYW5zYWN0aW9uLmZyb21TZXJpYWxpemVkVHgoZGF0YSwgdHhPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hlbiBkZWNvZGluZyBhIEJsb2NrQm9keSwgaW4gdGhlIHRyYW5zYWN0aW9ucyBmaWVsZCwgYSBmaWVsZCBpcyBlaXRoZXI6XG4gICAgICogQSBCdWZmZXIgKGEgVHlwZWRUcmFuc2FjdGlvbiAtIGVuY29kZWQgYXMgVHJhbnNhY3Rpb25UeXBlIHx8IHJscChUcmFuc2FjdGlvblBheWxvYWQpKVxuICAgICAqIEEgQnVmZmVyW10gKExlZ2FjeSBUcmFuc2FjdGlvbilcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSByaWdodCB0cmFuc2FjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhIC0gQSBCdWZmZXIgb3IgQnVmZmVyW11cbiAgICAgKiBAcGFyYW0gdHhPcHRpb25zIC0gVGhlIHRyYW5zYWN0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbkZhY3RvcnkuZnJvbUJsb2NrQm9keURhdGEgPSBmdW5jdGlvbiAoZGF0YSwgdHhPcHRpb25zKSB7XG4gICAgICAgIGlmICh0eE9wdGlvbnMgPT09IHZvaWQgMCkgeyB0eE9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tU2VyaWFsaXplZERhdGEoZGF0YSwgdHhPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAvLyBJdCBpcyBhIGxlZ2FjeSB0cmFuc2FjdGlvblxuICAgICAgICAgICAgcmV0dXJuIF8xLlRyYW5zYWN0aW9uLmZyb21WYWx1ZXNBcnJheShkYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZGVjb2RlIHRyYW5zYWN0aW9uOiB1bmtub3duIHR5cGUgaW5wdXQnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBoZWxwZXIgbWV0aG9kIGFsbG93cyBvbmUgdG8gcmV0cmlldmUgdGhlIGNsYXNzIHdoaWNoIG1hdGNoZXMgdGhlIHRyYW5zYWN0aW9uSURcbiAgICAgKiBJZiB0cmFuc2FjdGlvbklEIGlzIHVuZGVmaW5lZCwgcmV0dXJucyB0aGUgbGVnYWN5IHRyYW5zYWN0aW9uIGNsYXNzLlxuICAgICAqIEBkZXByZWNhdGVkIC0gVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIG9uIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25JRFxuICAgICAqIEBwYXJhbSBfY29tbW9uIC0gVGhpcyBvcHRpb24gaXMgbm90IHVzZWRcbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbkZhY3RvcnkuZ2V0VHJhbnNhY3Rpb25DbGFzcyA9IGZ1bmN0aW9uICh0cmFuc2FjdGlvbklELCBfY29tbW9uKSB7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbklEID09PSB2b2lkIDApIHsgdHJhbnNhY3Rpb25JRCA9IDA7IH1cbiAgICAgICAgdmFyIGxlZ2FjeVR4biA9IHRyYW5zYWN0aW9uSUQgPT0gMCB8fCAodHJhbnNhY3Rpb25JRCA+PSAweDgwICYmIHRyYW5zYWN0aW9uSUQgPD0gMHhmZik7XG4gICAgICAgIGlmIChsZWdhY3lUeG4pIHtcbiAgICAgICAgICAgIHJldHVybiBfMS5UcmFuc2FjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRyYW5zYWN0aW9uSUQpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gXzEuQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbjtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXzEuRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUeXBlZFRyYW5zYWN0aW9uIHdpdGggSUQgXCIgKyB0cmFuc2FjdGlvbklEICsgXCIgdW5rbm93blwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRyYW5zYWN0aW9uRmFjdG9yeTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2FjdGlvbkZhY3Rvcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2FjdGlvbkZhY3RvcnkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk5fRElWXzIgPSBleHBvcnRzLmlzQWNjZXNzTGlzdCA9IGV4cG9ydHMuaXNBY2Nlc3NMaXN0QnVmZmVyID0gZXhwb3J0cy5DYXBhYmlsaXR5ID0gdm9pZCAwO1xudmFyIGV0aGVyZXVtanNfdXRpbF8xID0gcmVxdWlyZShcImV0aGVyZXVtanMtdXRpbFwiKTtcbi8qKlxuICogQ2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB7QGxpbmsgVHJhbnNhY3Rpb24uc3VwcG9ydHN9XG4gKiB0byBxdWVyeSBvbiB0eCBjYXBhYmlsaXRpZXNcbiAqL1xudmFyIENhcGFiaWxpdHk7XG4oZnVuY3Rpb24gKENhcGFiaWxpdHkpIHtcbiAgICAvKipcbiAgICAgKiBUeCBzdXBwb3J0cyBFSVAtMTU1IHJlcGxheSBwcm90ZWN0aW9uXG4gICAgICogU2VlOiBbMTU1XShodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTE1NSkgUmVwbGF5IEF0dGFjayBQcm90ZWN0aW9uIEVJUFxuICAgICAqL1xuICAgIENhcGFiaWxpdHlbQ2FwYWJpbGl0eVtcIkVJUDE1NVJlcGxheVByb3RlY3Rpb25cIl0gPSAxNTVdID0gXCJFSVAxNTVSZXBsYXlQcm90ZWN0aW9uXCI7XG4gICAgLyoqXG4gICAgICogVHggc3VwcG9ydHMgRUlQLTE1NTkgZ2FzIGZlZSBtYXJrZXQgbWVjaGFuc2ltXG4gICAgICogU2VlOiBbMTU1OV0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xNTU5KSBGZWUgTWFya2V0IEVJUFxuICAgICAqL1xuICAgIENhcGFiaWxpdHlbQ2FwYWJpbGl0eVtcIkVJUDE1NTlGZWVNYXJrZXRcIl0gPSAxNTU5XSA9IFwiRUlQMTU1OUZlZU1hcmtldFwiO1xuICAgIC8qKlxuICAgICAqIFR4IGlzIGEgdHlwZWQgdHJhbnNhY3Rpb24gYXMgZGVmaW5lZCBpbiBFSVAtMjcxOFxuICAgICAqIFNlZTogWzI3MThdKGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMjcxOCkgVHJhbnNhY3Rpb24gVHlwZSBFSVBcbiAgICAgKi9cbiAgICBDYXBhYmlsaXR5W0NhcGFiaWxpdHlbXCJFSVAyNzE4VHlwZWRUcmFuc2FjdGlvblwiXSA9IDI3MThdID0gXCJFSVAyNzE4VHlwZWRUcmFuc2FjdGlvblwiO1xuICAgIC8qKlxuICAgICAqIFR4IHN1cHBvcnRzIGFjY2VzcyBsaXN0IGdlbmVyYXRpb24gYXMgZGVmaW5lZCBpbiBFSVAtMjkzMFxuICAgICAqIFNlZTogWzI5MzBdKGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMjkzMCkgQWNjZXNzIExpc3RzIEVJUFxuICAgICAqL1xuICAgIENhcGFiaWxpdHlbQ2FwYWJpbGl0eVtcIkVJUDI5MzBBY2Nlc3NMaXN0c1wiXSA9IDI5MzBdID0gXCJFSVAyOTMwQWNjZXNzTGlzdHNcIjtcbn0pKENhcGFiaWxpdHkgPSBleHBvcnRzLkNhcGFiaWxpdHkgfHwgKGV4cG9ydHMuQ2FwYWJpbGl0eSA9IHt9KSk7XG5mdW5jdGlvbiBpc0FjY2Vzc0xpc3RCdWZmZXIoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgZmlyc3RJdGVtID0gaW5wdXRbMF07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmlyc3RJdGVtKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5pc0FjY2Vzc0xpc3RCdWZmZXIgPSBpc0FjY2Vzc0xpc3RCdWZmZXI7XG5mdW5jdGlvbiBpc0FjY2Vzc0xpc3QoaW5wdXQpIHtcbiAgICByZXR1cm4gIWlzQWNjZXNzTGlzdEJ1ZmZlcihpbnB1dCk7IC8vIFRoaXMgaXMgZXhhY3RseSB0aGUgc2FtZSBtZXRob2QsIGV4Y2VwdCB0aGUgb3V0cHV0IGlzIG5lZ2F0ZWQuXG59XG5leHBvcnRzLmlzQWNjZXNzTGlzdCA9IGlzQWNjZXNzTGlzdDtcbi8qKlxuICogQSBjb25zdCBkZWZpbmluZyBzZWNwMjU2azFuLzJcbiAqL1xuZXhwb3J0cy5OX0RJVl8yID0gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKCc3ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjVkNTc2ZTczNTdhNDUwMWRkZmU5MmY0NjY4MWIyMGEwJywgMTYpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFjY2Vzc0xpc3RzID0gdm9pZCAwO1xudmFyIGV0aGVyZXVtanNfdXRpbF8xID0gcmVxdWlyZShcImV0aGVyZXVtanMtdXRpbFwiKTtcbnZhciB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG52YXIgQWNjZXNzTGlzdHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWNjZXNzTGlzdHMoKSB7XG4gICAgfVxuICAgIEFjY2Vzc0xpc3RzLmdldEFjY2Vzc0xpc3REYXRhID0gZnVuY3Rpb24gKGFjY2Vzc0xpc3QpIHtcbiAgICAgICAgdmFyIEFjY2Vzc0xpc3RKU09OO1xuICAgICAgICB2YXIgYnVmZmVyQWNjZXNzTGlzdDtcbiAgICAgICAgaWYgKGFjY2Vzc0xpc3QgJiYgKDAsIHR5cGVzXzEuaXNBY2Nlc3NMaXN0KShhY2Nlc3NMaXN0KSkge1xuICAgICAgICAgICAgQWNjZXNzTGlzdEpTT04gPSBhY2Nlc3NMaXN0O1xuICAgICAgICAgICAgdmFyIG5ld0FjY2Vzc0xpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWNjZXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gYWNjZXNzTGlzdFtpXTtcbiAgICAgICAgICAgICAgICB2YXIgYWRkcmVzc0J1ZmZlciA9ICgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikoaXRlbS5hZGRyZXNzKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RvcmFnZUl0ZW1zID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW0uc3RvcmFnZUtleXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VJdGVtcy5wdXNoKCgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikoaXRlbS5zdG9yYWdlS2V5c1tpbmRleF0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3QWNjZXNzTGlzdC5wdXNoKFthZGRyZXNzQnVmZmVyLCBzdG9yYWdlSXRlbXNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlckFjY2Vzc0xpc3QgPSBuZXdBY2Nlc3NMaXN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnVmZmVyQWNjZXNzTGlzdCA9IGFjY2Vzc0xpc3QgIT09IG51bGwgJiYgYWNjZXNzTGlzdCAhPT0gdm9pZCAwID8gYWNjZXNzTGlzdCA6IFtdO1xuICAgICAgICAgICAgLy8gYnVpbGQgdGhlIEpTT05cbiAgICAgICAgICAgIHZhciBqc29uID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlckFjY2Vzc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGJ1ZmZlckFjY2Vzc0xpc3RbaV07XG4gICAgICAgICAgICAgICAgdmFyIGFkZHJlc3MgPSAoMCwgZXRoZXJldW1qc191dGlsXzEuYnVmZmVyVG9IZXgpKGRhdGFbMF0pO1xuICAgICAgICAgICAgICAgIHZhciBzdG9yYWdlS2V5cyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gPSAwOyBpdGVtIDwgZGF0YVsxXS5sZW5ndGg7IGl0ZW0rKykge1xuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlS2V5cy5wdXNoKCgwLCBldGhlcmV1bWpzX3V0aWxfMS5idWZmZXJUb0hleCkoZGF0YVsxXVtpdGVtXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIganNvbkl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VLZXlzOiBzdG9yYWdlS2V5cyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGpzb24ucHVzaChqc29uSXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBY2Nlc3NMaXN0SlNPTiA9IGpzb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIEFjY2Vzc0xpc3RKU09OOiBBY2Nlc3NMaXN0SlNPTixcbiAgICAgICAgICAgIGFjY2Vzc0xpc3Q6IGJ1ZmZlckFjY2Vzc0xpc3QsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBBY2Nlc3NMaXN0cy52ZXJpZnlBY2Nlc3NMaXN0ID0gZnVuY3Rpb24gKGFjY2Vzc0xpc3QpIHtcbiAgICAgICAgZm9yICh2YXIga2V5ID0gMDsga2V5IDwgYWNjZXNzTGlzdC5sZW5ndGg7IGtleSsrKSB7XG4gICAgICAgICAgICB2YXIgYWNjZXNzTGlzdEl0ZW0gPSBhY2Nlc3NMaXN0W2tleV07XG4gICAgICAgICAgICB2YXIgYWRkcmVzcyA9IGFjY2Vzc0xpc3RJdGVtWzBdO1xuICAgICAgICAgICAgdmFyIHN0b3JhZ2VTbG90cyA9IGFjY2Vzc0xpc3RJdGVtWzFdO1xuICAgICAgICAgICAgaWYgKGFjY2Vzc0xpc3RJdGVtWzJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjY2VzcyBsaXN0IGl0ZW0gY2Fubm90IGhhdmUgMyBlbGVtZW50cy4gSXQgY2FuIG9ubHkgaGF2ZSBhbiBhZGRyZXNzLCBhbmQgYW4gYXJyYXkgb2Ygc3RvcmFnZSBzbG90cy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZGRyZXNzLmxlbmd0aCAhPSAyMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBFSVAtMjkzMCB0cmFuc2FjdGlvbjogYWRkcmVzcyBsZW5ndGggc2hvdWxkIGJlIDIwIGJ5dGVzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBzdG9yYWdlU2xvdCA9IDA7IHN0b3JhZ2VTbG90IDwgc3RvcmFnZVNsb3RzLmxlbmd0aDsgc3RvcmFnZVNsb3QrKykge1xuICAgICAgICAgICAgICAgIGlmIChzdG9yYWdlU2xvdHNbc3RvcmFnZVNsb3RdLmxlbmd0aCAhPSAzMikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgRUlQLTI5MzAgdHJhbnNhY3Rpb246IHN0b3JhZ2Ugc2xvdCBsZW5ndGggc2hvdWxkIGJlIDMyIGJ5dGVzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBBY2Nlc3NMaXN0cy5nZXRBY2Nlc3NMaXN0SlNPTiA9IGZ1bmN0aW9uIChhY2Nlc3NMaXN0KSB7XG4gICAgICAgIHZhciBhY2Nlc3NMaXN0SlNPTiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgYWNjZXNzTGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gYWNjZXNzTGlzdFtpbmRleF07XG4gICAgICAgICAgICB2YXIgSlNPTkl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgYWRkcmVzczogJzB4JyArICgwLCBldGhlcmV1bWpzX3V0aWxfMS5zZXRMZW5ndGhMZWZ0KShpdGVtWzBdLCAyMCkudG9TdHJpbmcoJ2hleCcpLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VLZXlzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgc3RvcmFnZVNsb3RzID0gaXRlbVsxXTtcbiAgICAgICAgICAgIGZvciAodmFyIHNsb3QgPSAwOyBzbG90IDwgc3RvcmFnZVNsb3RzLmxlbmd0aDsgc2xvdCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0b3JhZ2VTbG90ID0gc3RvcmFnZVNsb3RzW3Nsb3RdO1xuICAgICAgICAgICAgICAgIEpTT05JdGVtLnN0b3JhZ2VLZXlzLnB1c2goJzB4JyArICgwLCBldGhlcmV1bWpzX3V0aWxfMS5zZXRMZW5ndGhMZWZ0KShzdG9yYWdlU2xvdCwgMzIpLnRvU3RyaW5nKCdoZXgnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2Nlc3NMaXN0SlNPTi5wdXNoKEpTT05JdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjZXNzTGlzdEpTT047XG4gICAgfTtcbiAgICBBY2Nlc3NMaXN0cy5nZXREYXRhRmVlRUlQMjkzMCA9IGZ1bmN0aW9uIChhY2Nlc3NMaXN0LCBjb21tb24pIHtcbiAgICAgICAgdmFyIGFjY2Vzc0xpc3RTdG9yYWdlS2V5Q29zdCA9IGNvbW1vbi5wYXJhbSgnZ2FzUHJpY2VzJywgJ2FjY2Vzc0xpc3RTdG9yYWdlS2V5Q29zdCcpO1xuICAgICAgICB2YXIgYWNjZXNzTGlzdEFkZHJlc3NDb3N0ID0gY29tbW9uLnBhcmFtKCdnYXNQcmljZXMnLCAnYWNjZXNzTGlzdEFkZHJlc3NDb3N0Jyk7XG4gICAgICAgIHZhciBzbG90cyA9IDA7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBhY2Nlc3NMaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBhY2Nlc3NMaXN0W2luZGV4XTtcbiAgICAgICAgICAgIHZhciBzdG9yYWdlU2xvdHMgPSBpdGVtWzFdO1xuICAgICAgICAgICAgc2xvdHMgKz0gc3RvcmFnZVNsb3RzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWRkcmVzc2VzID0gYWNjZXNzTGlzdC5sZW5ndGg7XG4gICAgICAgIHJldHVybiBhZGRyZXNzZXMgKiBhY2Nlc3NMaXN0QWRkcmVzc0Nvc3QgKyBzbG90cyAqIGFjY2Vzc0xpc3RTdG9yYWdlS2V5Q29zdDtcbiAgICB9O1xuICAgIHJldHVybiBBY2Nlc3NMaXN0cztcbn0oKSk7XG5leHBvcnRzLkFjY2Vzc0xpc3RzID0gQWNjZXNzTGlzdHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=