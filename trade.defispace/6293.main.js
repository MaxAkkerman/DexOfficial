(self.webpackChunkmy_swap=self.webpackChunkmy_swap||[]).push([[6293],{86293:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var r=n(71823),o=n(17187),i=n.n(o),s={},a={},u=function(e,t){a[e]=t},c=function(e){var t=function(t,n){Object.assign(this,n),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,s[e]=t,t};c("AccountNameRequired"),c("AccountNotSupported"),c("AmountRequired"),c("BluetoothRequired"),c("BtcUnmatchedApp"),c("CantOpenDevice"),c("CashAddrNotSupported"),c("CurrencyNotSupported"),c("DeviceAppVerifyNotSupported"),c("DeviceGenuineSocketEarlyClose"),c("DeviceNotGenuine"),c("DeviceOnDashboardExpected"),c("DeviceOnDashboardUnexpected"),c("DeviceInOSUExpected"),c("DeviceHalted"),c("DeviceNameInvalid"),c("DeviceSocketFail"),c("DeviceSocketNoBulkStatus"),c("DisconnectedDevice"),c("DisconnectedDeviceDuringOperation"),c("EnpointConfig"),c("EthAppPleaseEnableContractData"),c("FeeEstimationFailed"),c("FirmwareNotRecognized"),c("HardResetFail"),c("InvalidXRPTag"),c("InvalidAddress"),c("InvalidAddressBecauseDestinationIsAlsoSource"),c("LatestMCUInstalledError"),c("UnknownMCU"),c("LedgerAPIError"),c("LedgerAPIErrorWithMessage"),c("LedgerAPINotAvailable"),c("ManagerAppAlreadyInstalled"),c("ManagerAppRelyOnBTC"),c("ManagerAppDepInstallRequired"),c("ManagerAppDepUninstallRequired"),c("ManagerDeviceLocked"),c("ManagerFirmwareNotEnoughSpace"),c("ManagerNotEnoughSpace"),c("ManagerUninstallBTCDep"),c("NetworkDown"),c("NoAddressesFound"),c("NotEnoughBalance"),c("NotEnoughBalanceToDelegate"),c("NotEnoughBalanceInParentAccount"),c("NotEnoughSpendableBalance"),c("NotEnoughBalanceBecauseDestinationNotCreated"),c("NoAccessToCamera"),c("NotEnoughGas"),c("NotSupportedLegacyAddress"),c("GasLessThanEstimate"),c("PasswordsDontMatch"),c("PasswordIncorrect"),c("RecommendSubAccountsToEmpty"),c("RecommendUndelegation"),c("TimeoutTagged"),c("UnexpectedBootloader"),c("MCUNotGenuineToDashboard"),c("RecipientRequired"),c("UnavailableTezosOriginatedAccountReceive"),c("UnavailableTezosOriginatedAccountSend"),c("UpdateFetchFileFail"),c("UpdateIncorrectHash"),c("UpdateIncorrectSig"),c("UpdateYourApp"),c("UserRefusedDeviceNameChange"),c("UserRefusedAddress"),c("UserRefusedFirmwareUpdate"),c("UserRefusedAllowManager"),c("UserRefusedOnDevice"),c("TransportOpenUserCancelled"),c("TransportInterfaceNotAvailable");var p=c("TransportRaceCondition");function l(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}c("TransportWebUSBGestureRequired"),c("DeviceShouldStayInApp"),c("WebsocketConnectionError"),c("WebsocketConnectionFailed"),c("WrongDeviceForAccount"),c("WrongAppForCurrency"),c("ETHAddressNonEIP"),c("CantScanQRCode"),c("FeeNotLoaded"),c("FeeRequired"),c("FeeTooHigh"),c("SyncError"),c("PairingFailed"),c("GenuineCheckFailed"),c("LedgerAPI4xx"),c("LedgerAPI5xx"),c("FirmwareOrAppUpdateRequired"),c("NoDBPathGiven"),c("DBWrongPassword"),c("DBNotReset"),l.prototype=new Error,u("TransportError",(function(e){return new l(e.message,e.id)}));var d={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function f(e){this.name="TransportStatusError";var t=Object.keys(d).find((function(t){return d[t]===e}))||"UNKNOWN_ERROR",n=function(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}(e)||t,r=e.toString(16);this.message="Ledger device: "+n+" (0x"+r+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}f.prototype=new Error,u("TransportStatusError",(function(e){return new f(e.statusCode)}));class h{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new(i()),this.send=async(e,t,n,r,o=Buffer.alloc(0),i=[d.OK])=>{if(o.length>=256)throw new l("data.length exceed 256 bytes limit. Got: "+o.length,"DataLengthTooBig");const s=await this.exchange(Buffer.concat([Buffer.from([e,t,n,r]),Buffer.from([o.length]),o])),a=s.readUInt16BE(s.length-2);if(!i.some((e=>e===a)))throw new f(a);return s},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async e=>{if(this.exchangeBusyPromise)throw new p("An action was already pending on the Ledger device. Please deny or reconnect.");let t;const n=new Promise((e=>{t=e}));this.exchangeBusyPromise=n;let r=!1;const o=setTimeout((()=>{r=!0,this.emit("unresponsive")}),this.unresponsiveTimeout);try{const n=await e();return r&&this.emit("responsive"),n}finally{clearTimeout(o),t&&t(),this.exchangeBusyPromise=null}},this._appAPIlock=null}exchange(e){throw new Error("exchange not implemented")}setScrambleKey(e){}close(){return Promise.resolve()}on(e,t){this._events.on(e,t)}off(e,t){this._events.removeListener(e,t)}emit(e,...t){this._events.emit(e,...t)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(e){this.exchangeTimeout=e}setExchangeUnresponsiveTimeout(e){this.unresponsiveTimeout=e}static create(e=3e3,t){return new Promise(((n,r)=>{let o=!1;const i=this.listen({next:t=>{o=!0,i&&i.unsubscribe(),s&&clearTimeout(s),this.open(t.descriptor,e).then(n,r)},error:e=>{s&&clearTimeout(s),r(e)},complete:()=>{s&&clearTimeout(s),o||r(new l(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),s=t?setTimeout((()=>{i.unsubscribe(),r(new l(this.ErrorMessage_ListenTimeout,"ListenTimeout"))}),t):null}))}decorateAppAPIMethods(e,t,n){for(let r of t)e[r]=this.decorateAppAPIMethod(r,e[r],e,n)}decorateAppAPIMethod(e,t,n,r){return async(...o)=>{const{_appAPIlock:i}=this;if(i)return Promise.reject(new l("Ledger Device is busy (lock "+i+")","TransportLocked"));try{return this._appAPIlock=e,this.setScrambleKey(r),await t.apply(n,o)}finally{this._appAPIlock=null}}}}h.isSupported=void 0,h.list=void 0,h.listen=void 0,h.open=void 0,h.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",h.ErrorMessage_NoDeviceFound="No Ledger device found";let g=0;const v=[],m=(e,t,n)=>{const r={type:e,id:String(++g),date:new Date};t&&(r.message=t),n&&(r.data=n),function(e){for(let t=0;t<v.length;t++)try{v[t](e)}catch(e){console.error(e)}}(r)};"undefined"!=typeof window&&(window.__ledgerLogsListen=e=>(v.push(e),()=>{const t=v.indexOf(e);-1!==t&&(v[t]=v[v.length-1],v.pop())}));const E=e=>e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");let _=[];class T extends h{static async open(e,t=5e3){return new T}constructor(){super(),this.scrambleKey=void 0,this.unwrap=!0,_.push(this)}async exchange(e){try{return await function(e,t,n,o){const i=function(e,t){const n=Buffer.alloc(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r%t.length];return n}(e,n),s=Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),a={version:"U2F_V2",keyHandle:E(i.toString("base64")),challenge:E(s.toString("base64")),appId:location.origin};return m("apdu","=> "+e.toString("hex")),(0,r.sign)(a,t/1e3).then((e=>{const{signatureData:t}=e;if("string"==typeof t){const e=Buffer.from((n=t).replace(/-/g,"+").replace(/_/g,"/")+"==".substring(0,3*n.length%4),"base64");let r;return r=o?e.slice(5):e,m("apdu","<= "+r.toString("hex")),r}throw e;var n}))}(e,this.exchangeTimeout,this.scrambleKey,this.unwrap)}catch(e){throw"object"==typeof e.metaData?(5===e.metaData.code&&(_.forEach((e=>e.emit("disconnect"))),_=[]),function(e,t,n){const r=new l(t,n);return r.originalError=e,r}(e,"Failed to sign with Ledger device: U2F "+e.metaData.type,"U2F_"+e.metaData.code)):e}}setScrambleKey(e){this.scrambleKey=Buffer.from(e,"ascii")}setUnwrap(e){this.unwrap=e}close(){return Promise.resolve()}}T.isSupported=r.isSupported,T.list=()=>(0,r.isSupported)().then((e=>e?[null]:[])),T.listen=e=>{let t=!1;return(0,r.isSupported)().then((n=>{t||(n?(e.next({type:"add",descriptor:null}),e.complete()):e.error(new l("U2F browser support is needed for Ledger. Please use Chrome, Opera or Firefox with a U2F extension. Also make sure you're on an HTTPS connection","U2FNotSupported")))})),{unsubscribe:()=>{t=!0}}}},17187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,i,s,c;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=u(e))>0&&s.length>o&&!s.warned){s.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=t,p.count=s.length,c=p,console&&console.warn&&console.warn(c)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=p.bind(r);return o.listener=n,r.wrapFn=o,o}function d(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,p=h(u,c);for(n=0;n<c;++n)r(p[n],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},i.prototype.listenerCount=f,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},71823:(e,t,n)=>{"use strict";e.exports=n(49145)},63845:e=>{"use strict";var t=t||{};e.exports=t,t.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",t.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_RESPONSE:"u2f_sign_response"},t.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},t.Request,t.Response,t.Error,t.SignRequest,t.SignResponse,t.RegisterRequest,t.RegisterResponse,t.disconnect=function(){t.port_&&t.port_.port_&&(t.port_.port_.disconnect(),t.port_=null)},t.getMessagePort=function(e){if("undefined"!=typeof chrome&&chrome.runtime){var n={type:t.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]};chrome.runtime.sendMessage(t.EXTENSION_ID,n,(function(){chrome.runtime.lastError?t.getIframePort_(e):t.getChromeRuntimePort_(e)}))}else t.getIframePort_(e)},t.getChromeRuntimePort_=function(e){var n=chrome.runtime.connect(t.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout((function(){e(null,new t.WrappedChromeRuntimePort_(n))}),0)},t.WrappedChromeRuntimePort_=function(e){this.port_=e},t.WrappedChromeRuntimePort_.prototype.postMessage=function(e){this.port_.postMessage(e)},t.WrappedChromeRuntimePort_.prototype.addEventListener=function(e,t){var n=e.toLowerCase();"message"==n||"onmessage"==n?this.port_.onMessage.addListener((function(e){t({data:e})})):console.error("WrappedChromeRuntimePort only supports onMessage")},t.getIframePort_=function(e){var n="chrome-extension://"+t.EXTENSION_ID,r=document.createElement("iframe");r.src=n+"/u2f-comms.html",r.setAttribute("style","display:none"),document.body.appendChild(r);var o=!1,i=new MessageChannel,s=function(t){"ready"==t.data?(i.port1.removeEventListener("message",s),o||(o=!0,e(null,i.port1))):console.error('First event on iframe port was not "ready"')};i.port1.addEventListener("message",s),i.port1.start(),r.addEventListener("load",(function(){r.contentWindow.postMessage("init",n,[i.port2])})),setTimeout((function(){o||(o=!0,e(new Error("IFrame extension not supported")))}),200)},t.EXTENSION_TIMEOUT_SEC=30,t.port_=null,t.waitingForPort_=[],t.reqCounter_=0,t.callbackMap_={},t.getPortSingleton_=function(e){t.port_?e(null,t.port_):(0==t.waitingForPort_.length&&t.getMessagePort((function(e,n){for(e||(t.port_=n,t.port_.addEventListener("message",t.responseHandler_));t.waitingForPort_.length;)t.waitingForPort_.shift()(e,n)})),t.waitingForPort_.push(e))},t.responseHandler_=function(e){var n=e.data,r=n.requestId;if(r&&t.callbackMap_[r]){var o=t.callbackMap_[r];delete t.callbackMap_[r],o(null,n.responseData)}else console.error("Unknown or missing requestId in response.")},t.isSupported=function(e){t.getPortSingleton_((function(t,n){e(!t)}))},t.sign=function(e,n,r){t.getPortSingleton_((function(o,i){if(o)return n(o);var s=++t.reqCounter_;t.callbackMap_[s]=n;var a={type:t.MessageTypes.U2F_SIGN_REQUEST,signRequests:e,timeoutSeconds:void 0!==r?r:t.EXTENSION_TIMEOUT_SEC,requestId:s};i.postMessage(a)}))},t.register=function(e,n,r,o){t.getPortSingleton_((function(i,s){if(i)return r(i);var a=++t.reqCounter_;t.callbackMap_[a]=r;var u={type:t.MessageTypes.U2F_REGISTER_REQUEST,signRequests:n,registerRequests:e,timeoutSeconds:void 0!==o?o:t.EXTENSION_TIMEOUT_SEC,requestId:a};s.postMessage(u)}))}},49145:(e,t,n)=>{"use strict";e.exports=c;var r=n(63845),o="undefined"!=typeof navigator&&!!navigator.userAgent,i=o&&navigator.userAgent.match(/Safari\//)&&!navigator.userAgent.match(/Chrome\//),s=o&&navigator.userAgent.match(/Edge\/1[2345]/),a=null;function u(e){return a||(a=new e((function(e,t){function n(){e({u2f:null,native:!0})}return o?i?n():(void 0!==window.u2f&&"function"==typeof window.u2f.sign&&e({u2f:window.u2f,native:!0}),s||"http:"===location.protocol||"undefined"==typeof MessageChannel?n():void r.isSupported((function(t){t?e({u2f:r,native:!1}):n()}))):n()}))),a}function c(e){return{isSupported:d.bind(e),ensureSupport:h.bind(e),register:g.bind(e),sign:v.bind(e),ErrorCodes:c.ErrorCodes,ErrorNames:c.ErrorNames}}function p(e,t){var n=null!=t?t.errorCode:1,r=c.ErrorNames[""+n],o=new Error(e);return o.metaData={type:r,code:n},o}function l(e,t){var n={};return n.promise=new e((function(e,r){n.resolve=e,n.reject=r,t.then(e,r)})),n.promise.cancel=function(t,r){u(e).then((function(e){r&&!e.native&&e.u2f.disconnect(),n.reject(p(t,{errorCode:-1}))}))},n}function d(){return u(this).then((function(e){return!!e.u2f}))}function f(e){if(!e.u2f){if("http:"===location.protocol)throw new Error("U2F isn't supported over http, only https");throw new Error("U2F not supported")}}function h(){return u(this).then(f)}function g(e,t,n){var r=this;return Array.isArray(e)||(e=[e]),"number"==typeof t&&void 0===n&&(n=t,t=null),t||(t=[]),l(r,u(r).then((function(o){f(o);var i=o.native,s=o.u2f;return new r((function(r,o){if(i){var a=e[0].appId;s.register(a,e,t,(function(e){e.errorCode?o(p("Registration failed",e)):(delete e.errorCode,r(e))}),n)}else s.register(e,t,(function(e,t){e?o(e):t.errorCode?o(p("Registration failed",t)):r(t)}),n)}))}))).promise}function v(e,t){var n=this;return Array.isArray(e)||(e=[e]),l(n,u(n).then((function(r){f(r);var o=r.native,i=r.u2f;return new n((function(n,r){if(o){var s=e[0].appId,a=e[0].challenge;i.sign(s,a,e,(function(e){e.errorCode?r(p("Sign failed",e)):(delete e.errorCode,n(e))}),t)}else i.sign(e,(function(e,t){e?r(e):t.errorCode?r(p("Sign failed",t)):n(t)}),t)}))}))).promise}function m(e){c[e]=function(){if(!n.g.Promise)throw new Error("The platform doesn't natively support promises");var t=[].slice.call(arguments);return c(n.g.Promise)[e].apply(null,t)}}c.ErrorCodes={CANCELLED:-1,OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},c.ErrorNames={"-1":"CANCELLED",0:"OK",1:"OTHER_ERROR",2:"BAD_REQUEST",3:"CONFIGURATION_UNSUPPORTED",4:"DEVICE_INELIGIBLE",5:"TIMEOUT"},m("isSupported"),m("ensureSupport"),m("register"),m("sign")}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL0BsZWRnZXJocS9ody10cmFuc3BvcnQtdTJmL25vZGVfbW9kdWxlcy9AbGVkZ2VyaHEvZXJyb3JzL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9AbGVkZ2VyaHEvaHctdHJhbnNwb3J0LXUyZi9ub2RlX21vZHVsZXMvQGxlZGdlcmhxL2h3LXRyYW5zcG9ydC9saWItZXMvVHJhbnNwb3J0LmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvQGxlZGdlcmhxL2h3LXRyYW5zcG9ydC11MmYvbm9kZV9tb2R1bGVzL0BsZWRnZXJocS9sb2dzL2xpYi1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL0BsZWRnZXJocS9ody10cmFuc3BvcnQtdTJmL2xpYi1lcy9UcmFuc3BvcnRVMkYuanMiLCJ3ZWJwYWNrOi8vbXktc3dhcC8uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvdTJmLWFwaS9pbmRleC5qcyIsIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL3UyZi1hcGkvbGliL2dvb2dsZS11MmYtYXBpLmpzIiwid2VicGFjazovL215LXN3YXAvLi9ub2RlX21vZHVsZXMvdTJmLWFwaS9saWIvdTJmLWFwaS5qcyJdLCJuYW1lcyI6WyJlcnJvckNsYXNzZXMiLCJkZXNlcmlhbGl6ZXJzIiwiYWRkQ3VzdG9tRXJyb3JEZXNlcmlhbGl6ZXIiLCJuYW1lIiwiZGVzZXJpYWxpemVyIiwiY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyIsIkMiLCJtZXNzYWdlIiwiZmllbGRzIiwiT2JqZWN0IiwiYXNzaWduIiwidGhpcyIsInN0YWNrIiwiRXJyb3IiLCJwcm90b3R5cGUiLCJUcmFuc3BvcnRSYWNlQ29uZGl0aW9uIiwiVHJhbnNwb3J0RXJyb3IiLCJpZCIsImUiLCJTdGF0dXNDb2RlcyIsIlBJTl9SRU1BSU5JTkdfQVRURU1QVFMiLCJJTkNPUlJFQ1RfTEVOR1RIIiwiTUlTU0lOR19DUklUSUNBTF9QQVJBTUVURVIiLCJDT01NQU5EX0lOQ09NUEFUSUJMRV9GSUxFX1NUUlVDVFVSRSIsIlNFQ1VSSVRZX1NUQVRVU19OT1RfU0FUSVNGSUVEIiwiQ09ORElUSU9OU19PRl9VU0VfTk9UX1NBVElTRklFRCIsIklOQ09SUkVDVF9EQVRBIiwiTk9UX0VOT1VHSF9NRU1PUllfU1BBQ0UiLCJSRUZFUkVOQ0VEX0RBVEFfTk9UX0ZPVU5EIiwiRklMRV9BTFJFQURZX0VYSVNUUyIsIklOQ09SUkVDVF9QMV9QMiIsIklOU19OT1RfU1VQUE9SVEVEIiwiQ0xBX05PVF9TVVBQT1JURUQiLCJURUNITklDQUxfUFJPQkxFTSIsIk9LIiwiTUVNT1JZX1BST0JMRU0iLCJOT19FRl9TRUxFQ1RFRCIsIklOVkFMSURfT0ZGU0VUIiwiRklMRV9OT1RfRk9VTkQiLCJJTkNPTlNJU1RFTlRfRklMRSIsIkFMR09SSVRITV9OT1RfU1VQUE9SVEVEIiwiSU5WQUxJRF9LQ1YiLCJDT0RFX05PVF9JTklUSUFMSVpFRCIsIkFDQ0VTU19DT05ESVRJT05fTk9UX0ZVTEZJTExFRCIsIkNPTlRSQURJQ1RJT05fU0VDUkVUX0NPREVfU1RBVFVTIiwiQ09OVFJBRElDVElPTl9JTlZBTElEQVRJT04iLCJDT0RFX0JMT0NLRUQiLCJNQVhfVkFMVUVfUkVBQ0hFRCIsIkdQX0FVVEhfRkFJTEVEIiwiTElDRU5TSU5HIiwiSEFMVEVEIiwiVHJhbnNwb3J0U3RhdHVzRXJyb3IiLCJzdGF0dXNDb2RlIiwic3RhdHVzVGV4dCIsImtleXMiLCJmaW5kIiwiayIsInNtc2ciLCJjb2RlIiwiZ2V0QWx0U3RhdHVzTWVzc2FnZSIsInN0YXR1c0NvZGVTdHIiLCJ0b1N0cmluZyIsIlRyYW5zcG9ydCIsImV4Y2hhbmdlVGltZW91dCIsInVucmVzcG9uc2l2ZVRpbWVvdXQiLCJkZXZpY2VNb2RlbCIsIl9ldmVudHMiLCJzZW5kIiwiYXN5bmMiLCJjbGEiLCJpbnMiLCJwMSIsInAyIiwiZGF0YSIsIkJ1ZmZlciIsImFsbG9jIiwic3RhdHVzTGlzdCIsImxlbmd0aCIsInJlc3BvbnNlIiwiZXhjaGFuZ2UiLCJjb25jYXQiLCJmcm9tIiwic3ciLCJyZWFkVUludDE2QkUiLCJzb21lIiwicyIsImV4Y2hhbmdlQnVzeVByb21pc2UiLCJleGNoYW5nZUF0b21pY0ltcGwiLCJyZXNvbHZlQnVzeSIsImJ1c3lQcm9taXNlIiwiUHJvbWlzZSIsInIiLCJ1bnJlc3BvbnNpdmVSZWFjaGVkIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJlbWl0IiwicmVzIiwiZiIsImNsZWFyVGltZW91dCIsIl9hcHBBUElsb2NrIiwiX2FwZHUiLCJfa2V5IiwicmVzb2x2ZSIsImV2ZW50TmFtZSIsImNiIiwib24iLCJyZW1vdmVMaXN0ZW5lciIsImV2ZW50IiwiYXJncyIsImNvbnNvbGUiLCJ3YXJuIiwib3BlblRpbWVvdXQiLCJsaXN0ZW5UaW1lb3V0IiwicmVqZWN0IiwiZm91bmQiLCJzdWIiLCJsaXN0ZW4iLCJuZXh0IiwidW5zdWJzY3JpYmUiLCJsaXN0ZW5UaW1lb3V0SWQiLCJvcGVuIiwiZGVzY3JpcHRvciIsInRoZW4iLCJlcnJvciIsImNvbXBsZXRlIiwiRXJyb3JNZXNzYWdlX05vRGV2aWNlRm91bmQiLCJFcnJvck1lc3NhZ2VfTGlzdGVuVGltZW91dCIsInNlbGYiLCJtZXRob2RzIiwic2NyYW1ibGVLZXkiLCJtZXRob2ROYW1lIiwiZGVjb3JhdGVBcHBBUElNZXRob2QiLCJjdHgiLCJzZXRTY3JhbWJsZUtleSIsImFwcGx5IiwiaXNTdXBwb3J0ZWQiLCJsaXN0Iiwic3Vic2NyaWJlcnMiLCJsb2ciLCJ0eXBlIiwib2JqIiwiU3RyaW5nIiwiZGF0ZSIsIkRhdGUiLCJpIiwiZGlzcGF0Y2giLCJ3aW5kb3ciLCJfX2xlZGdlckxvZ3NMaXN0ZW4iLCJwdXNoIiwiaW5kZXhPZiIsInBvcCIsIndlYlNhZmU2NCIsImJhc2U2NCIsInJlcGxhY2UiLCJ0cmFuc3BvcnRJbnN0YW5jZXMiLCJUcmFuc3BvcnRVMkYiLCJfIiwiX29wZW5UaW1lb3V0Iiwic3VwZXIiLCJ1bndyYXAiLCJhcGR1IiwidGltZW91dE1pbGxpcyIsImtleUhhbmRsZSIsImtleSIsInJlc3VsdCIsIndyYXBBcGR1IiwiY2hhbGxlbmdlIiwic2lnblJlcXVlc3QiLCJ2ZXJzaW9uIiwiYXBwSWQiLCJsb2NhdGlvbiIsIm9yaWdpbiIsInNpZ24iLCJzaWduYXR1cmVEYXRhIiwic3Vic3RyaW5nIiwic2xpY2UiLCJhdHRlbXB0RXhjaGFuZ2UiLCJtZXRhRGF0YSIsImZvckVhY2giLCJ0Iiwib3JpZ2luYWxFcnJvciIsImVyciIsIndyYXBVMkZUcmFuc3BvcnRFcnJvciIsInN1cHBvcnRlZCIsIm9ic2VydmVyIiwidW5zdWJzY3JpYmVkIiwiUmVmbGVjdE93bktleXMiLCJSIiwiUmVmbGVjdCIsIlJlZmxlY3RBcHBseSIsInRhcmdldCIsInJlY2VpdmVyIiwiRnVuY3Rpb24iLCJjYWxsIiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5TmFtZXMiLCJOdW1iZXJJc05hTiIsIk51bWJlciIsImlzTmFOIiwidmFsdWUiLCJFdmVudEVtaXR0ZXIiLCJpbml0IiwibW9kdWxlIiwiZXhwb3J0cyIsIm9uY2UiLCJlbWl0dGVyIiwiZXJyb3JMaXN0ZW5lciIsInJlc29sdmVyIiwiYXJndW1lbnRzIiwiZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyIiwiaGFuZGxlciIsImZsYWdzIiwiYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIiLCJ1bmRlZmluZWQiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsImNoZWNrTGlzdGVuZXIiLCJsaXN0ZW5lciIsIlR5cGVFcnJvciIsIl9nZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwiX2FkZExpc3RlbmVyIiwicHJlcGVuZCIsIm0iLCJldmVudHMiLCJleGlzdGluZyIsIndhcm5pbmciLCJjcmVhdGUiLCJuZXdMaXN0ZW5lciIsInVuc2hpZnQiLCJ3YXJuZWQiLCJ3IiwiY291bnQiLCJvbmNlV3JhcHBlciIsImZpcmVkIiwid3JhcEZuIiwiX29uY2VXcmFwIiwic3RhdGUiLCJ3cmFwcGVkIiwiYmluZCIsIl9saXN0ZW5lcnMiLCJldmxpc3RlbmVyIiwiYXJyIiwicmV0IiwiQXJyYXkiLCJ1bndyYXBMaXN0ZW5lcnMiLCJhcnJheUNsb25lIiwibGlzdGVuZXJDb3VudCIsIm4iLCJjb3B5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndyYXBMaXN0ZW5lciIsImFyZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJSYW5nZUVycm9yIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRNYXhMaXN0ZW5lcnMiLCJnZXRNYXhMaXN0ZW5lcnMiLCJkb0Vycm9yIiwiZXIiLCJjb250ZXh0IiwibGVuIiwibGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwicG9zaXRpb24iLCJvcmlnaW5hbExpc3RlbmVyIiwic2hpZnQiLCJpbmRleCIsInNwbGljZU9uZSIsIm9mZiIsInJlbW92ZUFsbExpc3RlbmVycyIsInJhd0xpc3RlbmVycyIsImV2ZW50TmFtZXMiLCJ1MmYiLCJFWFRFTlNJT05fSUQiLCJNZXNzYWdlVHlwZXMiLCJFcnJvckNvZGVzIiwiUmVxdWVzdCIsIlJlc3BvbnNlIiwiU2lnblJlcXVlc3QiLCJTaWduUmVzcG9uc2UiLCJSZWdpc3RlclJlcXVlc3QiLCJSZWdpc3RlclJlc3BvbnNlIiwiZGlzY29ubmVjdCIsInBvcnRfIiwiZ2V0TWVzc2FnZVBvcnQiLCJjYWxsYmFjayIsImNocm9tZSIsInJ1bnRpbWUiLCJtc2ciLCJVMkZfU0lHTl9SRVFVRVNUIiwic2lnblJlcXVlc3RzIiwic2VuZE1lc3NhZ2UiLCJsYXN0RXJyb3IiLCJnZXRJZnJhbWVQb3J0XyIsImdldENocm9tZVJ1bnRpbWVQb3J0XyIsInBvcnQiLCJjb25uZWN0IiwiV3JhcHBlZENocm9tZVJ1bnRpbWVQb3J0XyIsInBvc3RNZXNzYWdlIiwidG9Mb3dlckNhc2UiLCJvbk1lc3NhZ2UiLCJpZnJhbWVPcmlnaW4iLCJpZnJhbWUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJzZXRBdHRyaWJ1dGUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJoYXNDYWxsZWRCYWNrIiwiY2hhbm5lbCIsIk1lc3NhZ2VDaGFubmVsIiwicmVhZHkiLCJwb3J0MSIsInN0YXJ0IiwiY29udGVudFdpbmRvdyIsInBvcnQyIiwiRVhURU5TSU9OX1RJTUVPVVRfU0VDIiwid2FpdGluZ0ZvclBvcnRfIiwicmVxQ291bnRlcl8iLCJjYWxsYmFja01hcF8iLCJnZXRQb3J0U2luZ2xldG9uXyIsInJlc3BvbnNlSGFuZGxlcl8iLCJyZXFJZCIsIm9wdF90aW1lb3V0U2Vjb25kcyIsInJlcSIsInRpbWVvdXRTZWNvbmRzIiwicmVxdWVzdElkIiwicmVnaXN0ZXIiLCJyZWdpc3RlclJlcXVlc3RzIiwiVTJGX1JFR0lTVEVSX1JFUVVFU1QiLCJBUEkiLCJjaHJvbWVBcGkiLCJpc0Jyb3dzZXIiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpc1NhZmFyaSIsIm1hdGNoIiwiaXNFREdFIiwiX2JhY2tlbmQiLCJnZXRCYWNrZW5kIiwibm90U3VwcG9ydGVkIiwibmF0aXZlIiwicHJvdG9jb2wiLCJvayIsImVuc3VyZVN1cHBvcnQiLCJFcnJvck5hbWVzIiwibWFrZUVycm9yIiwiZXJyb3JDb2RlIiwiZGVmZXJQcm9taXNlIiwicHJvbWlzZSIsImNhbmNlbCIsImJhY2tlbmQiLCJfZW5zdXJlU3VwcG9ydCIsImlzQXJyYXkiLCJtYWtlRGVmYXVsdCIsImZ1bmMiLCJnIiwiQ0FOQ0VMTEVEIiwiT1RIRVJfRVJST1IiLCJCQURfUkVRVUVTVCIsIkNPTkZJR1VSQVRJT05fVU5TVVBQT1JURUQiLCJE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Y0FBZXRSLElBRWxDd0IsRUFBU3hCLEtBWXdCZSxVQUcvQjBRLFFBR1AsU0FBU0ssRUFBYUMsR0FFckJ6QixFQUFLeUIsR0FBUyxXQUViLElBQU0sRUFBQUMsRUFBT3BSLFFBR1osTUFBTSxJQUFJN0UsTUFBTyxrREFFbEIsSUFBSStGLEVBQU8sR0FBSW1FLE1BQU1rQixLQUFNZ0IsV0FDM0IsT0FBT21JLEVBQUssRUFBQTBCLEVBQU9wUixTQUFXbVIsR0FBT3ZPLE1BQU8sS0FBTTFCLElBcE9wRHdPLEVBQUl4RCxXQUFhLENBQ2hCbUYsV0FBWSxFQUNaN1UsR0FBSSxFQUNKOFUsWUFBYSxFQUNiQyxZQUFhLEVBQ2JDLDBCQUEyQixFQUMzQkMsa0JBQW1CLEVBQ25CQyxRQUFTLEdBRVZoQyxFQUFJZSxXQUFhLENBQ2hCLEtBQU0sWUFDTixFQUFLLEtBQ0wsRUFBSyxjQUNMLEVBQUssY0FDTCxFQUFLLDRCQUNMLEVBQUssb0JBQ0wsRUFBSyxXQXlOTlMsRUFBYSxlQUNiQSxFQUFhLGlCQUNiQSxFQUFhLFlBQ2JBLEVBQWEiLCJmaWxlIjoiNjI5My5tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tY29udGludWUgKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zICovXHJcbnZhciBlcnJvckNsYXNzZXMgPSB7fTtcclxudmFyIGRlc2VyaWFsaXplcnMgPSB7fTtcclxudmFyIGFkZEN1c3RvbUVycm9yRGVzZXJpYWxpemVyID0gZnVuY3Rpb24gKG5hbWUsIGRlc2VyaWFsaXplcikge1xyXG4gICAgZGVzZXJpYWxpemVyc1tuYW1lXSA9IGRlc2VyaWFsaXplcjtcclxufTtcclxudmFyIGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgdmFyIEMgPSBmdW5jdGlvbiBDdXN0b21FcnJvcihtZXNzYWdlLCBmaWVsZHMpIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGZpZWxkcyk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlIHx8IG5hbWU7XHJcbiAgICAgICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xyXG4gICAgfTtcclxuICAgIEMucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XHJcbiAgICBlcnJvckNsYXNzZXNbbmFtZV0gPSBDO1xyXG4gICAgcmV0dXJuIEM7XHJcbn07XHJcbi8vIGluc3BpcmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Byb2dyYW1ibGUvZXJyaW8vYmxvYi9tYXN0ZXIvaW5kZXguanNcclxudmFyIGRlc2VyaWFsaXplRXJyb3IgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICBpZiAodHlwZW9mIG9iamVjdCA9PT0gXCJvYmplY3RcIiAmJiBvYmplY3QpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lIEZJWE1FIEhBQ0tcclxuICAgICAgICAgICAgdmFyIG1zZyA9IEpTT04ucGFyc2Uob2JqZWN0Lm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBpZiAobXNnLm1lc3NhZ2UgJiYgbXNnLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IG1zZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBub3RoaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlcnJvciA9IHZvaWQgMDtcclxuICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5uYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lXzEgPSBvYmplY3QubmFtZTtcclxuICAgICAgICAgICAgdmFyIGRlcyA9IGRlc2VyaWFsaXplcnNbbmFtZV8xXTtcclxuICAgICAgICAgICAgaWYgKGRlcykge1xyXG4gICAgICAgICAgICAgICAgZXJyb3IgPSBkZXMob2JqZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IG5hbWVfMSA9PT0gXCJFcnJvclwiID8gRXJyb3IgOiBlcnJvckNsYXNzZXNbbmFtZV8xXTtcclxuICAgICAgICAgICAgICAgIGlmICghY29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJkZXNlcmlhbGl6aW5nIGFuIHVua25vd24gY2xhc3MgJ1wiICsgbmFtZV8xICsgXCInXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhuYW1lXzEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXJyb3IgPSBPYmplY3QuY3JlYXRlKGNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yW3Byb3BdID0gb2JqZWN0W3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzb21ldGltZXMgc2V0dGluZyBhIHByb3BlcnR5IGNhbiBmYWlsIChlLmcuIC5uYW1lKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihvYmplY3QubWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZXJyb3Iuc3RhY2sgJiYgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcclxuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyb3IsIGRlc2VyaWFsaXplRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IEVycm9yKFN0cmluZyhvYmplY3QpKTtcclxufTtcclxuLy8gaW5zcGlyZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3NlcmlhbGl6ZS1lcnJvci9ibG9iL21hc3Rlci9pbmRleC5qc1xyXG52YXIgc2VyaWFsaXplRXJyb3IgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgIGlmICghdmFsdWUpXHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgIHJldHVybiBkZXN0cm95Q2lyY3VsYXIodmFsdWUsIFtdKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIHJldHVybiBcIltGdW5jdGlvbjogXCIgKyAodmFsdWUubmFtZSB8fCBcImFub255bW91c1wiKSArIFwiXVwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59O1xyXG4vLyBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9kZXN0cm95LWNpcmN1bGFyXHJcbmZ1bmN0aW9uIGRlc3Ryb3lDaXJjdWxhcihmcm9tLCBzZWVuKSB7XHJcbiAgICB2YXIgdG8gPSB7fTtcclxuICAgIHNlZW4ucHVzaChmcm9tKTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhmcm9tKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIga2V5ID0gX2FbX2ldO1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZyb21ba2V5XTtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIHRvW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWVuLmluZGV4T2YoZnJvbVtrZXldKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdG9ba2V5XSA9IGRlc3Ryb3lDaXJjdWxhcihmcm9tW2tleV0sIHNlZW4uc2xpY2UoMCkpO1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdG9ba2V5XSA9IFwiW0NpcmN1bGFyXVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBmcm9tLm5hbWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICB0by5uYW1lID0gZnJvbS5uYW1lO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBmcm9tLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICB0by5tZXNzYWdlID0gZnJvbS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBmcm9tLnN0YWNrID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgdG8uc3RhY2sgPSBmcm9tLnN0YWNrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvO1xyXG59XG5cbnZhciBBY2NvdW50TmFtZVJlcXVpcmVkRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiQWNjb3VudE5hbWVSZXF1aXJlZFwiKTtcclxudmFyIEFjY291bnROb3RTdXBwb3J0ZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiQWNjb3VudE5vdFN1cHBvcnRlZFwiKTtcclxudmFyIEFtb3VudFJlcXVpcmVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkFtb3VudFJlcXVpcmVkXCIpO1xyXG52YXIgQmx1ZXRvb3RoUmVxdWlyZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiQmx1ZXRvb3RoUmVxdWlyZWRcIik7XHJcbnZhciBCdGNVbm1hdGNoZWRBcHAgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiQnRjVW5tYXRjaGVkQXBwXCIpO1xyXG52YXIgQ2FudE9wZW5EZXZpY2UgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiQ2FudE9wZW5EZXZpY2VcIik7XHJcbnZhciBDYXNoQWRkck5vdFN1cHBvcnRlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJDYXNoQWRkck5vdFN1cHBvcnRlZFwiKTtcclxudmFyIEN1cnJlbmN5Tm90U3VwcG9ydGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkN1cnJlbmN5Tm90U3VwcG9ydGVkXCIpO1xyXG52YXIgRGV2aWNlQXBwVmVyaWZ5Tm90U3VwcG9ydGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZUFwcFZlcmlmeU5vdFN1cHBvcnRlZFwiKTtcclxudmFyIERldmljZUdlbnVpbmVTb2NrZXRFYXJseUNsb3NlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZUdlbnVpbmVTb2NrZXRFYXJseUNsb3NlXCIpO1xyXG52YXIgRGV2aWNlTm90R2VudWluZUVycm9yID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZU5vdEdlbnVpbmVcIik7XHJcbnZhciBEZXZpY2VPbkRhc2hib2FyZEV4cGVjdGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZU9uRGFzaGJvYXJkRXhwZWN0ZWRcIik7XHJcbnZhciBEZXZpY2VPbkRhc2hib2FyZFVuZXhwZWN0ZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRGV2aWNlT25EYXNoYm9hcmRVbmV4cGVjdGVkXCIpO1xyXG52YXIgRGV2aWNlSW5PU1VFeHBlY3RlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJEZXZpY2VJbk9TVUV4cGVjdGVkXCIpO1xyXG52YXIgRGV2aWNlSGFsdGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZUhhbHRlZFwiKTtcclxudmFyIERldmljZU5hbWVJbnZhbGlkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZU5hbWVJbnZhbGlkXCIpO1xyXG52YXIgRGV2aWNlU29ja2V0RmFpbCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJEZXZpY2VTb2NrZXRGYWlsXCIpO1xyXG52YXIgRGV2aWNlU29ja2V0Tm9CdWxrU3RhdHVzID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZVNvY2tldE5vQnVsa1N0YXR1c1wiKTtcclxudmFyIERpc2Nvbm5lY3RlZERldmljZSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJEaXNjb25uZWN0ZWREZXZpY2VcIik7XHJcbnZhciBEaXNjb25uZWN0ZWREZXZpY2VEdXJpbmdPcGVyYXRpb24gPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRGlzY29ubmVjdGVkRGV2aWNlRHVyaW5nT3BlcmF0aW9uXCIpO1xyXG52YXIgRW5wb2ludENvbmZpZ0Vycm9yID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkVucG9pbnRDb25maWdcIik7XHJcbnZhciBFdGhBcHBQbGVhc2VFbmFibGVDb250cmFjdERhdGEgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRXRoQXBwUGxlYXNlRW5hYmxlQ29udHJhY3REYXRhXCIpO1xyXG52YXIgRmVlRXN0aW1hdGlvbkZhaWxlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJGZWVFc3RpbWF0aW9uRmFpbGVkXCIpO1xyXG52YXIgRmlybXdhcmVOb3RSZWNvZ25pemVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkZpcm13YXJlTm90UmVjb2duaXplZFwiKTtcclxudmFyIEhhcmRSZXNldEZhaWwgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiSGFyZFJlc2V0RmFpbFwiKTtcclxudmFyIEludmFsaWRYUlBUYWcgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiSW52YWxpZFhSUFRhZ1wiKTtcclxudmFyIEludmFsaWRBZGRyZXNzID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkludmFsaWRBZGRyZXNzXCIpO1xyXG52YXIgSW52YWxpZEFkZHJlc3NCZWNhdXNlRGVzdGluYXRpb25Jc0Fsc29Tb3VyY2UgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiSW52YWxpZEFkZHJlc3NCZWNhdXNlRGVzdGluYXRpb25Jc0Fsc29Tb3VyY2VcIik7XHJcbnZhciBMYXRlc3RNQ1VJbnN0YWxsZWRFcnJvciA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJMYXRlc3RNQ1VJbnN0YWxsZWRFcnJvclwiKTtcclxudmFyIFVua25vd25NQ1UgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiVW5rbm93bk1DVVwiKTtcclxudmFyIExlZGdlckFQSUVycm9yID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkxlZGdlckFQSUVycm9yXCIpO1xyXG52YXIgTGVkZ2VyQVBJRXJyb3JXaXRoTWVzc2FnZSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJMZWRnZXJBUElFcnJvcldpdGhNZXNzYWdlXCIpO1xyXG52YXIgTGVkZ2VyQVBJTm90QXZhaWxhYmxlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkxlZGdlckFQSU5vdEF2YWlsYWJsZVwiKTtcclxudmFyIE1hbmFnZXJBcHBBbHJlYWR5SW5zdGFsbGVkRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTWFuYWdlckFwcEFscmVhZHlJbnN0YWxsZWRcIik7XHJcbnZhciBNYW5hZ2VyQXBwUmVseU9uQlRDRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTWFuYWdlckFwcFJlbHlPbkJUQ1wiKTtcclxudmFyIE1hbmFnZXJBcHBEZXBJbnN0YWxsUmVxdWlyZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTWFuYWdlckFwcERlcEluc3RhbGxSZXF1aXJlZFwiKTtcclxudmFyIE1hbmFnZXJBcHBEZXBVbmluc3RhbGxSZXF1aXJlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJNYW5hZ2VyQXBwRGVwVW5pbnN0YWxsUmVxdWlyZWRcIik7XHJcbnZhciBNYW5hZ2VyRGV2aWNlTG9ja2VkRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTWFuYWdlckRldmljZUxvY2tlZFwiKTtcclxudmFyIE1hbmFnZXJGaXJtd2FyZU5vdEVub3VnaFNwYWNlRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTWFuYWdlckZpcm13YXJlTm90RW5vdWdoU3BhY2VcIik7XHJcbnZhciBNYW5hZ2VyTm90RW5vdWdoU3BhY2VFcnJvciA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJNYW5hZ2VyTm90RW5vdWdoU3BhY2VcIik7XHJcbnZhciBNYW5hZ2VyVW5pbnN0YWxsQlRDRGVwID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIk1hbmFnZXJVbmluc3RhbGxCVENEZXBcIik7XHJcbnZhciBOZXR3b3JrRG93biA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJOZXR3b3JrRG93blwiKTtcclxudmFyIE5vQWRkcmVzc2VzRm91bmQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTm9BZGRyZXNzZXNGb3VuZFwiKTtcclxudmFyIE5vdEVub3VnaEJhbGFuY2UgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTm90RW5vdWdoQmFsYW5jZVwiKTtcclxudmFyIE5vdEVub3VnaEJhbGFuY2VUb0RlbGVnYXRlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIk5vdEVub3VnaEJhbGFuY2VUb0RlbGVnYXRlXCIpO1xyXG52YXIgTm90RW5vdWdoQmFsYW5jZUluUGFyZW50QWNjb3VudCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJOb3RFbm91Z2hCYWxhbmNlSW5QYXJlbnRBY2NvdW50XCIpO1xyXG52YXIgTm90RW5vdWdoU3BlbmRhYmxlQmFsYW5jZSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJOb3RFbm91Z2hTcGVuZGFibGVCYWxhbmNlXCIpO1xyXG52YXIgTm90RW5vdWdoQmFsYW5jZUJlY2F1c2VEZXN0aW5hdGlvbk5vdENyZWF0ZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTm90RW5vdWdoQmFsYW5jZUJlY2F1c2VEZXN0aW5hdGlvbk5vdENyZWF0ZWRcIik7XHJcbnZhciBOb0FjY2Vzc1RvQ2FtZXJhID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIk5vQWNjZXNzVG9DYW1lcmFcIik7XHJcbnZhciBOb3RFbm91Z2hHYXMgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTm90RW5vdWdoR2FzXCIpO1xyXG52YXIgTm90U3VwcG9ydGVkTGVnYWN5QWRkcmVzcyA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJOb3RTdXBwb3J0ZWRMZWdhY3lBZGRyZXNzXCIpO1xyXG52YXIgR2FzTGVzc1RoYW5Fc3RpbWF0ZSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJHYXNMZXNzVGhhbkVzdGltYXRlXCIpO1xyXG52YXIgUGFzc3dvcmRzRG9udE1hdGNoRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiUGFzc3dvcmRzRG9udE1hdGNoXCIpO1xyXG52YXIgUGFzc3dvcmRJbmNvcnJlY3RFcnJvciA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJQYXNzd29yZEluY29ycmVjdFwiKTtcclxudmFyIFJlY29tbWVuZFN1YkFjY291bnRzVG9FbXB0eSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJSZWNvbW1lbmRTdWJBY2NvdW50c1RvRW1wdHlcIik7XHJcbnZhciBSZWNvbW1lbmRVbmRlbGVnYXRpb24gPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiUmVjb21tZW5kVW5kZWxlZ2F0aW9uXCIpO1xyXG52YXIgVGltZW91dFRhZ2dlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJUaW1lb3V0VGFnZ2VkXCIpO1xyXG52YXIgVW5leHBlY3RlZEJvb3Rsb2FkZXIgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiVW5leHBlY3RlZEJvb3Rsb2FkZXJcIik7XHJcbnZhciBNQ1VOb3RHZW51aW5lVG9EYXNoYm9hcmQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTUNVTm90R2VudWluZVRvRGFzaGJvYXJkXCIpO1xyXG52YXIgUmVjaXBpZW50UmVxdWlyZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiUmVjaXBpZW50UmVxdWlyZWRcIik7XHJcbnZhciBVbmF2YWlsYWJsZVRlem9zT3JpZ2luYXRlZEFjY291bnRSZWNlaXZlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVuYXZhaWxhYmxlVGV6b3NPcmlnaW5hdGVkQWNjb3VudFJlY2VpdmVcIik7XHJcbnZhciBVbmF2YWlsYWJsZVRlem9zT3JpZ2luYXRlZEFjY291bnRTZW5kID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVuYXZhaWxhYmxlVGV6b3NPcmlnaW5hdGVkQWNjb3VudFNlbmRcIik7XHJcbnZhciBVcGRhdGVGZXRjaEZpbGVGYWlsID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVwZGF0ZUZldGNoRmlsZUZhaWxcIik7XHJcbnZhciBVcGRhdGVJbmNvcnJlY3RIYXNoID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVwZGF0ZUluY29ycmVjdEhhc2hcIik7XHJcbnZhciBVcGRhdGVJbmNvcnJlY3RTaWcgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiVXBkYXRlSW5jb3JyZWN0U2lnXCIpO1xyXG52YXIgVXBkYXRlWW91ckFwcCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJVcGRhdGVZb3VyQXBwXCIpO1xyXG52YXIgVXNlclJlZnVzZWREZXZpY2VOYW1lQ2hhbmdlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVzZXJSZWZ1c2VkRGV2aWNlTmFtZUNoYW5nZVwiKTtcclxudmFyIFVzZXJSZWZ1c2VkQWRkcmVzcyA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJVc2VyUmVmdXNlZEFkZHJlc3NcIik7XHJcbnZhciBVc2VyUmVmdXNlZEZpcm13YXJlVXBkYXRlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVzZXJSZWZ1c2VkRmlybXdhcmVVcGRhdGVcIik7XHJcbnZhciBVc2VyUmVmdXNlZEFsbG93TWFuYWdlciA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJVc2VyUmVmdXNlZEFsbG93TWFuYWdlclwiKTtcclxudmFyIFVzZXJSZWZ1c2VkT25EZXZpY2UgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiVXNlclJlZnVzZWRPbkRldmljZVwiKTsgLy8gVE9ETyByZW5hbWUgYmVjYXVzZSBpdCdzIGp1c3QgZm9yIHRyYW5zYWN0aW9uIHJlZnVzYWxcclxudmFyIFRyYW5zcG9ydE9wZW5Vc2VyQ2FuY2VsbGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlRyYW5zcG9ydE9wZW5Vc2VyQ2FuY2VsbGVkXCIpO1xyXG52YXIgVHJhbnNwb3J0SW50ZXJmYWNlTm90QXZhaWxhYmxlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlRyYW5zcG9ydEludGVyZmFjZU5vdEF2YWlsYWJsZVwiKTtcclxudmFyIFRyYW5zcG9ydFJhY2VDb25kaXRpb24gPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiVHJhbnNwb3J0UmFjZUNvbmRpdGlvblwiKTtcclxudmFyIFRyYW5zcG9ydFdlYlVTQkdlc3R1cmVSZXF1aXJlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJUcmFuc3BvcnRXZWJVU0JHZXN0dXJlUmVxdWlyZWRcIik7XHJcbnZhciBEZXZpY2VTaG91bGRTdGF5SW5BcHAgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRGV2aWNlU2hvdWxkU3RheUluQXBwXCIpO1xyXG52YXIgV2Vic29ja2V0Q29ubmVjdGlvbkVycm9yID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIldlYnNvY2tldENvbm5lY3Rpb25FcnJvclwiKTtcclxudmFyIFdlYnNvY2tldENvbm5lY3Rpb25GYWlsZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiV2Vic29ja2V0Q29ubmVjdGlvbkZhaWxlZFwiKTtcclxudmFyIFdyb25nRGV2aWNlRm9yQWNjb3VudCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJXcm9uZ0RldmljZUZvckFjY291bnRcIik7XHJcbnZhciBXcm9uZ0FwcEZvckN1cnJlbmN5ID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIldyb25nQXBwRm9yQ3VycmVuY3lcIik7XHJcbnZhciBFVEhBZGRyZXNzTm9uRUlQID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkVUSEFkZHJlc3NOb25FSVBcIik7XHJcbnZhciBDYW50U2NhblFSQ29kZSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJDYW50U2NhblFSQ29kZVwiKTtcclxudmFyIEZlZU5vdExvYWRlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJGZWVOb3RMb2FkZWRcIik7XHJcbnZhciBGZWVSZXF1aXJlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJGZWVSZXF1aXJlZFwiKTtcclxudmFyIEZlZVRvb0hpZ2ggPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRmVlVG9vSGlnaFwiKTtcclxudmFyIFN5bmNFcnJvciA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJTeW5jRXJyb3JcIik7XHJcbnZhciBQYWlyaW5nRmFpbGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlBhaXJpbmdGYWlsZWRcIik7XHJcbnZhciBHZW51aW5lQ2hlY2tGYWlsZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiR2VudWluZUNoZWNrRmFpbGVkXCIpO1xyXG52YXIgTGVkZ2VyQVBJNHh4ID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkxlZGdlckFQSTR4eFwiKTtcclxudmFyIExlZGdlckFQSTV4eCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJMZWRnZXJBUEk1eHhcIik7XHJcbnZhciBGaXJtd2FyZU9yQXBwVXBkYXRlUmVxdWlyZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRmlybXdhcmVPckFwcFVwZGF0ZVJlcXVpcmVkXCIpO1xyXG4vLyBkYiBzdHVmZiwgbm8gbmVlZCB0byB0cmFuc2xhdGVcclxudmFyIE5vREJQYXRoR2l2ZW4gPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTm9EQlBhdGhHaXZlblwiKTtcclxudmFyIERCV3JvbmdQYXNzd29yZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJEQldyb25nUGFzc3dvcmRcIik7XHJcbnZhciBEQk5vdFJlc2V0ID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRCTm90UmVzZXRcIik7XHJcbi8qKlxyXG4gKiBUcmFuc3BvcnRFcnJvciBpcyB1c2VkIGZvciBhbnkgZ2VuZXJpYyB0cmFuc3BvcnQgZXJyb3JzLlxyXG4gKiBlLmcuIEVycm9yIHRocm93biB3aGVuIGRhdGEgcmVjZWl2ZWQgYnkgZXhjaGFuZ2VzIGFyZSBpbmNvcnJlY3Qgb3IgaWYgZXhjaGFuZ2VkIGZhaWxlZCB0byBjb21tdW5pY2F0ZSB3aXRoIHRoZSBkZXZpY2UgZm9yIHZhcmlvdXMgcmVhc29uLlxyXG4gKi9cclxuZnVuY3Rpb24gVHJhbnNwb3J0RXJyb3IobWVzc2FnZSwgaWQpIHtcclxuICAgIHRoaXMubmFtZSA9IFwiVHJhbnNwb3J0RXJyb3JcIjtcclxuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbn1cclxuVHJhbnNwb3J0RXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XHJcbmFkZEN1c3RvbUVycm9yRGVzZXJpYWxpemVyKFwiVHJhbnNwb3J0RXJyb3JcIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG5ldyBUcmFuc3BvcnRFcnJvcihlLm1lc3NhZ2UsIGUuaWQpOyB9KTtcclxudmFyIFN0YXR1c0NvZGVzID0ge1xyXG4gICAgUElOX1JFTUFJTklOR19BVFRFTVBUUzogMHg2M2MwLFxyXG4gICAgSU5DT1JSRUNUX0xFTkdUSDogMHg2NzAwLFxyXG4gICAgTUlTU0lOR19DUklUSUNBTF9QQVJBTUVURVI6IDB4NjgwMCxcclxuICAgIENPTU1BTkRfSU5DT01QQVRJQkxFX0ZJTEVfU1RSVUNUVVJFOiAweDY5ODEsXHJcbiAgICBTRUNVUklUWV9TVEFUVVNfTk9UX1NBVElTRklFRDogMHg2OTgyLFxyXG4gICAgQ09ORElUSU9OU19PRl9VU0VfTk9UX1NBVElTRklFRDogMHg2OTg1LFxyXG4gICAgSU5DT1JSRUNUX0RBVEE6IDB4NmE4MCxcclxuICAgIE5PVF9FTk9VR0hfTUVNT1JZX1NQQUNFOiAweDZhODQsXHJcbiAgICBSRUZFUkVOQ0VEX0RBVEFfTk9UX0ZPVU5EOiAweDZhODgsXHJcbiAgICBGSUxFX0FMUkVBRFlfRVhJU1RTOiAweDZhODksXHJcbiAgICBJTkNPUlJFQ1RfUDFfUDI6IDB4NmIwMCxcclxuICAgIElOU19OT1RfU1VQUE9SVEVEOiAweDZkMDAsXHJcbiAgICBDTEFfTk9UX1NVUFBPUlRFRDogMHg2ZTAwLFxyXG4gICAgVEVDSE5JQ0FMX1BST0JMRU06IDB4NmYwMCxcclxuICAgIE9LOiAweDkwMDAsXHJcbiAgICBNRU1PUllfUFJPQkxFTTogMHg5MjQwLFxyXG4gICAgTk9fRUZfU0VMRUNURUQ6IDB4OTQwMCxcclxuICAgIElOVkFMSURfT0ZGU0VUOiAweDk0MDIsXHJcbiAgICBGSUxFX05PVF9GT1VORDogMHg5NDA0LFxyXG4gICAgSU5DT05TSVNURU5UX0ZJTEU6IDB4OTQwOCxcclxuICAgIEFMR09SSVRITV9OT1RfU1VQUE9SVEVEOiAweDk0ODQsXHJcbiAgICBJTlZBTElEX0tDVjogMHg5NDg1LFxyXG4gICAgQ09ERV9OT1RfSU5JVElBTElaRUQ6IDB4OTgwMixcclxuICAgIEFDQ0VTU19DT05ESVRJT05fTk9UX0ZVTEZJTExFRDogMHg5ODA0LFxyXG4gICAgQ09OVFJBRElDVElPTl9TRUNSRVRfQ09ERV9TVEFUVVM6IDB4OTgwOCxcclxuICAgIENPTlRSQURJQ1RJT05fSU5WQUxJREFUSU9OOiAweDk4MTAsXHJcbiAgICBDT0RFX0JMT0NLRUQ6IDB4OTg0MCxcclxuICAgIE1BWF9WQUxVRV9SRUFDSEVEOiAweDk4NTAsXHJcbiAgICBHUF9BVVRIX0ZBSUxFRDogMHg2MzAwLFxyXG4gICAgTElDRU5TSU5HOiAweDZmNDIsXHJcbiAgICBIQUxURUQ6IDB4NmZhYSxcclxufTtcclxuZnVuY3Rpb24gZ2V0QWx0U3RhdHVzTWVzc2FnZShjb2RlKSB7XHJcbiAgICBzd2l0Y2ggKGNvZGUpIHtcclxuICAgICAgICAvLyBpbXByb3ZlIHRleHQgb2YgbW9zdCBjb21tb24gZXJyb3JzXHJcbiAgICAgICAgY2FzZSAweDY3MDA6XHJcbiAgICAgICAgICAgIHJldHVybiBcIkluY29ycmVjdCBsZW5ndGhcIjtcclxuICAgICAgICBjYXNlIDB4NjgwMDpcclxuICAgICAgICAgICAgcmV0dXJuIFwiTWlzc2luZyBjcml0aWNhbCBwYXJhbWV0ZXJcIjtcclxuICAgICAgICBjYXNlIDB4Njk4MjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiU2VjdXJpdHkgbm90IHNhdGlzZmllZCAoZG9uZ2xlIGxvY2tlZCBvciBoYXZlIGludmFsaWQgYWNjZXNzIHJpZ2h0cylcIjtcclxuICAgICAgICBjYXNlIDB4Njk4NTpcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ29uZGl0aW9uIG9mIHVzZSBub3Qgc2F0aXNmaWVkIChkZW5pZWQgYnkgdGhlIHVzZXI/KVwiO1xyXG4gICAgICAgIGNhc2UgMHg2YTgwOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJJbnZhbGlkIGRhdGEgcmVjZWl2ZWRcIjtcclxuICAgICAgICBjYXNlIDB4NmIwMDpcclxuICAgICAgICAgICAgcmV0dXJuIFwiSW52YWxpZCBwYXJhbWV0ZXIgcmVjZWl2ZWRcIjtcclxuICAgIH1cclxuICAgIGlmICgweDZmMDAgPD0gY29kZSAmJiBjb2RlIDw9IDB4NmZmZikge1xyXG4gICAgICAgIHJldHVybiBcIkludGVybmFsIGVycm9yLCBwbGVhc2UgcmVwb3J0XCI7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEVycm9yIHRocm93biB3aGVuIGEgZGV2aWNlIHJldHVybmVkIGEgbm9uIHN1Y2Nlc3Mgc3RhdHVzLlxyXG4gKiB0aGUgZXJyb3Iuc3RhdHVzQ29kZSBpcyBvbmUgb2YgdGhlIGBTdGF0dXNDb2Rlc2AgZXhwb3J0ZWQgYnkgdGhpcyBsaWJyYXJ5LlxyXG4gKi9cclxuZnVuY3Rpb24gVHJhbnNwb3J0U3RhdHVzRXJyb3Ioc3RhdHVzQ29kZSkge1xyXG4gICAgdGhpcy5uYW1lID0gXCJUcmFuc3BvcnRTdGF0dXNFcnJvclwiO1xyXG4gICAgdmFyIHN0YXR1c1RleHQgPSBPYmplY3Qua2V5cyhTdGF0dXNDb2RlcykuZmluZChmdW5jdGlvbiAoaykgeyByZXR1cm4gU3RhdHVzQ29kZXNba10gPT09IHN0YXR1c0NvZGU7IH0pIHx8XHJcbiAgICAgICAgXCJVTktOT1dOX0VSUk9SXCI7XHJcbiAgICB2YXIgc21zZyA9IGdldEFsdFN0YXR1c01lc3NhZ2Uoc3RhdHVzQ29kZSkgfHwgc3RhdHVzVGV4dDtcclxuICAgIHZhciBzdGF0dXNDb2RlU3RyID0gc3RhdHVzQ29kZS50b1N0cmluZygxNik7XHJcbiAgICB0aGlzLm1lc3NhZ2UgPSBcIkxlZGdlciBkZXZpY2U6IFwiICsgc21zZyArIFwiICgweFwiICsgc3RhdHVzQ29kZVN0ciArIFwiKVwiO1xyXG4gICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xyXG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcclxuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHN0YXR1c1RleHQ7XHJcbn1cclxuVHJhbnNwb3J0U3RhdHVzRXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XHJcbmFkZEN1c3RvbUVycm9yRGVzZXJpYWxpemVyKFwiVHJhbnNwb3J0U3RhdHVzRXJyb3JcIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG5ldyBUcmFuc3BvcnRTdGF0dXNFcnJvcihlLnN0YXR1c0NvZGUpOyB9KTtcblxuZXhwb3J0IHsgQWNjb3VudE5hbWVSZXF1aXJlZEVycm9yLCBBY2NvdW50Tm90U3VwcG9ydGVkLCBBbW91bnRSZXF1aXJlZCwgQmx1ZXRvb3RoUmVxdWlyZWQsIEJ0Y1VubWF0Y2hlZEFwcCwgQ2FudE9wZW5EZXZpY2UsIENhbnRTY2FuUVJDb2RlLCBDYXNoQWRkck5vdFN1cHBvcnRlZCwgQ3VycmVuY3lOb3RTdXBwb3J0ZWQsIERCTm90UmVzZXQsIERCV3JvbmdQYXNzd29yZCwgRGV2aWNlQXBwVmVyaWZ5Tm90U3VwcG9ydGVkLCBEZXZpY2VHZW51aW5lU29ja2V0RWFybHlDbG9zZSwgRGV2aWNlSGFsdGVkLCBEZXZpY2VJbk9TVUV4cGVjdGVkLCBEZXZpY2VOYW1lSW52YWxpZCwgRGV2aWNlTm90R2VudWluZUVycm9yLCBEZXZpY2VPbkRhc2hib2FyZEV4cGVjdGVkLCBEZXZpY2VPbkRhc2hib2FyZFVuZXhwZWN0ZWQsIERldmljZVNob3VsZFN0YXlJbkFwcCwgRGV2aWNlU29ja2V0RmFpbCwgRGV2aWNlU29ja2V0Tm9CdWxrU3RhdHVzLCBEaXNjb25uZWN0ZWREZXZpY2UsIERpc2Nvbm5lY3RlZERldmljZUR1cmluZ09wZXJhdGlvbiwgRVRIQWRkcmVzc05vbkVJUCwgRW5wb2ludENvbmZpZ0Vycm9yLCBFdGhBcHBQbGVhc2VFbmFibGVDb250cmFjdERhdGEsIEZlZUVzdGltYXRpb25GYWlsZWQsIEZlZU5vdExvYWRlZCwgRmVlUmVxdWlyZWQsIEZlZVRvb0hpZ2gsIEZpcm13YXJlTm90UmVjb2duaXplZCwgRmlybXdhcmVPckFwcFVwZGF0ZVJlcXVpcmVkLCBHYXNMZXNzVGhhbkVzdGltYXRlLCBHZW51aW5lQ2hlY2tGYWlsZWQsIEhhcmRSZXNldEZhaWwsIEludmFsaWRBZGRyZXNzLCBJbnZhbGlkQWRkcmVzc0JlY2F1c2VEZXN0aW5hdGlvbklzQWxzb1NvdXJjZSwgSW52YWxpZFhSUFRhZywgTGF0ZXN0TUNVSW5zdGFsbGVkRXJyb3IsIExlZGdlckFQSTR4eCwgTGVkZ2VyQVBJNXh4LCBMZWRnZXJBUElFcnJvciwgTGVkZ2VyQVBJRXJyb3JXaXRoTWVzc2FnZSwgTGVkZ2VyQVBJTm90QXZhaWxhYmxlLCBNQ1VOb3RHZW51aW5lVG9EYXNoYm9hcmQsIE1hbmFnZXJBcHBBbHJlYWR5SW5zdGFsbGVkRXJyb3IsIE1hbmFnZXJBcHBEZXBJbnN0YWxsUmVxdWlyZWQsIE1hbmFnZXJBcHBEZXBVbmluc3RhbGxSZXF1aXJlZCwgTWFuYWdlckFwcFJlbHlPbkJUQ0Vycm9yLCBNYW5hZ2VyRGV2aWNlTG9ja2VkRXJyb3IsIE1hbmFnZXJGaXJtd2FyZU5vdEVub3VnaFNwYWNlRXJyb3IsIE1hbmFnZXJOb3RFbm91Z2hTcGFjZUVycm9yLCBNYW5hZ2VyVW5pbnN0YWxsQlRDRGVwLCBOZXR3b3JrRG93biwgTm9BY2Nlc3NUb0NhbWVyYSwgTm9BZGRyZXNzZXNGb3VuZCwgTm9EQlBhdGhHaXZlbiwgTm90RW5vdWdoQmFsYW5jZSwgTm90RW5vdWdoQmFsYW5jZUJlY2F1c2VEZXN0aW5hdGlvbk5vdENyZWF0ZWQsIE5vdEVub3VnaEJhbGFuY2VJblBhcmVudEFjY291bnQsIE5vdEVub3VnaEJhbGFuY2VUb0RlbGVnYXRlLCBOb3RFbm91Z2hHYXMsIE5vdEVub3VnaFNwZW5kYWJsZUJhbGFuY2UsIE5vdFN1cHBvcnRlZExlZ2FjeUFkZHJlc3MsIFBhaXJpbmdGYWlsZWQsIFBhc3N3b3JkSW5jb3JyZWN0RXJyb3IsIFBhc3N3b3Jkc0RvbnRNYXRjaEVycm9yLCBSZWNpcGllbnRSZXF1aXJlZCwgUmVjb21tZW5kU3ViQWNjb3VudHNUb0VtcHR5LCBSZWNvbW1lbmRVbmRlbGVnYXRpb24sIFN0YXR1c0NvZGVzLCBTeW5jRXJyb3IsIFRpbWVvdXRUYWdnZWQsIFRyYW5zcG9ydEVycm9yLCBUcmFuc3BvcnRJbnRlcmZhY2VOb3RBdmFpbGFibGUsIFRyYW5zcG9ydE9wZW5Vc2VyQ2FuY2VsbGVkLCBUcmFuc3BvcnRSYWNlQ29uZGl0aW9uLCBUcmFuc3BvcnRTdGF0dXNFcnJvciwgVHJhbnNwb3J0V2ViVVNCR2VzdHVyZVJlcXVpcmVkLCBVbmF2YWlsYWJsZVRlem9zT3JpZ2luYXRlZEFjY291bnRSZWNlaXZlLCBVbmF2YWlsYWJsZVRlem9zT3JpZ2luYXRlZEFjY291bnRTZW5kLCBVbmV4cGVjdGVkQm9vdGxvYWRlciwgVW5rbm93bk1DVSwgVXBkYXRlRmV0Y2hGaWxlRmFpbCwgVXBkYXRlSW5jb3JyZWN0SGFzaCwgVXBkYXRlSW5jb3JyZWN0U2lnLCBVcGRhdGVZb3VyQXBwLCBVc2VyUmVmdXNlZEFkZHJlc3MsIFVzZXJSZWZ1c2VkQWxsb3dNYW5hZ2VyLCBVc2VyUmVmdXNlZERldmljZU5hbWVDaGFuZ2UsIFVzZXJSZWZ1c2VkRmlybXdhcmVVcGRhdGUsIFVzZXJSZWZ1c2VkT25EZXZpY2UsIFdlYnNvY2tldENvbm5lY3Rpb25FcnJvciwgV2Vic29ja2V0Q29ubmVjdGlvbkZhaWxlZCwgV3JvbmdBcHBGb3JDdXJyZW5jeSwgV3JvbmdEZXZpY2VGb3JBY2NvdW50LCBhZGRDdXN0b21FcnJvckRlc2VyaWFsaXplciwgY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcywgZGVzZXJpYWxpemVFcnJvciwgZ2V0QWx0U3RhdHVzTWVzc2FnZSwgc2VyaWFsaXplRXJyb3IgfTtcbiIsImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcImV2ZW50c1wiO1xuaW1wb3J0IHsgVHJhbnNwb3J0UmFjZUNvbmRpdGlvbiwgVHJhbnNwb3J0RXJyb3IsIFN0YXR1c0NvZGVzLCBnZXRBbHRTdGF0dXNNZXNzYWdlLCBUcmFuc3BvcnRTdGF0dXNFcnJvciB9IGZyb20gXCJAbGVkZ2VyaHEvZXJyb3JzXCI7XG5leHBvcnQgeyBUcmFuc3BvcnRFcnJvciwgVHJhbnNwb3J0U3RhdHVzRXJyb3IsIFN0YXR1c0NvZGVzLCBnZXRBbHRTdGF0dXNNZXNzYWdlIH07XG4vKipcbiAqL1xuXG4vKipcbiAqIFRyYW5zcG9ydCBkZWZpbmVzIHRoZSBnZW5lcmljIGludGVyZmFjZSB0byBzaGFyZSBiZXR3ZWVuIG5vZGUvdTJmIGltcGxcbiAqIEEgKipEZXNjcmlwdG9yKiogaXMgYSBwYXJhbWV0cmljIHR5cGUgdGhhdCBpcyB1cCB0byBiZSBkZXRlcm1pbmVkIGZvciB0aGUgaW1wbGVtZW50YXRpb24uXG4gKiBpdCBjYW4gYmUgZm9yIGluc3RhbmNlIGFuIElELCBhbiBmaWxlIHBhdGgsIGEgVVJMLC4uLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFuc3BvcnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV4Y2hhbmdlVGltZW91dCA9IDMwMDAwO1xuICAgIHRoaXMudW5yZXNwb25zaXZlVGltZW91dCA9IDE1MDAwO1xuICAgIHRoaXMuZGV2aWNlTW9kZWwgPSBudWxsO1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIHRoaXMuc2VuZCA9IGFzeW5jIChjbGEsIGlucywgcDEsIHAyLCBkYXRhID0gQnVmZmVyLmFsbG9jKDApLCBzdGF0dXNMaXN0ID0gW1N0YXR1c0NvZGVzLk9LXSkgPT4ge1xuICAgICAgaWYgKGRhdGEubGVuZ3RoID49IDI1Nikge1xuICAgICAgICB0aHJvdyBuZXcgVHJhbnNwb3J0RXJyb3IoXCJkYXRhLmxlbmd0aCBleGNlZWQgMjU2IGJ5dGVzIGxpbWl0LiBHb3Q6IFwiICsgZGF0YS5sZW5ndGgsIFwiRGF0YUxlbmd0aFRvb0JpZ1wiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmV4Y2hhbmdlKEJ1ZmZlci5jb25jYXQoW0J1ZmZlci5mcm9tKFtjbGEsIGlucywgcDEsIHAyXSksIEJ1ZmZlci5mcm9tKFtkYXRhLmxlbmd0aF0pLCBkYXRhXSkpO1xuICAgICAgY29uc3Qgc3cgPSByZXNwb25zZS5yZWFkVUludDE2QkUocmVzcG9uc2UubGVuZ3RoIC0gMik7XG5cbiAgICAgIGlmICghc3RhdHVzTGlzdC5zb21lKHMgPT4gcyA9PT0gc3cpKSB7XG4gICAgICAgIHRocm93IG5ldyBUcmFuc3BvcnRTdGF0dXNFcnJvcihzdyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9O1xuXG4gICAgdGhpcy5leGNoYW5nZUJ1c3lQcm9taXNlID0gdm9pZCAwO1xuXG4gICAgdGhpcy5leGNoYW5nZUF0b21pY0ltcGwgPSBhc3luYyBmID0+IHtcbiAgICAgIGlmICh0aGlzLmV4Y2hhbmdlQnVzeVByb21pc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRyYW5zcG9ydFJhY2VDb25kaXRpb24oXCJBbiBhY3Rpb24gd2FzIGFscmVhZHkgcGVuZGluZyBvbiB0aGUgTGVkZ2VyIGRldmljZS4gUGxlYXNlIGRlbnkgb3IgcmVjb25uZWN0LlwiKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlc29sdmVCdXN5O1xuICAgICAgY29uc3QgYnVzeVByb21pc2UgPSBuZXcgUHJvbWlzZShyID0+IHtcbiAgICAgICAgcmVzb2x2ZUJ1c3kgPSByO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmV4Y2hhbmdlQnVzeVByb21pc2UgPSBidXN5UHJvbWlzZTtcbiAgICAgIGxldCB1bnJlc3BvbnNpdmVSZWFjaGVkID0gZmFsc2U7XG4gICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHVucmVzcG9uc2l2ZVJlYWNoZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmVtaXQoXCJ1bnJlc3BvbnNpdmVcIik7XG4gICAgICB9LCB0aGlzLnVucmVzcG9uc2l2ZVRpbWVvdXQpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmKCk7XG5cbiAgICAgICAgaWYgKHVucmVzcG9uc2l2ZVJlYWNoZWQpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJyZXNwb25zaXZlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgaWYgKHJlc29sdmVCdXN5KSByZXNvbHZlQnVzeSgpO1xuICAgICAgICB0aGlzLmV4Y2hhbmdlQnVzeVByb21pc2UgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLl9hcHBBUElsb2NrID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBsb3cgbGV2ZWwgYXBpIHRvIGNvbW11bmljYXRlIHdpdGggdGhlIGRldmljZVxuICAgKiBUaGlzIG1ldGhvZCBpcyBmb3IgaW1wbGVtZW50YXRpb25zIHRvIGltcGxlbWVudCBidXQgc2hvdWxkIG5vdCBiZSBkaXJlY3RseSBjYWxsZWQuXG4gICAqIEluc3RlYWQsIHRoZSByZWNvbW1hbmRlZCB3YXkgaXMgdG8gdXNlIHNlbmQoKSBtZXRob2RcbiAgICogQHBhcmFtIGFwZHUgdGhlIGRhdGEgdG8gc2VuZFxuICAgKiBAcmV0dXJuIGEgUHJvbWlzZSBvZiByZXNwb25zZSBkYXRhXG4gICAqL1xuICBleGNoYW5nZShfYXBkdSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImV4Y2hhbmdlIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuICAvKipcbiAgICogc2V0IHRoZSBcInNjcmFtYmxlIGtleVwiIGZvciB0aGUgbmV4dCBleGNoYW5nZXMgd2l0aCB0aGUgZGV2aWNlLlxuICAgKiBFYWNoIEFwcCBjYW4gaGF2ZSBhIGRpZmZlcmVudCBzY3JhbWJsZSBrZXkgYW5kIHRoZXkgaW50ZXJuYWxseSB3aWxsIHNldCBpdCBhdCBpbnN0YW5jaWF0aW9uLlxuICAgKiBAcGFyYW0ga2V5IHRoZSBzY3JhbWJsZSBrZXlcbiAgICovXG5cblxuICBzZXRTY3JhbWJsZUtleShfa2V5KSB7fVxuICAvKipcbiAgICogY2xvc2UgdGhlIGV4Y2hhbmdlIHdpdGggdGhlIGRldmljZS5cbiAgICogQHJldHVybiBhIFByb21pc2UgdGhhdCBlbmRzIHdoZW4gdGhlIHRyYW5zcG9ydCBpcyBjbG9zZWQuXG4gICAqL1xuXG5cbiAgY2xvc2UoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RlbiB0byBhbiBldmVudCBvbiBhbiBpbnN0YW5jZSBvZiB0cmFuc3BvcnQuXG4gICAqIFRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbiBjYW4gaGF2ZSBzcGVjaWZpYyBldmVudHMuIEhlcmUgaXMgdGhlIGNvbW1vbiBldmVudHM6XG4gICAqICogYFwiZGlzY29ubmVjdFwiYCA6IHRyaWdnZXJlZCBpZiBUcmFuc3BvcnQgaXMgZGlzY29ubmVjdGVkXG4gICAqL1xuICBvbihldmVudE5hbWUsIGNiKSB7XG4gICAgdGhpcy5fZXZlbnRzLm9uKGV2ZW50TmFtZSwgY2IpO1xuICB9XG4gIC8qKlxuICAgKiBTdG9wIGxpc3RlbmluZyB0byBhbiBldmVudCBvbiBhbiBpbnN0YW5jZSBvZiB0cmFuc3BvcnQuXG4gICAqL1xuXG5cbiAgb2ZmKGV2ZW50TmFtZSwgY2IpIHtcbiAgICB0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBjYik7XG4gIH1cblxuICBlbWl0KGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgdGhpcy5fZXZlbnRzLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGUgb3Igbm90IGxvZ3Mgb2YgdGhlIGJpbmFyeSBleGNoYW5nZVxuICAgKi9cblxuXG4gIHNldERlYnVnTW9kZSgpIHtcbiAgICBjb25zb2xlLndhcm4oXCJzZXREZWJ1Z01vZGUgaXMgZGVwcmVjYXRlZC4gdXNlIEBsZWRnZXJocS9sb2dzIGluc3RlYWQuIE5vIGxvZ3MgYXJlIGVtaXR0ZWQgaW4gdGhpcyBhbnltb3JlLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2V0IGEgdGltZW91dCAoaW4gbWlsbGlzZWNvbmRzKSBmb3IgdGhlIGV4Y2hhbmdlIGNhbGwuIE9ubHkgc29tZSB0cmFuc3BvcnQgbWlnaHQgaW1wbGVtZW50IGl0LiAoZS5nLiBVMkYpXG4gICAqL1xuXG5cbiAgc2V0RXhjaGFuZ2VUaW1lb3V0KGV4Y2hhbmdlVGltZW91dCkge1xuICAgIHRoaXMuZXhjaGFuZ2VUaW1lb3V0ID0gZXhjaGFuZ2VUaW1lb3V0O1xuICB9XG4gIC8qKlxuICAgKiBEZWZpbmUgdGhlIGRlbGF5IGJlZm9yZSBlbWl0dGluZyBcInVucmVzcG9uc2l2ZVwiIG9uIGFuIGV4Y2hhbmdlIHRoYXQgZG9lcyBub3QgcmVzcG9uZFxuICAgKi9cblxuXG4gIHNldEV4Y2hhbmdlVW5yZXNwb25zaXZlVGltZW91dCh1bnJlc3BvbnNpdmVUaW1lb3V0KSB7XG4gICAgdGhpcy51bnJlc3BvbnNpdmVUaW1lb3V0ID0gdW5yZXNwb25zaXZlVGltZW91dDtcbiAgfVxuICAvKipcbiAgICogd3JhcHBlciBvbiB0b3Agb2YgZXhjaGFuZ2UgdG8gc2ltcGxpZnkgd29yayBvZiB0aGUgaW1wbGVtZW50YXRpb24uXG4gICAqIEBwYXJhbSBjbGFcbiAgICogQHBhcmFtIGluc1xuICAgKiBAcGFyYW0gcDFcbiAgICogQHBhcmFtIHAyXG4gICAqIEBwYXJhbSBkYXRhXG4gICAqIEBwYXJhbSBzdGF0dXNMaXN0IGlzIGEgbGlzdCBvZiBhY2NlcHRlZCBzdGF0dXMgY29kZSAoc2hvcnRzKS4gWzB4OTAwMF0gYnkgZGVmYXVsdFxuICAgKiBAcmV0dXJuIGEgUHJvbWlzZSBvZiByZXNwb25zZSBidWZmZXJcbiAgICovXG5cblxuICAvKipcbiAgICogY3JlYXRlKCkgYWxsb3dzIHRvIG9wZW4gdGhlIGZpcnN0IGRlc2NyaXB0b3IgYXZhaWxhYmxlIG9yXG4gICAqIHRocm93IGlmIHRoZXJlIGlzIG5vbmUgb3IgaWYgdGltZW91dCBpcyByZWFjaGVkLlxuICAgKiBUaGlzIGlzIGEgbGlnaHQgaGVscGVyLCBhbHRlcm5hdGl2ZSB0byB1c2luZyBsaXN0ZW4oKSBhbmQgb3BlbigpICh0aGF0IHlvdSBtYXkgbmVlZCBmb3IgYW55IG1vcmUgYWR2YW5jZWQgdXNlY2FzZSlcbiAgICogQGV4YW1wbGVcbiAgVHJhbnNwb3J0Rm9vLmNyZWF0ZSgpLnRoZW4odHJhbnNwb3J0ID0+IC4uLilcbiAgICovXG4gIHN0YXRpYyBjcmVhdGUob3BlblRpbWVvdXQgPSAzMDAwLCBsaXN0ZW5UaW1lb3V0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgY29uc3Qgc3ViID0gdGhpcy5saXN0ZW4oe1xuICAgICAgICBuZXh0OiBlID0+IHtcbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgaWYgKHN1Yikgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgaWYgKGxpc3RlblRpbWVvdXRJZCkgY2xlYXJUaW1lb3V0KGxpc3RlblRpbWVvdXRJZCk7XG4gICAgICAgICAgdGhpcy5vcGVuKGUuZGVzY3JpcHRvciwgb3BlblRpbWVvdXQpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGUgPT4ge1xuICAgICAgICAgIGlmIChsaXN0ZW5UaW1lb3V0SWQpIGNsZWFyVGltZW91dChsaXN0ZW5UaW1lb3V0SWQpO1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICBpZiAobGlzdGVuVGltZW91dElkKSBjbGVhclRpbWVvdXQobGlzdGVuVGltZW91dElkKTtcblxuICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgVHJhbnNwb3J0RXJyb3IodGhpcy5FcnJvck1lc3NhZ2VfTm9EZXZpY2VGb3VuZCwgXCJOb0RldmljZUZvdW5kXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbGlzdGVuVGltZW91dElkID0gbGlzdGVuVGltZW91dCA/IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgcmVqZWN0KG5ldyBUcmFuc3BvcnRFcnJvcih0aGlzLkVycm9yTWVzc2FnZV9MaXN0ZW5UaW1lb3V0LCBcIkxpc3RlblRpbWVvdXRcIikpO1xuICAgICAgfSwgbGlzdGVuVGltZW91dCkgOiBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgZGVjb3JhdGVBcHBBUElNZXRob2RzKHNlbGYsIG1ldGhvZHMsIHNjcmFtYmxlS2V5KSB7XG4gICAgZm9yIChsZXQgbWV0aG9kTmFtZSBvZiBtZXRob2RzKSB7XG4gICAgICBzZWxmW21ldGhvZE5hbWVdID0gdGhpcy5kZWNvcmF0ZUFwcEFQSU1ldGhvZChtZXRob2ROYW1lLCBzZWxmW21ldGhvZE5hbWVdLCBzZWxmLCBzY3JhbWJsZUtleSk7XG4gICAgfVxuICB9XG5cbiAgZGVjb3JhdGVBcHBBUElNZXRob2QobWV0aG9kTmFtZSwgZiwgY3R4LCBzY3JhbWJsZUtleSkge1xuICAgIHJldHVybiBhc3luYyAoLi4uYXJncykgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBfYXBwQVBJbG9ja1xuICAgICAgfSA9IHRoaXM7XG5cbiAgICAgIGlmIChfYXBwQVBJbG9jaykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFRyYW5zcG9ydEVycm9yKFwiTGVkZ2VyIERldmljZSBpcyBidXN5IChsb2NrIFwiICsgX2FwcEFQSWxvY2sgKyBcIilcIiwgXCJUcmFuc3BvcnRMb2NrZWRcIikpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLl9hcHBBUElsb2NrID0gbWV0aG9kTmFtZTtcbiAgICAgICAgdGhpcy5zZXRTY3JhbWJsZUtleShzY3JhbWJsZUtleSk7XG4gICAgICAgIHJldHVybiBhd2FpdCBmLmFwcGx5KGN0eCwgYXJncyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aGlzLl9hcHBBUElsb2NrID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbn1cblRyYW5zcG9ydC5pc1N1cHBvcnRlZCA9IHZvaWQgMDtcblRyYW5zcG9ydC5saXN0ID0gdm9pZCAwO1xuVHJhbnNwb3J0Lmxpc3RlbiA9IHZvaWQgMDtcblRyYW5zcG9ydC5vcGVuID0gdm9pZCAwO1xuVHJhbnNwb3J0LkVycm9yTWVzc2FnZV9MaXN0ZW5UaW1lb3V0ID0gXCJObyBMZWRnZXIgZGV2aWNlIGZvdW5kICh0aW1lb3V0KVwiO1xuVHJhbnNwb3J0LkVycm9yTWVzc2FnZV9Ob0RldmljZUZvdW5kID0gXCJObyBMZWRnZXIgZGV2aWNlIGZvdW5kXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc3BvcnQuanMubWFwIiwiLyoqXG4gKiBBIExvZyBvYmplY3RcbiAqL1xubGV0IGlkID0gMDtcbmNvbnN0IHN1YnNjcmliZXJzID0gW107XG4vKipcbiAqIGxvZyBzb21ldGhpbmdcbiAqIEBwYXJhbSB0eXBlIGEgbmFtZXNwYWNlZCBpZGVudGlmaWVyIG9mIHRoZSBsb2cgKGl0IGlzIG5vdCBhIGxldmVsIGxpa2UgXCJkZWJ1Z1wiLCBcImVycm9yXCIgYnV0IG1vcmUgbGlrZSBcImFwZHUtaW5cIiwgXCJhcGR1LW91dFwiLCBldGMuLi4pXG4gKiBAcGFyYW0gbWVzc2FnZSBhIGNsZWFyIG1lc3NhZ2Ugb2YgdGhlIGxvZyBhc3NvY2lhdGVkIHRvIHRoZSB0eXBlXG4gKi9cblxuZXhwb3J0IGNvbnN0IGxvZyA9ICh0eXBlLCBtZXNzYWdlLCBkYXRhKSA9PiB7XG4gIGNvbnN0IG9iaiA9IHtcbiAgICB0eXBlLFxuICAgIGlkOiBTdHJpbmcoKytpZCksXG4gICAgZGF0ZTogbmV3IERhdGUoKVxuICB9O1xuICBpZiAobWVzc2FnZSkgb2JqLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICBpZiAoZGF0YSkgb2JqLmRhdGEgPSBkYXRhO1xuICBkaXNwYXRjaChvYmopO1xufTtcbi8qKlxuICogbGlzdGVuIHRvIGxvZ3MuXG4gKiBAcGFyYW0gY2IgdGhhdCBpcyBjYWxsZWQgZm9yIGVhY2ggZnV0dXJlIGxvZygpIHdpdGggdGhlIExvZyBvYmplY3RcbiAqIEByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUgdGhlIGxpc3RlbmVyXG4gKi9cblxuZXhwb3J0IGNvbnN0IGxpc3RlbiA9IGNiID0+IHtcbiAgc3Vic2NyaWJlcnMucHVzaChjYik7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgY29uc3QgaSA9IHN1YnNjcmliZXJzLmluZGV4T2YoY2IpO1xuXG4gICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAvLyBlcXVpdmFsZW50IG9mIHN1YnNjcmliZXJzLnNwbGljZShpLCAxKSAvLyBodHRwczovL3R3aXR0ZXIuY29tL1JpY2hfSGFycmlzL3N0YXR1cy8xMTI1ODUwMzkxMTU1OTY1OTUyXG4gICAgICBzdWJzY3JpYmVyc1tpXSA9IHN1YnNjcmliZXJzW3N1YnNjcmliZXJzLmxlbmd0aCAtIDFdO1xuICAgICAgc3Vic2NyaWJlcnMucG9wKCk7XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gZGlzcGF0Y2gobG9nKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICB0cnkge1xuICAgICAgc3Vic2NyaWJlcnNbaV0obG9nKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfVxufSAvLyBmb3IgZGVidWcgcHVycG9zZVxuXG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIHdpbmRvdy5fX2xlZGdlckxvZ3NMaXN0ZW4gPSBsaXN0ZW47XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBzaWduLCBpc1N1cHBvcnRlZCB9IGZyb20gXCJ1MmYtYXBpXCI7XG5pbXBvcnQgVHJhbnNwb3J0IGZyb20gXCJAbGVkZ2VyaHEvaHctdHJhbnNwb3J0XCI7XG5pbXBvcnQgeyBsb2cgfSBmcm9tIFwiQGxlZGdlcmhxL2xvZ3NcIjtcbmltcG9ydCB7IFRyYW5zcG9ydEVycm9yIH0gZnJvbSBcIkBsZWRnZXJocS9lcnJvcnNcIjtcblxuZnVuY3Rpb24gd3JhcFUyRlRyYW5zcG9ydEVycm9yKG9yaWdpbmFsRXJyb3IsIG1lc3NhZ2UsIGlkKSB7XG4gIGNvbnN0IGVyciA9IG5ldyBUcmFuc3BvcnRFcnJvcihtZXNzYWdlLCBpZCk7IC8vICRGbG93Rml4TWVcblxuICBlcnIub3JpZ2luYWxFcnJvciA9IG9yaWdpbmFsRXJyb3I7XG4gIHJldHVybiBlcnI7XG59XG5cbmZ1bmN0aW9uIHdyYXBBcGR1KGFwZHUsIGtleSkge1xuICBjb25zdCByZXN1bHQgPSBCdWZmZXIuYWxsb2MoYXBkdS5sZW5ndGgpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXBkdS5sZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdFtpXSA9IGFwZHVbaV0gXiBrZXlbaSAlIGtleS5sZW5ndGhdO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn0gLy8gQ29udmVydCBmcm9tIG5vcm1hbCB0byB3ZWItc2FmZSwgc3RyaXAgdHJhaWxpbmcgXCI9XCJzXG5cblxuY29uc3Qgd2ViU2FmZTY0ID0gYmFzZTY0ID0+IGJhc2U2NC5yZXBsYWNlKC9cXCsvZywgXCItXCIpLnJlcGxhY2UoL1xcLy9nLCBcIl9cIikucmVwbGFjZSgvPSskLywgXCJcIik7IC8vIENvbnZlcnQgZnJvbSB3ZWItc2FmZSB0byBub3JtYWwsIGFkZCB0cmFpbGluZyBcIj1cInNcblxuXG5jb25zdCBub3JtYWw2NCA9IGJhc2U2NCA9PiBiYXNlNjQucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIikgKyBcIj09XCIuc3Vic3RyaW5nKDAsIDMgKiBiYXNlNjQubGVuZ3RoICUgNCk7XG5cbmZ1bmN0aW9uIGF0dGVtcHRFeGNoYW5nZShhcGR1LCB0aW1lb3V0TWlsbGlzLCBzY3JhbWJsZUtleSwgdW53cmFwKSB7XG4gIGNvbnN0IGtleUhhbmRsZSA9IHdyYXBBcGR1KGFwZHUsIHNjcmFtYmxlS2V5KTtcbiAgY29uc3QgY2hhbGxlbmdlID0gQnVmZmVyLmZyb20oXCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwXCIsIFwiaGV4XCIpO1xuICBjb25zdCBzaWduUmVxdWVzdCA9IHtcbiAgICB2ZXJzaW9uOiBcIlUyRl9WMlwiLFxuICAgIGtleUhhbmRsZTogd2ViU2FmZTY0KGtleUhhbmRsZS50b1N0cmluZyhcImJhc2U2NFwiKSksXG4gICAgY2hhbGxlbmdlOiB3ZWJTYWZlNjQoY2hhbGxlbmdlLnRvU3RyaW5nKFwiYmFzZTY0XCIpKSxcbiAgICBhcHBJZDogbG9jYXRpb24ub3JpZ2luXG4gIH07XG4gIGxvZyhcImFwZHVcIiwgXCI9PiBcIiArIGFwZHUudG9TdHJpbmcoXCJoZXhcIikpO1xuICByZXR1cm4gc2lnbihzaWduUmVxdWVzdCwgdGltZW91dE1pbGxpcyAvIDEwMDApLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNpZ25hdHVyZURhdGFcbiAgICB9ID0gcmVzcG9uc2U7XG5cbiAgICBpZiAodHlwZW9mIHNpZ25hdHVyZURhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBCdWZmZXIuZnJvbShub3JtYWw2NChzaWduYXR1cmVEYXRhKSwgXCJiYXNlNjRcIik7XG4gICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICBpZiAoIXVud3JhcCkge1xuICAgICAgICByZXN1bHQgPSBkYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gZGF0YS5zbGljZSg1KTtcbiAgICAgIH1cblxuICAgICAgbG9nKFwiYXBkdVwiLCBcIjw9IFwiICsgcmVzdWx0LnRvU3RyaW5nKFwiaGV4XCIpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IHJlc3BvbnNlO1xuICAgIH1cbiAgfSk7XG59XG5cbmxldCB0cmFuc3BvcnRJbnN0YW5jZXMgPSBbXTtcblxuZnVuY3Rpb24gZW1pdERpc2Nvbm5lY3QoKSB7XG4gIHRyYW5zcG9ydEluc3RhbmNlcy5mb3JFYWNoKHQgPT4gdC5lbWl0KFwiZGlzY29ubmVjdFwiKSk7XG4gIHRyYW5zcG9ydEluc3RhbmNlcyA9IFtdO1xufVxuXG5mdW5jdGlvbiBpc1RpbWVvdXRVMkZFcnJvcih1MmZFcnJvcikge1xuICByZXR1cm4gdTJmRXJyb3IubWV0YURhdGEuY29kZSA9PT0gNTtcbn1cbi8qKlxuICogVTJGIHdlYiBUcmFuc3BvcnQgaW1wbGVtZW50YXRpb25cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgVHJhbnNwb3J0VTJGIGZyb20gXCJAbGVkZ2VyaHEvaHctdHJhbnNwb3J0LXUyZlwiO1xuICogLi4uXG4gKiBUcmFuc3BvcnRVMkYuY3JlYXRlKCkudGhlbih0cmFuc3BvcnQgPT4gLi4uKVxuICovXG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNwb3J0VTJGIGV4dGVuZHMgVHJhbnNwb3J0IHtcbiAgLypcbiAgICovXG5cbiAgLypcbiAgICovXG5cbiAgLyoqXG4gICAqIHN0YXRpYyBmdW5jdGlvbiB0byBjcmVhdGUgYSBuZXcgVHJhbnNwb3J0IGZyb20gYSBjb25uZWN0ZWQgTGVkZ2VyIGRldmljZSBkaXNjb3ZlcmFibGUgdmlhIFUyRiAoYnJvd3NlciBzdXBwb3J0KVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIG9wZW4oXywgX29wZW5UaW1lb3V0ID0gNTAwMCkge1xuICAgIHJldHVybiBuZXcgVHJhbnNwb3J0VTJGKCk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc2NyYW1ibGVLZXkgPSB2b2lkIDA7XG4gICAgdGhpcy51bndyYXAgPSB0cnVlO1xuICAgIHRyYW5zcG9ydEluc3RhbmNlcy5wdXNoKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBFeGNoYW5nZSB3aXRoIHRoZSBkZXZpY2UgdXNpbmcgQVBEVSBwcm90b2NvbC5cbiAgICogQHBhcmFtIGFwZHVcbiAgICogQHJldHVybnMgYSBwcm9taXNlIG9mIGFwZHUgcmVzcG9uc2VcbiAgICovXG5cblxuICBhc3luYyBleGNoYW5nZShhcGR1KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBhdHRlbXB0RXhjaGFuZ2UoYXBkdSwgdGhpcy5leGNoYW5nZVRpbWVvdXQsIHRoaXMuc2NyYW1ibGVLZXksIHRoaXMudW53cmFwKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zdCBpc1UyRkVycm9yID0gdHlwZW9mIGUubWV0YURhdGEgPT09IFwib2JqZWN0XCI7XG5cbiAgICAgIGlmIChpc1UyRkVycm9yKSB7XG4gICAgICAgIGlmIChpc1RpbWVvdXRVMkZFcnJvcihlKSkge1xuICAgICAgICAgIGVtaXREaXNjb25uZWN0KCk7XG4gICAgICAgIH0gLy8gdGhlIHdyYXBwaW5nIG1ha2UgZXJyb3IgbW9yZSB1c2FibGUgYW5kIFwicHJpbnRhYmxlXCIgdG8gdGhlIGVuZCB1c2VyLlxuXG5cbiAgICAgICAgdGhyb3cgd3JhcFUyRlRyYW5zcG9ydEVycm9yKGUsIFwiRmFpbGVkIHRvIHNpZ24gd2l0aCBMZWRnZXIgZGV2aWNlOiBVMkYgXCIgKyBlLm1ldGFEYXRhLnR5cGUsIFwiVTJGX1wiICsgZS5tZXRhRGF0YS5jb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKi9cblxuXG4gIHNldFNjcmFtYmxlS2V5KHNjcmFtYmxlS2V5KSB7XG4gICAgdGhpcy5zY3JhbWJsZUtleSA9IEJ1ZmZlci5mcm9tKHNjcmFtYmxlS2V5LCBcImFzY2lpXCIpO1xuICB9XG4gIC8qKlxuICAgKi9cblxuXG4gIHNldFVud3JhcCh1bndyYXApIHtcbiAgICB0aGlzLnVud3JhcCA9IHVud3JhcDtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIC8vIHUyZiBoYXZlIG5vIHdheSB0byBjbGVhbiB0aGluZ3MgdXBcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxufVxuVHJhbnNwb3J0VTJGLmlzU3VwcG9ydGVkID0gaXNTdXBwb3J0ZWQ7XG5cblRyYW5zcG9ydFUyRi5saXN0ID0gKCkgPT4gLy8gdGhpcyB0cmFuc3BvcnQgaXMgbm90IGRpc2NvdmVyYWJsZSBidXQgd2UgYXJlIGdvaW5nIHRvIGd1ZXNzIGlmIGl0IGlzIGhlcmUgd2l0aCBpc1N1cHBvcnRlZCgpXG5pc1N1cHBvcnRlZCgpLnRoZW4oc3VwcG9ydGVkID0+IHN1cHBvcnRlZCA/IFtudWxsXSA6IFtdKTtcblxuVHJhbnNwb3J0VTJGLmxpc3RlbiA9IG9ic2VydmVyID0+IHtcbiAgbGV0IHVuc3Vic2NyaWJlZCA9IGZhbHNlO1xuICBpc1N1cHBvcnRlZCgpLnRoZW4oc3VwcG9ydGVkID0+IHtcbiAgICBpZiAodW5zdWJzY3JpYmVkKSByZXR1cm47XG5cbiAgICBpZiAoc3VwcG9ydGVkKSB7XG4gICAgICBvYnNlcnZlci5uZXh0KHtcbiAgICAgICAgdHlwZTogXCJhZGRcIixcbiAgICAgICAgZGVzY3JpcHRvcjogbnVsbFxuICAgICAgfSk7XG4gICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYnNlcnZlci5lcnJvcihuZXcgVHJhbnNwb3J0RXJyb3IoXCJVMkYgYnJvd3NlciBzdXBwb3J0IGlzIG5lZWRlZCBmb3IgTGVkZ2VyLiBcIiArIFwiUGxlYXNlIHVzZSBDaHJvbWUsIE9wZXJhIG9yIEZpcmVmb3ggd2l0aCBhIFUyRiBleHRlbnNpb24uIFwiICsgXCJBbHNvIG1ha2Ugc3VyZSB5b3UncmUgb24gYW4gSFRUUFMgY29ubmVjdGlvblwiLCBcIlUyRk5vdFN1cHBvcnRlZFwiKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB1bnN1YnNjcmliZTogKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNwb3J0VTJGLmpzLm1hcCIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSID0gdHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnID8gUmVmbGVjdCA6IG51bGxcbnZhciBSZWZsZWN0QXBwbHkgPSBSICYmIHR5cGVvZiBSLmFwcGx5ID09PSAnZnVuY3Rpb24nXG4gID8gUi5hcHBseVxuICA6IGZ1bmN0aW9uIFJlZmxlY3RBcHBseSh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpO1xuICB9XG5cbnZhciBSZWZsZWN0T3duS2V5c1xuaWYgKFIgJiYgdHlwZW9mIFIub3duS2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWZsZWN0T3duS2V5cyA9IFIub3duS2V5c1xufSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldClcbiAgICAgIC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpKTtcbiAgfTtcbn0gZWxzZSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFByb2Nlc3NFbWl0V2FybmluZyh3YXJuaW5nKSB7XG4gIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2FybikgY29uc29sZS53YXJuKHdhcm5pbmcpO1xufVxuXG52YXIgTnVtYmVySXNOYU4gPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gTnVtYmVySXNOYU4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICBFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5tb2R1bGUuZXhwb3J0cy5vbmNlID0gb25jZTtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDA7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbmZ1bmN0aW9uIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgbGlzdGVuZXIpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyB8fCBhcmcgPCAwIHx8IE51bWJlcklzTmFOKGFyZykpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIGFyZyArICcuJyk7XG4gICAgfVxuICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gIH1cbn0pO1xuXG5FdmVudEVtaXR0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0aGlzLl9ldmVudHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGhpcy5fZXZlbnRzID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykge1xuICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn07XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgTnVtYmVySXNOYU4obikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBuICsgJy4nKTtcbiAgfVxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIF9nZXRNYXhMaXN0ZW5lcnModGhhdCkge1xuICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIF9nZXRNYXhMaXN0ZW5lcnModGhpcyk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMClcbiAgICAgIGVyID0gYXJnc1swXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gTm90ZTogVGhlIGNvbW1lbnRzIG9uIHRoZSBgdGhyb3dgIGxpbmVzIGFyZSBpbnRlbnRpb25hbCwgdGhleSBzaG93XG4gICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfVxuICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmhhbmRsZWQgZXJyb3IuJyArIChlciA/ICcgKCcgKyBlci5tZXNzYWdlICsgJyknIDogJycpKTtcbiAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgfVxuXG4gIHZhciBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFJlZmxlY3RBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0YXJnZXQuX2V2ZW50c0NvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoZXhpc3RpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgKyt0YXJnZXQuX2V2ZW50c0NvdW50O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPVxuICAgICAgICBwcmVwZW5kID8gW2xpc3RlbmVyLCBleGlzdGluZ10gOiBbZXhpc3RpbmcsIGxpc3RlbmVyXTtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB9IGVsc2UgaWYgKHByZXBlbmQpIHtcbiAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICAgIG0gPSBfZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgaWYgKG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0gJiYgIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgIC8vIE5vIGVycm9yIGNvZGUgZm9yIHRoaXMgc2luY2UgaXQgaXMgYSBXYXJuaW5nXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnICcgKyBTdHJpbmcodHlwZSkgKyAnIGxpc3RlbmVycyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0Jyk7XG4gICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgIHcuZW1pdHRlciA9IHRhcmdldDtcbiAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgUHJvY2Vzc0VtaXRXYXJuaW5nKHcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gIGlmICghdGhpcy5maXJlZCkge1xuICAgIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSwgdGhpcy53cmFwRm4pO1xuICAgIHRoaXMuZmlyZWQgPSB0cnVlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsIGFyZ3VtZW50cyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX29uY2VXcmFwKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIHN0YXRlID0geyBmaXJlZDogZmFsc2UsIHdyYXBGbjogdW5kZWZpbmVkLCB0YXJnZXQ6IHRhcmdldCwgdHlwZTogdHlwZSwgbGlzdGVuZXI6IGxpc3RlbmVyIH07XG4gIHZhciB3cmFwcGVkID0gb25jZVdyYXBwZXIuYmluZChzdGF0ZSk7XG4gIHdyYXBwZWQubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgc3RhdGUud3JhcEZuID0gd3JhcHBlZDtcbiAgcmV0dXJuIHdyYXBwZWQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIHRoaXMub24odHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kT25jZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgIGV2ZW50c1t0eXBlXSA9IGxpc3RbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cywgaTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzW3R5cGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcbiAgaWYgKGV2bGlzdGVuZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKVxuICAgIHJldHVybiB1bndyYXAgPyBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXSA6IFtldmxpc3RlbmVyXTtcblxuICByZXR1cm4gdW53cmFwID9cbiAgICB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcikgOiBhcnJheUNsb25lKGV2bGlzdGVuZXIsIGV2bGlzdGVuZXIubGVuZ3RoKTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCB0cnVlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24gcmF3TGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgbikge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKDsgaW5kZXggKyAxIDwgbGlzdC5sZW5ndGg7IGluZGV4KyspXG4gICAgbGlzdFtpbmRleF0gPSBsaXN0W2luZGV4ICsgMV07XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHtcbiAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG9uY2UoZW1pdHRlciwgbmFtZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGVycm9yTGlzdGVuZXIoZXJyKSB7XG4gICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5hbWUsIHJlc29sdmVyKTtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc29sdmVyKCkge1xuICAgICAgaWYgKHR5cGVvZiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICByZXNvbHZlKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgfTtcblxuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCByZXNvbHZlciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIGlmIChuYW1lICE9PSAnZXJyb3InKSB7XG4gICAgICBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBlcnJvckxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgaGFuZGxlciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsICdlcnJvcicsIGhhbmRsZXIsIGZsYWdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgbGlzdGVuZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICBlbWl0dGVyLm9uY2UobmFtZSwgbGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbWl0dGVyLm9uKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIEV2ZW50VGFyZ2V0IGRvZXMgbm90IGhhdmUgYGVycm9yYCBldmVudCBzZW1hbnRpY3MgbGlrZSBOb2RlXG4gICAgLy8gRXZlbnRFbWl0dGVycywgd2UgZG8gbm90IGxpc3RlbiBmb3IgYGVycm9yYCBldmVudHMgaGVyZS5cbiAgICBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZnVuY3Rpb24gd3JhcExpc3RlbmVyKGFyZykge1xuICAgICAgLy8gSUUgZG9lcyBub3QgaGF2ZSBidWlsdGluIGB7IG9uY2U6IHRydWUgfWAgc3VwcG9ydCBzbyB3ZVxuICAgICAgLy8gaGF2ZSB0byBkbyBpdCBtYW51YWxseS5cbiAgICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCB3cmFwTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgbGlzdGVuZXIoYXJnKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGVtaXR0ZXIpO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoICcuL2xpYi91MmYtYXBpJyApOyIsIi8vIENvcHlyaWdodCAyMDE0IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWRcbi8vXG4vLyBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIEJTRC1zdHlsZVxuLy8gbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4vLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9vcGVuLXNvdXJjZS9saWNlbnNlcy9ic2RcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoZSBVMkYgYXBpLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqIE5hbWVzcGFjZSBmb3IgdGhlIFUyRiBhcGkuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgdTJmID0gdTJmIHx8IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHUyZjsgLy8gQWRhcHRhdGlvbiBmb3IgdTJmLWFwaSBwYWNrYWdlXG5cbi8qKlxuICogVGhlIFUyRiBleHRlbnNpb24gaWRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAY29uc3RcbiAqL1xudTJmLkVYVEVOU0lPTl9JRCA9ICdrbWVuZGZhcGdnamVob2RuZGZsbW1nYWdkYmFtaG5mZCc7XG5cbi8qKlxuICogTWVzc2FnZSB0eXBlcyBmb3IgbWVzc3NhZ2VzIHRvL2Zyb20gdGhlIGV4dGVuc2lvblxuICogQGNvbnN0XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG51MmYuTWVzc2FnZVR5cGVzID0ge1xuICAnVTJGX1JFR0lTVEVSX1JFUVVFU1QnOiAndTJmX3JlZ2lzdGVyX3JlcXVlc3QnLFxuICAnVTJGX1NJR05fUkVRVUVTVCc6ICd1MmZfc2lnbl9yZXF1ZXN0JyxcbiAgJ1UyRl9SRUdJU1RFUl9SRVNQT05TRSc6ICd1MmZfcmVnaXN0ZXJfcmVzcG9uc2UnLFxuICAnVTJGX1NJR05fUkVTUE9OU0UnOiAndTJmX3NpZ25fcmVzcG9uc2UnXG59O1xuXG4vKipcbiAqIFJlc3BvbnNlIHN0YXR1cyBjb2Rlc1xuICogQGNvbnN0XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG51MmYuRXJyb3JDb2RlcyA9IHtcbiAgJ09LJzogMCxcbiAgJ09USEVSX0VSUk9SJzogMSxcbiAgJ0JBRF9SRVFVRVNUJzogMixcbiAgJ0NPTkZJR1VSQVRJT05fVU5TVVBQT1JURUQnOiAzLFxuICAnREVWSUNFX0lORUxJR0lCTEUnOiA0LFxuICAnVElNRU9VVCc6IDVcbn07XG5cbi8qKlxuICogQSBtZXNzYWdlIHR5cGUgZm9yIHJlZ2lzdHJhdGlvbiByZXF1ZXN0c1xuICogQHR5cGVkZWYge3tcbiAqICAgdHlwZTogdTJmLk1lc3NhZ2VUeXBlcyxcbiAqICAgc2lnblJlcXVlc3RzOiBBcnJheS48dTJmLlNpZ25SZXF1ZXN0PixcbiAqICAgcmVnaXN0ZXJSZXF1ZXN0czogP0FycmF5Ljx1MmYuUmVnaXN0ZXJSZXF1ZXN0PixcbiAqICAgdGltZW91dFNlY29uZHM6ID9udW1iZXIsXG4gKiAgIHJlcXVlc3RJZDogP251bWJlclxuICogfX1cbiAqL1xudTJmLlJlcXVlc3Q7XG5cbi8qKlxuICogQSBtZXNzYWdlIGZvciByZWdpc3RyYXRpb24gcmVzcG9uc2VzXG4gKiBAdHlwZWRlZiB7e1xuICogICB0eXBlOiB1MmYuTWVzc2FnZVR5cGVzLFxuICogICByZXNwb25zZURhdGE6ICh1MmYuRXJyb3IgfCB1MmYuUmVnaXN0ZXJSZXNwb25zZSB8IHUyZi5TaWduUmVzcG9uc2UpLFxuICogICByZXF1ZXN0SWQ6ID9udW1iZXJcbiAqIH19XG4gKi9cbnUyZi5SZXNwb25zZTtcblxuLyoqXG4gKiBBbiBlcnJvciBvYmplY3QgZm9yIHJlc3BvbnNlc1xuICogQHR5cGVkZWYge3tcbiAqICAgZXJyb3JDb2RlOiB1MmYuRXJyb3JDb2RlcyxcbiAqICAgZXJyb3JNZXNzYWdlOiA/c3RyaW5nXG4gKiB9fVxuICovXG51MmYuRXJyb3I7XG5cbi8qKlxuICogRGF0YSBvYmplY3QgZm9yIGEgc2luZ2xlIHNpZ24gcmVxdWVzdC5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHZlcnNpb246IHN0cmluZyxcbiAqICAgY2hhbGxlbmdlOiBzdHJpbmcsXG4gKiAgIGtleUhhbmRsZTogc3RyaW5nLFxuICogICBhcHBJZDogc3RyaW5nXG4gKiB9fVxuICovXG51MmYuU2lnblJlcXVlc3Q7XG5cbi8qKlxuICogRGF0YSBvYmplY3QgZm9yIGEgc2lnbiByZXNwb25zZS5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGtleUhhbmRsZTogc3RyaW5nLFxuICogICBzaWduYXR1cmVEYXRhOiBzdHJpbmcsXG4gKiAgIGNsaWVudERhdGE6IHN0cmluZ1xuICogfX1cbiAqL1xudTJmLlNpZ25SZXNwb25zZTtcblxuLyoqXG4gKiBEYXRhIG9iamVjdCBmb3IgYSByZWdpc3RyYXRpb24gcmVxdWVzdC5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHZlcnNpb246IHN0cmluZyxcbiAqICAgY2hhbGxlbmdlOiBzdHJpbmcsXG4gKiAgIGFwcElkOiBzdHJpbmdcbiAqIH19XG4gKi9cbnUyZi5SZWdpc3RlclJlcXVlc3Q7XG5cbi8qKlxuICogRGF0YSBvYmplY3QgZm9yIGEgcmVnaXN0cmF0aW9uIHJlc3BvbnNlLlxuICogQHR5cGVkZWYge3tcbiAqICAgcmVnaXN0cmF0aW9uRGF0YTogc3RyaW5nLFxuICogICBjbGllbnREYXRhOiBzdHJpbmdcbiAqIH19XG4gKi9cbnUyZi5SZWdpc3RlclJlc3BvbnNlO1xuXG5cbi8vIExvdyBsZXZlbCBNZXNzYWdlUG9ydCBBUEkgc3VwcG9ydFxuXG4vKipcbiAqIENhbGwgTWVzc2FnZVBvcnQgZGlzY29ubmVjdFxuICovXG51MmYuZGlzY29ubmVjdCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodTJmLnBvcnRfICYmIHUyZi5wb3J0Xy5wb3J0Xykge1xuICAgIHUyZi5wb3J0Xy5wb3J0Xy5kaXNjb25uZWN0KCk7XG4gICAgdTJmLnBvcnRfID0gbnVsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHVwIGEgTWVzc2FnZVBvcnQgdG8gdGhlIFUyRiBleHRlbnNpb24gdXNpbmcgdGhlXG4gKiBhdmFpbGFibGUgbWVjaGFuaXNtcy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKE1lc3NhZ2VQb3J0fHUyZi5XcmFwcGVkQ2hyb21lUnVudGltZVBvcnRfKSl9IGNhbGxiYWNrXG4gKi9cbnUyZi5nZXRNZXNzYWdlUG9ydCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2YgY2hyb21lICE9ICd1bmRlZmluZWQnICYmIGNocm9tZS5ydW50aW1lKSB7XG4gICAgLy8gVGhlIGFjdHVhbCBtZXNzYWdlIGhlcmUgZG9lcyBub3QgbWF0dGVyLCBidXQgd2UgbmVlZCB0byBnZXQgYSByZXBseVxuICAgIC8vIGZvciB0aGUgY2FsbGJhY2sgdG8gcnVuLiBUaHVzLCBzZW5kIGFuIGVtcHR5IHNpZ25hdHVyZSByZXF1ZXN0XG4gICAgLy8gaW4gb3JkZXIgdG8gZ2V0IGEgZmFpbHVyZSByZXNwb25zZS5cbiAgICB2YXIgbXNnID0ge1xuICAgICAgdHlwZTogdTJmLk1lc3NhZ2VUeXBlcy5VMkZfU0lHTl9SRVFVRVNULFxuICAgICAgc2lnblJlcXVlc3RzOiBbXVxuICAgIH07XG4gICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2UodTJmLkVYVEVOU0lPTl9JRCwgbXNnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yKSB7XG4gICAgICAgIC8vIFdlIGFyZSBvbiBhIHdoaXRlbGlzdGVkIG9yaWdpbiBhbmQgY2FuIHRhbGsgZGlyZWN0bHlcbiAgICAgICAgLy8gd2l0aCB0aGUgZXh0ZW5zaW9uLlxuICAgICAgICB1MmYuZ2V0Q2hyb21lUnVudGltZVBvcnRfKGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNocm9tZS5ydW50aW1lIHdhcyBhdmFpbGFibGUsIGJ1dCB3ZSBjb3VsZG4ndCBtZXNzYWdlXG4gICAgICAgIC8vIHRoZSBleHRlbnNpb24gZGlyZWN0bHksIHVzZSBpZnJhbWVcbiAgICAgICAgdTJmLmdldElmcmFtZVBvcnRfKGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBjaHJvbWUucnVudGltZSB3YXMgbm90IGF2YWlsYWJsZSBhdCBhbGwsIHdoaWNoIGlzIG5vcm1hbFxuICAgIC8vIHdoZW4gdGhpcyBvcmlnaW4gZG9lc24ndCBoYXZlIGFjY2VzcyB0byBhbnkgZXh0ZW5zaW9ucy5cbiAgICB1MmYuZ2V0SWZyYW1lUG9ydF8oY2FsbGJhY2spO1xuICB9XG59O1xuXG4vKipcbiAqIENvbm5lY3RzIGRpcmVjdGx5IHRvIHRoZSBleHRlbnNpb24gdmlhIGNocm9tZS5ydW50aW1lLmNvbm5lY3RcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odTJmLldyYXBwZWRDaHJvbWVSdW50aW1lUG9ydF8pfSBjYWxsYmFja1xuICogQHByaXZhdGVcbiAqL1xudTJmLmdldENocm9tZVJ1bnRpbWVQb3J0XyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIHZhciBwb3J0ID0gY2hyb21lLnJ1bnRpbWUuY29ubmVjdCh1MmYuRVhURU5TSU9OX0lELFxuICAgIHsnaW5jbHVkZVRsc0NoYW5uZWxJZCc6IHRydWV9KTtcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBjYWxsYmFjayhudWxsLCBuZXcgdTJmLldyYXBwZWRDaHJvbWVSdW50aW1lUG9ydF8ocG9ydCkpO1xuICB9LCAwKTtcbn07XG5cbi8qKlxuICogQSB3cmFwcGVyIGZvciBjaHJvbWUucnVudGltZS5Qb3J0IHRoYXQgaXMgY29tcGF0aWJsZSB3aXRoIE1lc3NhZ2VQb3J0LlxuICogQHBhcmFtIHtQb3J0fSBwb3J0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbnUyZi5XcmFwcGVkQ2hyb21lUnVudGltZVBvcnRfID0gZnVuY3Rpb24ocG9ydCkge1xuICB0aGlzLnBvcnRfID0gcG9ydDtcbn07XG5cbi8qKlxuICogUG9zdHMgYSBtZXNzYWdlIG9uIHRoZSB1bmRlcmx5aW5nIGNoYW5uZWwuXG4gKiBAcGFyYW0ge09iamVjdH0gbWVzc2FnZVxuICovXG51MmYuV3JhcHBlZENocm9tZVJ1bnRpbWVQb3J0Xy5wcm90b3R5cGUucG9zdE1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gIHRoaXMucG9ydF8ucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG59O1xuXG4vKipcbiAqIEVtdWxhdGVzIHRoZSBIVE1MIDUgYWRkRXZlbnRMaXN0ZW5lciBpbnRlcmZhY2UuIFdvcmtzIG9ubHkgZm9yIHRoZVxuICogb25tZXNzYWdlIGV2ZW50LCB3aGljaCBpcyBob29rZWQgdXAgdG8gdGhlIGNocm9tZS5ydW50aW1lLlBvcnQub25NZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVxuICogQHBhcmFtIHtmdW5jdGlvbih7ZGF0YTogT2JqZWN0fSl9IGhhbmRsZXJcbiAqL1xudTJmLldyYXBwZWRDaHJvbWVSdW50aW1lUG9ydF8ucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICB2YXIgbmFtZSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICBpZiAobmFtZSA9PSAnbWVzc2FnZScgfHwgbmFtZSA9PSAnb25tZXNzYWdlJykge1xuICAgIHRoaXMucG9ydF8ub25NZXNzYWdlLmFkZExpc3RlbmVyKGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgIC8vIEVtdWxhdGUgYSBtaW5pbWFsIE1lc3NhZ2VFdmVudCBvYmplY3RcbiAgICAgIGhhbmRsZXIoeydkYXRhJzogbWVzc2FnZX0pO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1dyYXBwZWRDaHJvbWVSdW50aW1lUG9ydCBvbmx5IHN1cHBvcnRzIG9uTWVzc2FnZScpO1xuICB9XG59O1xuXG4vKipcbiAqIFNldHMgdXAgYW4gZW1iZWRkZWQgdHJhbXBvbGluZSBpZnJhbWUsIHNvdXJjZWQgZnJvbSB0aGUgZXh0ZW5zaW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihNZXNzYWdlUG9ydCl9IGNhbGxiYWNrXG4gKiBAcHJpdmF0ZVxuICovXG51MmYuZ2V0SWZyYW1lUG9ydF8gPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAvLyBDcmVhdGUgdGhlIGlmcmFtZVxuICB2YXIgaWZyYW1lT3JpZ2luID0gJ2Nocm9tZS1leHRlbnNpb246Ly8nICsgdTJmLkVYVEVOU0lPTl9JRDtcbiAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICBpZnJhbWUuc3JjID0gaWZyYW1lT3JpZ2luICsgJy91MmYtY29tbXMuaHRtbCc7XG4gIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZScpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSk7XG5cbiAgdmFyIGhhc0NhbGxlZEJhY2sgPSBmYWxzZTtcblxuICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICB2YXIgcmVhZHkgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgaWYgKG1lc3NhZ2UuZGF0YSA9PSAncmVhZHknKSB7XG4gICAgICBjaGFubmVsLnBvcnQxLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCByZWFkeSk7XG4gICAgICBpZiAoIWhhc0NhbGxlZEJhY2spXG4gICAgICB7XG4gICAgICAgIGhhc0NhbGxlZEJhY2sgPSB0cnVlO1xuICAgICAgICBjYWxsYmFjayhudWxsLCBjaGFubmVsLnBvcnQxKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcignRmlyc3QgZXZlbnQgb24gaWZyYW1lIHBvcnQgd2FzIG5vdCBcInJlYWR5XCInKTtcbiAgICB9XG4gIH07XG4gIGNoYW5uZWwucG9ydDEuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHJlYWR5KTtcbiAgY2hhbm5lbC5wb3J0MS5zdGFydCgpO1xuXG4gIGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgLy8gRGVsaXZlciB0aGUgcG9ydCB0byB0aGUgaWZyYW1lIGFuZCBpbml0aWFsaXplXG4gICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoJ2luaXQnLCBpZnJhbWVPcmlnaW4sIFtjaGFubmVsLnBvcnQyXSk7XG4gIH0pO1xuXG4gIC8vIEdpdmUgdGhpcyAyMDBtcyB0byBpbml0aWFsaXplLCBhZnRlciB0aGF0LCB3ZSB0cmVhdCB0aGlzIG1ldGhvZCBhcyBmYWlsZWRcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBpZiAoIWhhc0NhbGxlZEJhY2spXG4gICAge1xuICAgICAgaGFzQ2FsbGVkQmFjayA9IHRydWU7XG4gICAgICBjYWxsYmFjayhuZXcgRXJyb3IoXCJJRnJhbWUgZXh0ZW5zaW9uIG5vdCBzdXBwb3J0ZWRcIikpO1xuICAgIH1cbiAgfSwgMjAwKTtcbn07XG5cblxuLy8gSGlnaC1sZXZlbCBKUyBBUElcblxuLyoqXG4gKiBEZWZhdWx0IGV4dGVuc2lvbiByZXNwb25zZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gKiBAY29uc3RcbiAqL1xudTJmLkVYVEVOU0lPTl9USU1FT1VUX1NFQyA9IDMwO1xuXG4vKipcbiAqIEEgc2luZ2xldG9uIGluc3RhbmNlIGZvciBhIE1lc3NhZ2VQb3J0IHRvIHRoZSBleHRlbnNpb24uXG4gKiBAdHlwZSB7TWVzc2FnZVBvcnR8dTJmLldyYXBwZWRDaHJvbWVSdW50aW1lUG9ydF99XG4gKiBAcHJpdmF0ZVxuICovXG51MmYucG9ydF8gPSBudWxsO1xuXG4vKipcbiAqIENhbGxiYWNrcyB3YWl0aW5nIGZvciBhIHBvcnRcbiAqIEB0eXBlIHtBcnJheS48ZnVuY3Rpb24oKE1lc3NhZ2VQb3J0fHUyZi5XcmFwcGVkQ2hyb21lUnVudGltZVBvcnRfKSk+fVxuICogQHByaXZhdGVcbiAqL1xudTJmLndhaXRpbmdGb3JQb3J0XyA9IFtdO1xuXG4vKipcbiAqIEEgY291bnRlciBmb3IgcmVxdWVzdElkcy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG51MmYucmVxQ291bnRlcl8gPSAwO1xuXG4vKipcbiAqIEEgbWFwIGZyb20gcmVxdWVzdElkcyB0byBjbGllbnQgY2FsbGJhY2tzXG4gKiBAdHlwZSB7T2JqZWN0LjxudW1iZXIsKGZ1bmN0aW9uKCh1MmYuRXJyb3J8dTJmLlJlZ2lzdGVyUmVzcG9uc2UpKVxuICogICAgICAgICAgICAgICAgICAgICAgIHxmdW5jdGlvbigodTJmLkVycm9yfHUyZi5TaWduUmVzcG9uc2UpKSk+fVxuICogQHByaXZhdGVcbiAqL1xudTJmLmNhbGxiYWNrTWFwXyA9IHt9O1xuXG4vKipcbiAqIENyZWF0ZXMgb3IgcmV0cmlldmVzIHRoZSBNZXNzYWdlUG9ydCBzaW5nbGV0b24gdG8gdXNlLlxuICogQHBhcmFtIHtmdW5jdGlvbigoTWVzc2FnZVBvcnR8dTJmLldyYXBwZWRDaHJvbWVSdW50aW1lUG9ydF8pKX0gY2FsbGJhY2tcbiAqIEBwcml2YXRlXG4gKi9cbnUyZi5nZXRQb3J0U2luZ2xldG9uXyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIGlmICh1MmYucG9ydF8pIHtcbiAgICBjYWxsYmFjayhudWxsLCB1MmYucG9ydF8pO1xuICB9IGVsc2Uge1xuICAgIGlmICh1MmYud2FpdGluZ0ZvclBvcnRfLmxlbmd0aCA9PSAwKSB7XG4gICAgICB1MmYuZ2V0TWVzc2FnZVBvcnQoZnVuY3Rpb24oZXJyLCBwb3J0KSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgdTJmLnBvcnRfID0gcG9ydDtcbiAgICAgICAgICB1MmYucG9ydF8uYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsXG4gICAgICAgICAgICAvKiogQHR5cGUge2Z1bmN0aW9uKEV2ZW50KX0gKi8gKHUyZi5yZXNwb25zZUhhbmRsZXJfKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYXJlZnVsLCBoZXJlIGJlIGFzeW5jIGNhbGxiYWNrcy4gTWF5YmUuXG4gICAgICAgIHdoaWxlICh1MmYud2FpdGluZ0ZvclBvcnRfLmxlbmd0aClcbiAgICAgICAgICB1MmYud2FpdGluZ0ZvclBvcnRfLnNoaWZ0KCkoZXJyLCBwb3J0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB1MmYud2FpdGluZ0ZvclBvcnRfLnB1c2goY2FsbGJhY2spO1xuICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgcmVzcG9uc2UgbWVzc2FnZXMgZnJvbSB0aGUgZXh0ZW5zaW9uLlxuICogQHBhcmFtIHtNZXNzYWdlRXZlbnQuPHUyZi5SZXNwb25zZT59IG1lc3NhZ2VcbiAqIEBwcml2YXRlXG4gKi9cbnUyZi5yZXNwb25zZUhhbmRsZXJfID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICB2YXIgcmVzcG9uc2UgPSBtZXNzYWdlLmRhdGE7XG4gIHZhciByZXFJZCA9IHJlc3BvbnNlWydyZXF1ZXN0SWQnXTtcbiAgaWYgKCFyZXFJZCB8fCAhdTJmLmNhbGxiYWNrTWFwX1tyZXFJZF0pIHtcbiAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIG9yIG1pc3NpbmcgcmVxdWVzdElkIGluIHJlc3BvbnNlLicpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgY2IgPSB1MmYuY2FsbGJhY2tNYXBfW3JlcUlkXTtcbiAgZGVsZXRlIHUyZi5jYWxsYmFja01hcF9bcmVxSWRdO1xuICBjYihudWxsLCByZXNwb25zZVsncmVzcG9uc2VEYXRhJ10pO1xufTtcblxuLyoqXG4gKiBDYWxscyB0aGUgY2FsbGJhY2sgd2l0aCB0cnVlIG9yIGZhbHNlIGFzIGZpcnN0IGFuZCBvbmx5IGFyZ3VtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG51MmYuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICB1MmYuZ2V0UG9ydFNpbmdsZXRvbl8oZnVuY3Rpb24oZXJyLCBwb3J0KSB7XG4gICAgY2FsbGJhY2soIWVycik7XG4gIH0pO1xufVxuXG4vKipcbiAqIERpc3BhdGNoZXMgYW4gYXJyYXkgb2Ygc2lnbiByZXF1ZXN0cyB0byBhdmFpbGFibGUgVTJGIHRva2Vucy5cbiAqIEBwYXJhbSB7QXJyYXkuPHUyZi5TaWduUmVxdWVzdD59IHNpZ25SZXF1ZXN0c1xuICogQHBhcmFtIHtmdW5jdGlvbigodTJmLkVycm9yfHUyZi5TaWduUmVzcG9uc2UpKX0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3RpbWVvdXRTZWNvbmRzXG4gKi9cbnUyZi5zaWduID0gZnVuY3Rpb24oc2lnblJlcXVlc3RzLCBjYWxsYmFjaywgb3B0X3RpbWVvdXRTZWNvbmRzKSB7XG4gIHUyZi5nZXRQb3J0U2luZ2xldG9uXyhmdW5jdGlvbihlcnIsIHBvcnQpIHtcbiAgICBpZiAoZXJyKVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG5cbiAgICB2YXIgcmVxSWQgPSArK3UyZi5yZXFDb3VudGVyXztcbiAgICB1MmYuY2FsbGJhY2tNYXBfW3JlcUlkXSA9IGNhbGxiYWNrO1xuICAgIHZhciByZXEgPSB7XG4gICAgICB0eXBlOiB1MmYuTWVzc2FnZVR5cGVzLlUyRl9TSUdOX1JFUVVFU1QsXG4gICAgICBzaWduUmVxdWVzdHM6IHNpZ25SZXF1ZXN0cyxcbiAgICAgIHRpbWVvdXRTZWNvbmRzOiAodHlwZW9mIG9wdF90aW1lb3V0U2Vjb25kcyAhPT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgICBvcHRfdGltZW91dFNlY29uZHMgOiB1MmYuRVhURU5TSU9OX1RJTUVPVVRfU0VDKSxcbiAgICAgIHJlcXVlc3RJZDogcmVxSWRcbiAgICB9O1xuICAgIHBvcnQucG9zdE1lc3NhZ2UocmVxKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIERpc3BhdGNoZXMgcmVnaXN0ZXIgcmVxdWVzdHMgdG8gYXZhaWxhYmxlIFUyRiB0b2tlbnMuIEFuIGFycmF5IG9mIHNpZ25cbiAqIHJlcXVlc3RzIGlkZW50aWZpZXMgYWxyZWFkeSByZWdpc3RlcmVkIHRva2Vucy5cbiAqIEBwYXJhbSB7QXJyYXkuPHUyZi5SZWdpc3RlclJlcXVlc3Q+fSByZWdpc3RlclJlcXVlc3RzXG4gKiBAcGFyYW0ge0FycmF5Ljx1MmYuU2lnblJlcXVlc3Q+fSBzaWduUmVxdWVzdHNcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKHUyZi5FcnJvcnx1MmYuUmVnaXN0ZXJSZXNwb25zZSkpfSBjYWxsYmFja1xuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfdGltZW91dFNlY29uZHNcbiAqL1xudTJmLnJlZ2lzdGVyID0gZnVuY3Rpb24ocmVnaXN0ZXJSZXF1ZXN0cywgc2lnblJlcXVlc3RzLFxuICAgIGNhbGxiYWNrLCBvcHRfdGltZW91dFNlY29uZHMpIHtcbiAgdTJmLmdldFBvcnRTaW5nbGV0b25fKGZ1bmN0aW9uKGVyciwgcG9ydCkge1xuICAgIGlmIChlcnIpXG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcblxuICAgIHZhciByZXFJZCA9ICsrdTJmLnJlcUNvdW50ZXJfO1xuICAgIHUyZi5jYWxsYmFja01hcF9bcmVxSWRdID0gY2FsbGJhY2s7XG4gICAgdmFyIHJlcSA9IHtcbiAgICAgIHR5cGU6IHUyZi5NZXNzYWdlVHlwZXMuVTJGX1JFR0lTVEVSX1JFUVVFU1QsXG4gICAgICBzaWduUmVxdWVzdHM6IHNpZ25SZXF1ZXN0cyxcbiAgICAgIHJlZ2lzdGVyUmVxdWVzdHM6IHJlZ2lzdGVyUmVxdWVzdHMsXG4gICAgICB0aW1lb3V0U2Vjb25kczogKHR5cGVvZiBvcHRfdGltZW91dFNlY29uZHMgIT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgb3B0X3RpbWVvdXRTZWNvbmRzIDogdTJmLkVYVEVOU0lPTl9USU1FT1VUX1NFQyksXG4gICAgICByZXF1ZXN0SWQ6IHJlcUlkXG4gICAgfTtcbiAgICBwb3J0LnBvc3RNZXNzYWdlKHJlcSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBBUEk7XG5cbnZhciBjaHJvbWVBcGkgPSByZXF1aXJlKCAnLi9nb29nbGUtdTJmLWFwaScgKTtcblxuLy8gRmVhdHVyZSBkZXRlY3Rpb24gKHllcyByZWFsbHkpXG52YXIgaXNCcm93c2VyID0gKCB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyApICYmICEhbmF2aWdhdG9yLnVzZXJBZ2VudDtcbnZhciBpc1NhZmFyaSA9IGlzQnJvd3NlciAmJiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCAvU2FmYXJpXFwvLyApXG5cdCYmICFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCAvQ2hyb21lXFwvLyApO1xudmFyIGlzRURHRSA9IGlzQnJvd3NlciAmJiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCAvRWRnZVxcLzFbMjM0NV0vICk7XG5cbnZhciBfYmFja2VuZCA9IG51bGw7XG5mdW5jdGlvbiBnZXRCYWNrZW5kKCBQcm9taXNlIClcbntcblx0aWYgKCAhX2JhY2tlbmQgKVxuXHRcdF9iYWNrZW5kID0gbmV3IFByb21pc2UoIGZ1bmN0aW9uKCByZXNvbHZlLCByZWplY3QgKVxuXHRcdHtcblx0XHRcdGZ1bmN0aW9uIG5vdFN1cHBvcnRlZCggKVxuXHRcdFx0e1xuXHRcdFx0XHQvLyBOb3RlOyB7bmF0aXZlOiB0cnVlfSBtZWFucyAqbm90KiB1c2luZyBHb29nbGUncyBoYWNrXG5cdFx0XHRcdHJlc29sdmUoIHsgdTJmOiBudWxsLCBuYXRpdmU6IHRydWUgfSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICFpc0Jyb3dzZXIgKVxuXHRcdFx0XHRyZXR1cm4gbm90U3VwcG9ydGVkKCApO1xuXG5cdFx0XHRpZiAoIGlzU2FmYXJpIClcblx0XHRcdFx0Ly8gU2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCBVMkYsIGFuZCB0aGUgU2FmYXJpLUZJRE8tVTJGXG5cdFx0XHRcdC8vIGV4dGVuc2lvbiBsYWNrcyBmdWxsIHN1cHBvcnQgKE11bHRpLWZhY2V0IGFwcHMpLCBzbyB3ZVxuXHRcdFx0XHQvLyBibG9jayBpdCB1bnRpbCBwcm9wZXIgc3VwcG9ydC5cblx0XHRcdFx0cmV0dXJuIG5vdFN1cHBvcnRlZCggKTtcblxuXHRcdFx0dmFyIGhhc05hdGl2ZVN1cHBvcnQgPVxuXHRcdFx0XHQoIHR5cGVvZiB3aW5kb3cudTJmICE9PSAndW5kZWZpbmVkJyApICYmXG5cdFx0XHRcdCggdHlwZW9mIHdpbmRvdy51MmYuc2lnbiA9PT0gJ2Z1bmN0aW9uJyApO1xuXG5cdFx0XHRpZiAoIGhhc05hdGl2ZVN1cHBvcnQgKVxuXHRcdFx0XHRyZXNvbHZlKCB7IHUyZjogd2luZG93LnUyZiwgbmF0aXZlOiB0cnVlIH0gKTtcblxuXHRcdFx0aWYgKCBpc0VER0UgKVxuXHRcdFx0XHQvLyBXZSBkb24ndCB3YW50IHRvIGNoZWNrIGZvciBHb29nbGUncyBleHRlbnNpb24gaGFjayBvbiBFREdFXG5cdFx0XHRcdC8vIGFzIGl0J2xsIGNhdXNlIHRyb3VibGUgKHBvcHVwcywgZXRjKVxuXHRcdFx0XHRyZXR1cm4gbm90U3VwcG9ydGVkKCApO1xuXG5cdFx0XHRpZiAoIGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cDonIClcblx0XHRcdFx0Ly8gVTJGIGlzbid0IHN1cHBvcnRlZCBvdmVyIGh0dHAsIG9ubHkgaHR0cHNcblx0XHRcdFx0cmV0dXJuIG5vdFN1cHBvcnRlZCggKTtcblxuXHRcdFx0aWYgKCB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgPT09ICd1bmRlZmluZWQnIClcblx0XHRcdFx0Ly8gVW5zdXBwb3J0ZWQgYnJvd3NlciwgdGhlIGNocm9tZSBoYWNrIHdvdWxkIHRocm93XG5cdFx0XHRcdHJldHVybiBub3RTdXBwb3J0ZWQoICk7XG5cblx0XHRcdC8vIFRlc3QgZm9yIGdvb2dsZSBleHRlbnNpb24gc3VwcG9ydFxuXHRcdFx0Y2hyb21lQXBpLmlzU3VwcG9ydGVkKCBmdW5jdGlvbiggb2sgKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAoIG9rIClcblx0XHRcdFx0XHRyZXNvbHZlKCB7IHUyZjogY2hyb21lQXBpLCBuYXRpdmU6IGZhbHNlIH0gKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdG5vdFN1cHBvcnRlZCggKTtcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cblx0cmV0dXJuIF9iYWNrZW5kO1xufVxuXG5mdW5jdGlvbiBBUEkoIFByb21pc2UgKVxue1xuXHRyZXR1cm4ge1xuXHRcdGlzU3VwcG9ydGVkICAgOiBpc1N1cHBvcnRlZC5iaW5kKCBQcm9taXNlICksXG5cdFx0ZW5zdXJlU3VwcG9ydCA6IGVuc3VyZVN1cHBvcnQuYmluZCggUHJvbWlzZSApLFxuXHRcdHJlZ2lzdGVyICAgICAgOiByZWdpc3Rlci5iaW5kKCBQcm9taXNlICksXG5cdFx0c2lnbiAgICAgICAgICA6IHNpZ24uYmluZCggUHJvbWlzZSApLFxuXHRcdEVycm9yQ29kZXMgICAgOiBBUEkuRXJyb3JDb2Rlcyxcblx0XHRFcnJvck5hbWVzICAgIDogQVBJLkVycm9yTmFtZXNcblx0fTtcbn1cblxuQVBJLkVycm9yQ29kZXMgPSB7XG5cdENBTkNFTExFRDogLTEsXG5cdE9LOiAwLFxuXHRPVEhFUl9FUlJPUjogMSxcblx0QkFEX1JFUVVFU1Q6IDIsXG5cdENPTkZJR1VSQVRJT05fVU5TVVBQT1JURUQ6IDMsXG5cdERFVklDRV9JTkVMSUdJQkxFOiA0LFxuXHRUSU1FT1VUOiA1XG59O1xuQVBJLkVycm9yTmFtZXMgPSB7XG5cdFwiLTFcIjogXCJDQU5DRUxMRURcIixcblx0XCIwXCI6IFwiT0tcIixcblx0XCIxXCI6IFwiT1RIRVJfRVJST1JcIixcblx0XCIyXCI6IFwiQkFEX1JFUVVFU1RcIixcblx0XCIzXCI6IFwiQ09ORklHVVJBVElPTl9VTlNVUFBPUlRFRFwiLFxuXHRcIjRcIjogXCJERVZJQ0VfSU5FTElHSUJMRVwiLFxuXHRcIjVcIjogXCJUSU1FT1VUXCJcbn07XG5cbmZ1bmN0aW9uIG1ha2VFcnJvciggbXNnLCBlcnIgKVxue1xuXHR2YXIgY29kZSA9IGVyciAhPSBudWxsID8gZXJyLmVycm9yQ29kZSA6IDE7IC8vIERlZmF1bHQgdG8gT1RIRVJfRVJST1Jcblx0dmFyIHR5cGUgPSBBUEkuRXJyb3JOYW1lc1sgJycgKyBjb2RlIF07XG5cdHZhciBlcnJvciA9IG5ldyBFcnJvciggbXNnICk7XG5cdGVycm9yLm1ldGFEYXRhID0ge1xuXHRcdHR5cGU6IHR5cGUsXG5cdFx0Y29kZTogY29kZVxuXHR9XG5cdHJldHVybiBlcnJvcjtcbn1cblxuZnVuY3Rpb24gZGVmZXJQcm9taXNlKCBQcm9taXNlLCBwcm9taXNlIClcbntcblx0dmFyIHJldCA9IHsgfTtcblx0cmV0LnByb21pc2UgPSBuZXcgUHJvbWlzZSggZnVuY3Rpb24oIHJlc29sdmUsIHJlamVjdCApIHtcblx0XHRyZXQucmVzb2x2ZSA9IHJlc29sdmU7XG5cdFx0cmV0LnJlamVjdCA9IHJlamVjdDtcblx0XHRwcm9taXNlLnRoZW4oIHJlc29sdmUsIHJlamVjdCApO1xuXHR9ICk7XG5cdC8qKlxuXHQgKiBSZWplY3QgcmVxdWVzdCBwcm9taXNlIGFuZCBkaXNjb25uZWN0IHBvcnQgaWYgJ2Rpc2Nvbm5lY3QnIGZsYWcgaXMgdHJ1ZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbXNnXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzY29ubmVjdFxuXHQgKi9cblx0cmV0LnByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24oIG1zZywgZGlzY29ubmVjdCApXG5cdHtcblx0XHRnZXRCYWNrZW5kKCBQcm9taXNlIClcblx0XHQudGhlbiggZnVuY3Rpb24oIGJhY2tlbmQgKVxuXHRcdHtcblx0XHRcdGlmICggZGlzY29ubmVjdCAmJiAhYmFja2VuZC5uYXRpdmUgKVxuXHRcdFx0XHRiYWNrZW5kLnUyZi5kaXNjb25uZWN0KCApO1xuXG5cdFx0XHRyZXQucmVqZWN0KCBtYWtlRXJyb3IoIG1zZywgeyBlcnJvckNvZGU6IC0xIH0gKSApO1xuXHRcdH0gKTtcblx0fTtcblx0cmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZGVmZXIoIFByb21pc2UsIGZ1biApXG57XG5cdHJldHVybiBkZWZlclByb21pc2UoIFByb21pc2UsIG5ldyBQcm9taXNlKCBmdW5jdGlvbiggcmVzb2x2ZSwgcmVqZWN0IClcblx0e1xuXHRcdHRyeVxuXHRcdHtcblx0XHRcdGZ1biAmJiBmdW4oIHJlc29sdmUsIHJlamVjdCApO1xuXHRcdH1cblx0XHRjYXRjaCAoIGVyciApXG5cdFx0e1xuXHRcdFx0cmVqZWN0KCBlcnIgKTtcblx0XHR9XG5cdH0gKSApO1xufVxuXG5mdW5jdGlvbiBpc1N1cHBvcnRlZCggKVxue1xuXHR2YXIgUHJvbWlzZSA9IHRoaXM7XG5cblx0cmV0dXJuIGdldEJhY2tlbmQoIFByb21pc2UgKVxuXHQudGhlbiggZnVuY3Rpb24oIGJhY2tlbmQgKVxuXHR7XG5cdFx0cmV0dXJuICEhYmFja2VuZC51MmY7XG5cdH0gKTtcbn1cblxuZnVuY3Rpb24gX2Vuc3VyZVN1cHBvcnQoIGJhY2tlbmQgKVxue1xuXHRpZiAoICFiYWNrZW5kLnUyZiApXG5cdHtcblx0XHRpZiAoIGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cDonIClcblx0XHRcdHRocm93IG5ldyBFcnJvciggXCJVMkYgaXNuJ3Qgc3VwcG9ydGVkIG92ZXIgaHR0cCwgb25seSBodHRwc1wiICk7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCBcIlUyRiBub3Qgc3VwcG9ydGVkXCIgKTtcblx0fVxufVxuXG5mdW5jdGlvbiBlbnN1cmVTdXBwb3J0KCApXG57XG5cdHZhciBQcm9taXNlID0gdGhpcztcblxuXHRyZXR1cm4gZ2V0QmFja2VuZCggUHJvbWlzZSApXG5cdC50aGVuKCBfZW5zdXJlU3VwcG9ydCApO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlciggcmVnaXN0ZXJSZXF1ZXN0cywgc2lnblJlcXVlc3RzIC8qID0gbnVsbCAqLywgdGltZW91dCApXG57XG5cdHZhciBQcm9taXNlID0gdGhpcztcblxuXHRpZiAoICFBcnJheS5pc0FycmF5KCByZWdpc3RlclJlcXVlc3RzICkgKVxuXHRcdHJlZ2lzdGVyUmVxdWVzdHMgPSBbIHJlZ2lzdGVyUmVxdWVzdHMgXTtcblxuXHRpZiAoIHR5cGVvZiBzaWduUmVxdWVzdHMgPT09ICdudW1iZXInICYmIHR5cGVvZiB0aW1lb3V0ID09PSAndW5kZWZpbmVkJyApXG5cdHtcblx0XHR0aW1lb3V0ID0gc2lnblJlcXVlc3RzO1xuXHRcdHNpZ25SZXF1ZXN0cyA9IG51bGw7XG5cdH1cblxuXHRpZiAoICFzaWduUmVxdWVzdHMgKVxuXHRcdHNpZ25SZXF1ZXN0cyA9IFsgXTtcblxuXHRyZXR1cm4gZGVmZXJQcm9taXNlKCBQcm9taXNlLCBnZXRCYWNrZW5kKCBQcm9taXNlIClcblx0LnRoZW4oIGZ1bmN0aW9uKCBiYWNrZW5kIClcblx0e1xuXHRcdF9lbnN1cmVTdXBwb3J0KCBiYWNrZW5kICk7XG5cblx0XHR2YXIgbmF0aXZlID0gYmFja2VuZC5uYXRpdmU7XG5cdFx0dmFyIHUyZiA9IGJhY2tlbmQudTJmO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKCBmdW5jdGlvbiggcmVzb2x2ZSwgcmVqZWN0IClcblx0XHR7XG5cdFx0XHRmdW5jdGlvbiBjYk5hdGl2ZSggcmVzcG9uc2UgKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAoIHJlc3BvbnNlLmVycm9yQ29kZSApXG5cdFx0XHRcdFx0cmVqZWN0KCBtYWtlRXJyb3IoIFwiUmVnaXN0cmF0aW9uIGZhaWxlZFwiLCByZXNwb25zZSApICk7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGRlbGV0ZSByZXNwb25zZS5lcnJvckNvZGU7XG5cdFx0XHRcdFx0cmVzb2x2ZSggcmVzcG9uc2UgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBjYkNocm9tZSggZXJyLCByZXNwb25zZSApXG5cdFx0XHR7XG5cdFx0XHRcdGlmICggZXJyIClcblx0XHRcdFx0XHRyZWplY3QoIGVyciApO1xuXHRcdFx0XHRlbHNlIGlmICggcmVzcG9uc2UuZXJyb3JDb2RlIClcblx0XHRcdFx0XHRyZWplY3QoIG1ha2VFcnJvciggXCJSZWdpc3RyYXRpb24gZmFpbGVkXCIsIHJlc3BvbnNlICkgKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHJlc29sdmUoIHJlc3BvbnNlICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggbmF0aXZlIClcblx0XHRcdHtcblx0XHRcdFx0dmFyIGFwcElkID0gcmVnaXN0ZXJSZXF1ZXN0c1sgMCBdLmFwcElkO1xuXG5cdFx0XHRcdHUyZi5yZWdpc3Rlcihcblx0XHRcdFx0XHRhcHBJZCwgcmVnaXN0ZXJSZXF1ZXN0cywgc2lnblJlcXVlc3RzLCBjYk5hdGl2ZSwgdGltZW91dCApO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHR1MmYucmVnaXN0ZXIoXG5cdFx0XHRcdFx0cmVnaXN0ZXJSZXF1ZXN0cywgc2lnblJlcXVlc3RzLCBjYkNocm9tZSwgdGltZW91dCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSApICkucHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gc2lnbiggc2lnblJlcXVlc3RzLCB0aW1lb3V0IClcbntcblx0dmFyIFByb21pc2UgPSB0aGlzO1xuXG5cdGlmICggIUFycmF5LmlzQXJyYXkoIHNpZ25SZXF1ZXN0cyApIClcblx0XHRzaWduUmVxdWVzdHMgPSBbIHNpZ25SZXF1ZXN0cyBdO1xuXG5cdHJldHVybiBkZWZlclByb21pc2UoIFByb21pc2UsIGdldEJhY2tlbmQoIFByb21pc2UgKVxuXHQudGhlbiggZnVuY3Rpb24oIGJhY2tlbmQgKVxuXHR7XG5cdFx0X2Vuc3VyZVN1cHBvcnQoIGJhY2tlbmQgKTtcblxuXHRcdHZhciBuYXRpdmUgPSBiYWNrZW5kLm5hdGl2ZTtcblx0XHR2YXIgdTJmID0gYmFja2VuZC51MmY7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uKCByZXNvbHZlLCByZWplY3QgKVxuXHRcdHtcblx0XHRcdGZ1bmN0aW9uIGNiTmF0aXZlKCByZXNwb25zZSApXG5cdFx0XHR7XG5cdFx0XHRcdGlmICggcmVzcG9uc2UuZXJyb3JDb2RlIClcblx0XHRcdFx0XHRyZWplY3QoIG1ha2VFcnJvciggXCJTaWduIGZhaWxlZFwiLCByZXNwb25zZSApICk7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGRlbGV0ZSByZXNwb25zZS5lcnJvckNvZGU7XG5cdFx0XHRcdFx0cmVzb2x2ZSggcmVzcG9uc2UgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBjYkNocm9tZSggZXJyLCByZXNwb25zZSApXG5cdFx0XHR7XG5cdFx0XHRcdGlmICggZXJyIClcblx0XHRcdFx0XHRyZWplY3QoIGVyciApO1xuXHRcdFx0XHRlbHNlIGlmICggcmVzcG9uc2UuZXJyb3JDb2RlIClcblx0XHRcdFx0XHRyZWplY3QoIG1ha2VFcnJvciggXCJTaWduIGZhaWxlZFwiLCByZXNwb25zZSApICk7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRyZXNvbHZlKCByZXNwb25zZSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG5hdGl2ZSApXG5cdFx0XHR7XG5cdFx0XHRcdHZhciBhcHBJZCA9IHNpZ25SZXF1ZXN0c1sgMCBdLmFwcElkO1xuXHRcdFx0XHR2YXIgY2hhbGxlbmdlID0gc2lnblJlcXVlc3RzWyAwIF0uY2hhbGxlbmdlO1xuXG5cdFx0XHRcdHUyZi5zaWduKCBhcHBJZCwgY2hhbGxlbmdlLCBzaWduUmVxdWVzdHMsIGNiTmF0aXZlLCB0aW1lb3V0ICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdHUyZi5zaWduKCBzaWduUmVxdWVzdHMsIGNiQ2hyb21lLCB0aW1lb3V0ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9ICkgKS5wcm9taXNlO1xufVxuXG5mdW5jdGlvbiBtYWtlRGVmYXVsdCggZnVuYyApXG57XG5cdEFQSVsgZnVuYyBdID0gZnVuY3Rpb24oIClcblx0e1xuXHRcdGlmICggIWdsb2JhbC5Qcm9taXNlIClcblx0XHRcdC8vIFRoaXMgaXMgdmVyeSB1bmxpa2VseSB0byBldmVyIGhhcHBlbiwgc2luY2UgYnJvd3NlcnNcblx0XHRcdC8vIHN1cHBvcnRpbmcgVTJGIHdpbGwgbW9zdCBsaWtlbHkgc3VwcG9ydCBQcm9taXNlcy5cblx0XHRcdHRocm93IG5ldyBFcnJvciggXCJUaGUgcGxhdGZvcm0gZG9lc24ndCBuYXRpdmVseSBzdXBwb3J0IHByb21pc2VzXCIgKTtcblxuXHRcdHZhciBhcmdzID0gWyBdLnNsaWNlLmNhbGwoIGFyZ3VtZW50cyApO1xuXHRcdHJldHVybiBBUEkoIGdsb2JhbC5Qcm9taXNlIClbIGZ1bmMgXS5hcHBseSggbnVsbCwgYXJncyApO1xuXHR9O1xufVxuXG4vLyBQcm92aWRlIGRlZmF1bHQgZnVuY3Rpb25zIHVzaW5nIHRoZSBidWlsdC1pbiBQcm9taXNlIGlmIGF2YWlsYWJsZS5cbm1ha2VEZWZhdWx0KCAnaXNTdXBwb3J0ZWQnICk7XG5tYWtlRGVmYXVsdCggJ2Vuc3VyZVN1cHBvcnQnICk7XG5tYWtlRGVmYXVsdCggJ3JlZ2lzdGVyJyApO1xubWFrZURlZmF1bHQoICdzaWduJyApO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==