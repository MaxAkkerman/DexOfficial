(self.webpackChunkmy_swap=self.webpackChunkmy_swap||[]).push([[4330],{82458:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,s,"next",e)}function s(e){c(a,r,o,i,s,"throw",e)}i(void 0)}))}}n.r(t),n.d(t,{default:()=>p,checkGnosisSafeContext:()=>u});var s=function(e){return Promise.race([e.getSafeInfo(),new Promise((function(e){return setTimeout(e,200)}))])},u=function(){var e=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t1=s,e.next=3,n.e(5822).then(n.t.bind(n,85822,23));case 3:return e.t2=e.sent.default,e.t3=new e.t2,e.next=7,(0,e.t1)(e.t3);case 7:if(e.t0=!!e.sent,!e.t0){e.next=10;break}e.t0=t();case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const p=function(e){var t,r=e.preferred,a=e.label,c=e.iconSrc,u=e.svg,p=e.networkId,f="https://".concat(4===p?"rinkeby.":"","gnosis-safe.io/app"),l=e.appName?"Then go to APPS and select <b>".concat(e.appName,"</b>."):e.appUrl?"Then go to APPS and add a custom app with the URL:<br /><b>".concat(e.appUrl,"</b>"):"";return{name:a||"Gnosis Safe",iconSrc:c,svg:u||'\n<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 440 440">\n    <path d="M220,9.82C103.92,9.82,9.82,103.92,9.82,220S103.92,430.18,220,430.18,430.18,336.08,430.18,220,336.08,9.82,220,9.82ZM373.83,231.47H276.3a59.41,59.41,0,1,1,.45-20.67h97.08a10.34,10.34,0,1,1,0,20.67Z"/>\n</svg>\n',wallet:(t=i(regeneratorRuntime.mark((function e(t){var r,a,c,i,u,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.createModernProviderInterface,e.next=3,n.e(5822).then(n.t.bind(n,85822,23));case 3:return e.t0=e.sent.default,a=new e.t0,e.next=7,n.e(6844).then(n.bind(n,96844));case 7:return c=e.sent,i=c.SafeAppProvider,e.next=11,s(a);case 11:if(u=e.sent){e.next=14;break}return e.abrupt("return",{provider:void 0,interface:null});case 14:return p=new i(u,a),e.abrupt("return",{provider:p,interface:o(o({},r(p)),{},{connect:function(){return Promise.resolve([u.safeAddress])}})});case 16:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),type:"sdk",link:f,installMessage:function(){return'\n        <p style="font-size: 0.889rem; font-family: inherit; margin: 0.889rem 0;">\n            Click the button below to open the Gnosis Safe interface.<br />\n            '.concat(l,"\n        </p>\n        ")},desktop:!0,mobile:!1,preferred:r}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1zd2FwLy4vbm9kZV9tb2R1bGVzL2JuYy1vbmJvYXJkL2Rpc3QvZXNtL2dub3Npcy0zYmRiYzM2YS5qcyJdLCJuYW1lcyI6WyJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImZvckVhY2giLCJrZXkiLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5Iiwib2JqIiwidmFsdWUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlc29sdmUiLCJyZWplY3QiLCJfbmV4dCIsIl90aHJvdyIsImFyZyIsImluZm8iLCJlcnJvciIsImRvbmUiLCJQcm9taXNlIiwidGhlbiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiZm4iLCJzZWxmIiwidGhpcyIsImFyZ3MiLCJlcnIiLCJ1bmRlZmluZWQiLCJnZXRTYWZlIiwic2RrIiwicmFjZSIsImdldFNhZmVJbmZvIiwic2V0VGltZW91dCIsImNoZWNrR25vc2lzU2FmZUNvbnRleHQiLCJfcmVmIiwicmVnZW5lcmF0b3JSdW50aW1lIiwibWFyayIsIl9jYWxsZWUiLCJzZWxlY3RXYWxsZXQiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInQxIiwidDIiLCJzZW50IiwidDMiLCJ0MCIsImFicnVwdCIsInN0b3AiLCJfeCIsIm9wdGlvbnMiLCJfd2FsbGV0IiwicHJlZmVycmVkIiwibGFiZWwiLCJpY29uU3JjIiwic3ZnIiwibmV0d29ya0lkIiwibGluayIsImNvbmNhdCIsInNhZmVBcHBNZXNzYWdlIiwiYXBwTmFtZSIsImFwcFVybCIsIm5hbWUiLCJ3YWxsZXQiLCJfY2FsbGVlMiIsIl9yZWYyIiwiY3JlYXRlTW9kZXJuUHJvdmlkZXJJbnRlcmZhY2UiLCJfeWllbGQkaW1wb3J0IiwiU2FmZUFwcFByb3ZpZGVyIiwic2FmZSIsInByb3ZpZGVyIiwiX2NvbnRleHQyIiwiY29ubmVjdCIsInNhZmVBZGRyZXNzIiwiX3gyIiwidHlwZSIsImluc3RhbGxNZXNzYWdlIiwiZGVza3RvcCIsIm1vYmlsZSJdLCJtYXBwaW5ncyI6Im1HQUFBLFNBQVNBLEVBQVFDLEVBQVFDLEdBQWtCLElBQUlDLEVBQU9DLE9BQU9ELEtBQUtGLEdBQVMsR0FBSUcsT0FBT0Msc0JBQXVCLENBQUUsSUFBSUMsRUFBVUYsT0FBT0Msc0JBQXNCSixHQUFhQyxJQUFrQkksRUFBVUEsRUFBUUMsUUFBTyxTQUFVQyxHQUFPLE9BQU9KLE9BQU9LLHlCQUF5QlIsRUFBUU8sR0FBS0UsZUFBa0JQLEVBQUtRLEtBQUtDLE1BQU1ULEVBQU1HLEdBQVksT0FBT0gsRUFFbFYsU0FBU1UsRUFBY0MsR0FBVSxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUMsVUFBVUMsT0FBUUYsSUFBSyxDQUFFLElBQUlHLEVBQXlCLE1BQWhCRixVQUFVRCxHQUFhQyxVQUFVRCxHQUFLLEdBQVFBLEVBQUksRUFBS2YsRUFBUUksT0FBT2MsSUFBUyxHQUFNQyxTQUFRLFNBQVVDLEdBQU9DLEVBQWdCUCxFQUFRTSxFQUFLRixFQUFPRSxPQUFzQmhCLE9BQU9rQiwwQkFBNkJsQixPQUFPbUIsaUJBQWlCVCxFQUFRVixPQUFPa0IsMEJBQTBCSixJQUFtQmxCLEVBQVFJLE9BQU9jLElBQVNDLFNBQVEsU0FBVUMsR0FBT2hCLE9BQU9vQixlQUFlVixFQUFRTSxFQUFLaEIsT0FBT0sseUJBQXlCUyxFQUFRRSxPQUFlLE9BQU9OLEVBRTdnQixTQUFTTyxFQUFnQkksRUFBS0wsRUFBS00s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Q0ssRUFBVTlCLEtBQU8sRUFDVixxQ0FFVCxLQUFLLEVBSUgsT0FIQThCLEVBQVV6QixHQUFLeUIsRUFBVTNCLEtBQWMsUUFDdkNoQixFQUFNLElBQUkyQyxFQUFVekIsR0FDcEJ5QixFQUFVOUIsS0FBTyxFQUNWLGdDQUVULEtBQUssRUFJSCxPQUhBMEIsRUFBZ0JJLEVBQVUzQixLQUMxQndCLEVBQWtCRCxFQUFjQyxnQkFDaENHLEVBQVU5QixLQUFPLEdBQ1ZkLEVBQVFDLEdBRWpCLEtBQUssR0FHSCxHQUZBeUMsRUFBT0UsRUFBVTNCLEtBRVAsQ0FDUjJCLEVBQVU5QixLQUFPLEdBQ2pCLE1BR0YsT0FBTzhCLEVBQVV4QixPQUFPLFNBQVUsQ0FDaEN1QixjQUFVNUMsRUFDVixVQUFhLE9BR2pCLEtBQUssR0FFSCxPQURBNEMsRUFBVyxJQUFJRixFQUFnQkMsRUFBTXpDLEdBQzlCMkMsRUFBVXhCLE9BQU8sU0FBVSxDQUNoQ3VCLFNBQVVBLEVBQ1YsVUFBYTlFLEVBQWNBLEVBQWMsR0FBSTBFLEVBQThCSSxJQUFZLEdBQUksQ0FDekZFLFFBQVMsV0FDUCxPQUFPdEQsUUFBUVIsUUFBUSxDQUFDMkQsRUFBS0ksbUJBS3JDLEtBQUssR0FDTCxJQUFLLE1BQ0gsT0FBT0YsRUFBVXZCLFVBR3RCZ0IsT0FHTCxTQUFnQlUsR0FDZCxPQUFPdkIsRUFBUTVELE1BQU1nQyxLQUFNNUIsYUFLL0JnRixLQUFNLE1BQ05sQixLQUFNQSxFQUNObUIsZUFBZ0IsV0FDZCxNQUFPLGtMQUFvTGxCLE9BQU9DLEVBQWdCLDZCQUVwTmtCLFNBQVMsRUFDVEMsUUFBUSxFQUNSMUIsVUFBV0EiLCJmaWxlIjoiNDMzMC5tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG52YXIgZ25vc2lzV2FsbGV0SWNvbiA9IFwiXFxuPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCI0MFxcXCIgaGVpZ2h0PVxcXCI0MFxcXCIgdmlld0JveD1cXFwiMCAwIDQ0MCA0NDBcXFwiPlxcbiAgICA8cGF0aCBkPVxcXCJNMjIwLDkuODJDMTAzLjkyLDkuODIsOS44MiwxMDMuOTIsOS44MiwyMjBTMTAzLjkyLDQzMC4xOCwyMjAsNDMwLjE4LDQzMC4xOCwzMzYuMDgsNDMwLjE4LDIyMCwzMzYuMDgsOS44MiwyMjAsOS44MlpNMzczLjgzLDIzMS40N0gyNzYuM2E1OS40MSw1OS40MSwwLDEsMSwuNDUtMjAuNjdoOTcuMDhhMTAuMzQsMTAuMzQsMCwxLDEsMCwyMC42N1pcXFwiLz5cXG48L3N2Zz5cXG5cIjtcblxudmFyIGdldFNhZmUgPSBmdW5jdGlvbiBnZXRTYWZlKHNkaykge1xuICByZXR1cm4gUHJvbWlzZS5yYWNlKFtzZGsuZ2V0U2FmZUluZm8oKSwgLy8gVGltZW91dCBuZWVkIGFzIHRoaXMgbWV0aG9kIGhhbmdzIHVudGlsIGl0IGNhbiBmaW5kIHRoZSBzYWZlIGluZm9cbiAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlLCAyMDApO1xuICB9KV0pO1xufTtcbi8qKlxyXG4gKiBDaGVja3MgdG8gc2VlIGlmIHdlIGFyZSBhcmUgd2l0aGluIGEgU2FmZSBBcHAgY29udGV4dC4gSWYgd2UgYXJlIGl0IGV4ZWN1dGVzXHJcbiAqIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aGljaCBzZWxmLXNlbGVjdHMgdGhpcyB3YWxsZXQuXHJcbiAqIEBwYXJhbSBzZWxlY3RXYWxsZXQgLSBBIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGNhbiBjYWxsIHRoZSBgd2FsbGV0U2VsZWN0YCBtZXRob2RcclxuICogd2l0aCB0aGUgR25vc2lzIHdhbGxldCBuYW1lLlxyXG4gKi9cblxuXG52YXIgY2hlY2tHbm9zaXNTYWZlQ29udGV4dCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHNlbGVjdFdhbGxldCkge1xuICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIF9jb250ZXh0LnQxID0gZ2V0U2FmZTtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzO1xuICAgICAgICAgICAgcmV0dXJuIGltcG9ydCgnQGdub3Npcy5wbS9zYWZlLWFwcHMtc2RrJyk7XG5cbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBfY29udGV4dC50MiA9IF9jb250ZXh0LnNlbnRbXCJkZWZhdWx0XCJdO1xuICAgICAgICAgICAgX2NvbnRleHQudDMgPSBuZXcgX2NvbnRleHQudDIoKTtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3O1xuICAgICAgICAgICAgcmV0dXJuICgwLCBfY29udGV4dC50MSkoX2NvbnRleHQudDMpO1xuXG4gICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgX2NvbnRleHQudDAgPSAhIV9jb250ZXh0LnNlbnQ7XG5cbiAgICAgICAgICAgIGlmICghX2NvbnRleHQudDApIHtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NvbnRleHQudDAgPSBzZWxlY3RXYWxsZXQoKTtcblxuICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0LnQwKTtcblxuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUpO1xuICB9KSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNoZWNrR25vc2lzU2FmZUNvbnRleHQoX3gpIHtcbiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBnbm9zaXMob3B0aW9ucykge1xuICB2YXIgcHJlZmVycmVkID0gb3B0aW9ucy5wcmVmZXJyZWQsXG4gICAgICBsYWJlbCA9IG9wdGlvbnMubGFiZWwsXG4gICAgICBpY29uU3JjID0gb3B0aW9ucy5pY29uU3JjLFxuICAgICAgc3ZnID0gb3B0aW9ucy5zdmcsXG4gICAgICBuZXR3b3JrSWQgPSBvcHRpb25zLm5ldHdvcmtJZDtcbiAgdmFyIG5ldHdvcmsgPSBuZXR3b3JrSWQgPT09IDQgPyAncmlua2VieS4nIDogJyc7XG4gIHZhciBsaW5rID0gXCJodHRwczovL1wiLmNvbmNhdChuZXR3b3JrLCBcImdub3Npcy1zYWZlLmlvL2FwcFwiKTtcbiAgdmFyIHNhZmVBcHBNZXNzYWdlID0gb3B0aW9ucy5hcHBOYW1lID8gXCJUaGVuIGdvIHRvIEFQUFMgYW5kIHNlbGVjdCA8Yj5cIi5jb25jYXQob3B0aW9ucy5hcHBOYW1lLCBcIjwvYj4uXCIpIDogb3B0aW9ucy5hcHBVcmwgPyBcIlRoZW4gZ28gdG8gQVBQUyBhbmQgYWRkIGEgY3VzdG9tIGFwcCB3aXRoIHRoZSBVUkw6PGJyIC8+PGI+XCIuY29uY2F0KG9wdGlvbnMuYXBwVXJsLCBcIjwvYj5cIikgOiAnJztcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBsYWJlbCB8fCAnR25vc2lzIFNhZmUnLFxuICAgIGljb25TcmM6IGljb25TcmMsXG4gICAgc3ZnOiBzdmcgfHwgZ25vc2lzV2FsbGV0SWNvbixcbiAgICB3YWxsZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfd2FsbGV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihfcmVmMikge1xuICAgICAgICB2YXIgY3JlYXRlTW9kZXJuUHJvdmlkZXJJbnRlcmZhY2UsIHNkaywgX3lpZWxkJGltcG9ydCwgU2FmZUFwcFByb3ZpZGVyLCBzYWZlLCBwcm92aWRlcjtcblxuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGNyZWF0ZU1vZGVyblByb3ZpZGVySW50ZXJmYWNlID0gX3JlZjIuY3JlYXRlTW9kZXJuUHJvdmlkZXJJbnRlcmZhY2U7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbXBvcnQoJ0Bnbm9zaXMucG0vc2FmZS1hcHBzLXNkaycpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDIuc2VudFtcImRlZmF1bHRcIl07XG4gICAgICAgICAgICAgICAgc2RrID0gbmV3IF9jb250ZXh0Mi50MCgpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICByZXR1cm4gaW1wb3J0KCdAZ25vc2lzLnBtL3NhZmUtYXBwcy1wcm92aWRlcicpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICBfeWllbGQkaW1wb3J0ID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgICAgICAgU2FmZUFwcFByb3ZpZGVyID0gX3lpZWxkJGltcG9ydC5TYWZlQXBwUHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U2FmZShzZGspO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgc2FmZSA9IF9jb250ZXh0Mi5zZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKHNhZmUpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCB7XG4gICAgICAgICAgICAgICAgICBwcm92aWRlcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgXCJpbnRlcmZhY2VcIjogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgU2FmZUFwcFByb3ZpZGVyKHNhZmUsIHNkayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwge1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgXCJpbnRlcmZhY2VcIjogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjcmVhdGVNb2Rlcm5Qcm92aWRlckludGVyZmFjZShwcm92aWRlcikpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0OiBmdW5jdGlvbiBjb25uZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW3NhZmUuc2FmZUFkZHJlc3NdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMik7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHdhbGxldChfeDIpIHtcbiAgICAgICAgcmV0dXJuIF93YWxsZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHdhbGxldDtcbiAgICB9KCksXG4gICAgdHlwZTogJ3NkaycsXG4gICAgbGluazogbGluayxcbiAgICBpbnN0YWxsTWVzc2FnZTogZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2UoKSB7XG4gICAgICByZXR1cm4gXCJcXG4gICAgICAgIDxwIHN0eWxlPVxcXCJmb250LXNpemU6IDAuODg5cmVtOyBmb250LWZhbWlseTogaW5oZXJpdDsgbWFyZ2luOiAwLjg4OXJlbSAwO1xcXCI+XFxuICAgICAgICAgICAgQ2xpY2sgdGhlIGJ1dHRvbiBiZWxvdyB0byBvcGVuIHRoZSBHbm9zaXMgU2FmZSBpbnRlcmZhY2UuPGJyIC8+XFxuICAgICAgICAgICAgXCIuY29uY2F0KHNhZmVBcHBNZXNzYWdlLCBcIlxcbiAgICAgICAgPC9wPlxcbiAgICAgICAgXCIpO1xuICAgIH0sXG4gICAgZGVza3RvcDogdHJ1ZSxcbiAgICBtb2JpbGU6IGZhbHNlLFxuICAgIHByZWZlcnJlZDogcHJlZmVycmVkXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdub3NpcztcbmV4cG9ydCB7IGNoZWNrR25vc2lzU2FmZUNvbnRleHQgfTsiXSwic291cmNlUm9vdCI6IiJ9